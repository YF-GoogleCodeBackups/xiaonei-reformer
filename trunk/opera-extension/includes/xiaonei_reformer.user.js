// ==UserScript==
// @name           校内人人网改造器 Xiaonei Reformer
// @namespace      Xiaonei_reformer
// @include        http://renren.com/*
// @include        http://*.renren.com/*
// @exclude        http://*.renren.com/ajaxproxy*
// @exclude        http://wpi.renren.com/*
// @description    让人人网（renren.com）用起来舒服一点
// @version        3.4.6.525
// @miniver        525
// @author         xz
// @homepage       http://xiaonei-reformer.googlecode.com
// @run-at         document-start
// @grant          GM_getValue
// @grant          GM_setValue
// @grant          GM_xmlhttpRequest
// @grant          GM_log
// @grant          GM_getResourceURL
// ==/UserScript==
//
// Copyright (C) 2008-2013 Xu Zhen
//
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.
///
(function(){function d(){var t=0;p("script").each(function(){var n=this.textContent;/get_check\s*:\s*["']?(-?\w+)['"]?/.test(n)&&(e.tokens.reqToken=RegExp.$1,t++),/get_check_x\s*:\s*["']?(\w+)['"]?/.test(n)&&(e.tokens.rtk=RegExp.$1,t++);if(t==2)return!1});if(e.tokens.reqToken==null||e.tokens.rtk==null){var n="token"+Math.floor(Math.random()*1e4),r='var a=document.createElement("div");a.id="'+n+'";'+"a.textContent=JSON.stringify({t1:XN.get_check,t2:XN.get_check_x});"+'a.style.display="none";'+"document.body.appendChild(a);"+'var evt=document.createEvent("HTMLEvents");'+'evt.initEvent("'+n+'",true,true);'+"document.documentElement.dispatchEvent(evt)";p(document).bind(n,function(){var t=p("#"+n).text(),r=JSON.parse(t);e.tokens.reqToken=r.t1,e.tokens.rtk=r.t2,p(document).unbind(n,arguments.callee),p("#"+n).remove()}),Jt(r)}}function v(){var t=".ad-bar, .banner, .wide-banner, .adimgr, .blank-bar, .renrenAdPanel, .side-item.template, .rrdesk, .login-page .with-video .video, .login-page .side-column .video, .ad-box-border, .ad-box, .ad, .share-ads, div.advert-con, .kfc-side, .imAdv, .kfc-banner, .ad_sprite, #sd_ad, #showAD, #huge-ad, #rrtvcSearchTip, #top-ads, #bottom-ads, #main-ads, #n-cAD, #webpager-ad-panel, #ad, #jebe_con_load, #partyLink, #hd_kama, #christmas-box, #pro-clent-ad, div[id^='ad100']:not(#ad1000000064), #ad1000000064>*, div[class^='ad_']:not(#ad_box), .pro-clent-ad, .buddy-clent-ad, .wp-rrzm-popup, .panelbarbutton[style*='width'][style*='97px'], .box-body #flashcontent, .share-success-more>p>a>img[width='280'], img[src*='/adimgs/'], img[src*='adclick'], div[id*='AdBox'], .mentos-lbox, .sec.promotion, iframe[src*='adsupport.renren.com'], .xb-iphone-footer, #right_side_div";/im\.renren\.com/.test(e.url)||(Qt(t),Kt("#ad_box{display:none !important}")),Jt("const jebe_json=null",!0),Jt("if(Object.defineProperty){Object.defineProperty(window,'load_jebe_ads',{value:function(){}})}else if(window.__defineGetter__){window.__defineGetter__('load_jebe_ads',function(){return function(){}})}",!0),$t(1,function(){p("#ad_box").html(""),p(".blank-holder").remove(!0),p("div[class$='-banner']").filter("a[target='_blank']>img").filter({childElementCount:1}).remove(),Jt("window.load_jebe_ads=function(){}"),p("#right_side_div").filter("a[href*='apps.renren.com']").remove();var e=p(".col-right>.extra-side>div").eq(0);e.find("a").each(function(){if(/收起/.test(this.textContent))return e.remove(),!1}),Ut("home")&&p(".ready-to-fix .advert-con").empty()&&(Kt("img.advert-con{display:none !important}"),p("@img").addClass("advert-con").addTo(p(".ready-to-fix")))})}function m(){const e=["head link[rel='stylesheet'][href*='/csspro/themes/'][href*='.css']","#domain_wrapper","#themeLink"];p(e.join(",")).remove(),p("#hometpl_style style").text(""),p("head style").each(function(){var e=p(this);e.text().indexOf("皮肤")>0&&e.text().split("background").length>5&&e.remove()}),p("#diyStyleId").remove(),p("head style").each(function(){var e=p(this);if(e.text().indexOf("url(http://i.static.renren.com")!=-1)return e.remove(),Kt(".menu-bar{margin-bottom:10px}"),!0});if(Ut("profile")&&!Ut("pages")&&!Ut("lover")){var t=p("head>link[href*='profile-skin.css'],head>link[href*='home-all-min.css']");t.empty()&&p("@link").attr({type:"text/css",rel:"stylesheet",href:"http://s.xnimg.cn/csspro/apps/profile-skin.css"}).addTo(p("head"))}}function g(){var e=p(".skin-action, #closeHomeSkin");e.exist()&&(/关闭/.test(e.text())&&e.trigger("click"),Kt("a.skin-action, #closeHomeSkin, #useHomeSkin{display:none}"));var e=p("a[title='关闭皮肤']");e.exist()&&e.trigger("click")}function y(){const e="#tobestar, #realheadbulletin, #noStarNotice, #nostar, #home_nostar";Qt(e)}function b(){const e="#floatBox";Qt(e)}function w(){Kt("#opi,#container{cursor:auto !important}")}function E(){const e="#mask,#preveiwSwf,body>div[style*='1000001']";Qt(e);var t=Kt("html,body{height:auto;overflow:auto}");$t(1,function(){var e=p("link[href*='cartoon.']");e.exist()&&e.remove(),t.remove()})}function S(){Qt("#pendantContenter")}function x(){p("head style").each(function(){var e=p(this);if(e.text().indexOf(".text-article")!=-1)return e.remove(),!0}),p(".blog-wrap").removeClass("blog-wrap")}function T(){p("#blogContent a, #shareBody a").each(function(){var e=p(this);if(Ut("blog",this.href)||Ut("page_blog",this.href)){e.text().length>70&&e.tag("span");return}(Ut("profile",this.href)||Ut("page_home",this.href)||e.text().match(/[\u0100-\uffff]{20,}/))&&e.tag("span")})}function N(){const e="embed[src*='player.swf'], embed[src*='Player.swf'], object[data*='player']";Qt(e)}function C(){const e="div.mod.music, #ZDMusicPlayer";Qt(e)}function k(){const e=".audio-panel,embed[src*='player.swf']";Qt(e)}function L(){const e="#friends-panel";Kt(e+"{display:none !important}")}function A(){const e="#webpager-miniradio";Kt(e+"{display:none !important}")}function O(e){const t={topNotice:".notice-holder, #notice_system",footprint:"#footPrint",myApp:"#site-menu-apps-mine, #site-menu-nav",webFunction:"#site-menu-apps-func",appState:"#appDynamic",recommendApp:".app-center-popup,#apps-count",vipToolbox:"#vipToolBox",recommendGift:"#recommendGift",newFriends:"#recommendFriends,#pymk_home,#pymk_home_2,.pymk.pymk-home,.find-friend-box,#myknowfriend_user",schoolBeauty:"#schoolBeautyBox,#xiaoTaoHua",sponsors:"#sponsorsWidget,.wide-sponsors",birthday:"#homeBirthdayPart",survey:".side-item.sales-poll",friendPhoto:"#friendPhoto",newStar:".star-new,#highSchoolStar",contact:".side-item.get-touch",groups:".site-menu-minigroups, #site-menu-nav>.minigroups",hotSearch:"#allHotSearch,.hotSearch,#hotSearch,#home_hot_search_sb"},n={webFunction:{t:".side-item",f:".web-function"},publicPageAdmin:{t:".site-menu-apps",f:".site-menu-apps-admins"}};if(!Wt("home_gadgets")){var r="";for(var i in t){if(!e[i])continue;r+=t[i]+","}r&&Qt(r.substring(0,r.length-1)),zt("home_gadgets")}e.appList&&Kt("#site-menu-apps-nav{display:none}"),$t(1,function(){for(var t in n)e[t]&&p(n[t].t).filter(n[t].f).remove()})}function M(e){const t={album:"#album.mod, #latestPhotos",blog:"#blog.mod",share:"#share.mod",gift:"#gift.mod",fav:"#kuAi.mod",lover:"#lover-space-div.mod",specialFriends:"#spFriends.mod",mutualFriends:"#cmFriends.mod",visitors:"#visitors.mod",pages:"#pages.mod",friends:"#friends.mod",theme:"li.dressup,#dressup",invitation:".guide-find-friend,p.inviteguys",introduceFriends:"#commend-friends",musicPlayer:"#zidou_music,#ZDMusicPlayer",activity:"#gift-act.mod,.extra-side>*[class$='-con'],.extra-side>*[class*='-con ']"};var n="";for(var r in e){if(!e[r])continue;n+=t[r]+","}n&&Qt(n.substring(0,n.length-1)),e.activity&&$t(1,function(){var e=p(".col-right>.extra-side>div").eq(0);e.find("a").each(function(){if(/退出活动/.test(this.textContent))return e.remove(),!1})})}function _(e){var t="";e.appRequest&&(t+="#appsItem_26{display:none !important}"),e.friendRequest&&e.recommendRequest&&(t+=".side-item.message-box .friend-new sup{display:none !important}, .message-box dt.friend-new{background-position:12px -28px}"),e.notifyRequest&&e.pokeRequest&&e.loverRequest&&e.xiaozuRequest&&(t+=".side-item.message-box .desire-new sup{display:none !important}, .message-box dt.desire-new{background-position:12px -98px}"),e.addbookRequest&&e.tagRequest&&(t+=".side-item.message-box .remind-new sup{display:none !important}, .message-box dt.remind-new{background-position:12px -170px}"),t&&Kt(t)}function D(e,t,n,r){(e["appRequest"]==1||t==1)&&Zt("http://app.renren.com/app/appRequestList",function(e){if(e==null)return;var n,r=/ignore_all_request\((\d+),(\d+),'(.*?)'\)/g,i=[];while(n=r.exec(e))t==1?i.push("http://app.renren.com/req/blockAppRequest/block?action=block&type="+n[1]+"&appId="+n[2]):i.push("http://app.renren.com/request/ignoreAppRequest.do?type="+n[1]+"&appId="+n[2]);var s=function(){if(i.length>0){var e=i.shift();Zt(e,s,null,"POST")}};s()}),n&&Zt("http://notify.renren.com/rmessage/rmessage-rmall.html?view=16&bigtype=3",null,null,"POST"),r&&Zt("http://notify.renren.com/rmessage/get?getbybigtype=1&bigtype=1&limit=20&begin=1&view=16&rand="+Math.random(),function(e){try{var t=JSON.parse(e)}catch(n){return}var r=[];for(var i=0;i<t.length;i++){var s=t[i].rmessagecallback;s&&r.push(s)}var o=function(){if(r.length>0){var e=r.shift();Zt(e,o,null,"POST")}};o()}),(e.tagRequest||e.recommendRequest||e.loverRequest||e.xiaozuRequest||e.addbookRequest||e.friendRequest||e.pageRequest)&&Zt("http://req.renren.com/xmc/gmc",function(t){var n=[];if(e.friendRequest){var r,i=/friend_refuse:(\d+)/g;while(r=i.exec(t))n.push("http://friend.renren.com/rejguereq.do?id="+r[1])}if(e.tagRequest){var r,i=/tagPhoto_refuse:(\d+)/g;while(r=i.exec(t))n.push("http://photo.renren.com/refuseptrequest.do?id="+r[1])}if(e.recommendRequest){var r,i=/tuijian_refuse:(\d+),\S+?,(\d+)/g;while(r=i.exec(t))n.push("http://friend.renren.com/j_f_deny_rcd?r="+r[1]+"&s="+r[2])}if(e.loverRequest){var r,i=/lover_ignore:.*?id=(\d+)/g;while(r=i.exec(t))n.push("http://lover.renren.com/love/request/accept?id="+r[1])}if(e.xiaozuRequest){var r,i=/xiaozuInvite_refuse:.*?\/(\d+)\//g;while(r=i.exec(t))n.push("http://xiaozu.renren.com/xiaozu/"+r[1]+"/invite/refuse")}if(e.xiaozhanRequest){var r,i=/xiaozhan_refuse:([^,]+),(\d+),(\d+),/g;while(r=i.exec(t))n.push("http://zhan.renren.com/"+r[1]+"/recommend/refuse?inviterId="+r[2]+"&siteId="+r[3]);var i=/xzInvite_refuse:([^,]+),(\d+),(\d+),/g;while(r=i.exec(t))n.push("http://zhan.renren.com/"+r[1]+"/zhanCreateInvite/refuse?inviterId="+r[2]+"&siteId="+r[3])}if(e.addbookRequest){var r,i=/addr_refuse:(\d+)/g;while(r=i.exec(t))n.push("http://www.renren.com/address/ignorecard?id="+r[1])}if(e.pageRequest){var r,i=/pageInvite_refuse:(\d+),(\d+)/g;while(r=i.exec(t))n.push("http://page.renren.com/apply/ignore?rid="+r[1]+"&pid="+r[2])}var s=function(){if(n.length>0){var e=n.shift();Zt(e,s,null,"POST")}};s()})}function P(){function e(e,t,n,r,i){var s=p("#requests_"+e+"_header");if(s.size()!=1)return;var o=p("@a").attr({href:"javascript:;",style:"margin-left:10px"});o.text("全部"+t).addTo(s).bind("click",function(){if(!window.confirm("确实要"+t+"所有列出的"+n+"吗？"))return;var s=[];p("#requests_"+e+"_list button[click^='"+e+"_accept:']").each(function(){var e=i.exec(p(this).attr("click"));if(e){var t=r;for(var n=0;n<e.length;n++)t=t.replace("${"+n+"}",e[n]);s.push(t)}});var o=s.length,u=p("@div").css({zIndex:"999999",width:"100%",height:"100%",position:"fixed",background:"rgba(0,0,0,0.8)",color:"#fff",left:0,top:0,textAlign:"center",verticalAlign:"middle",lineHeight:document.documentElement.clientHeight+"px"}).addTo(document);if(o>0){var a=function(){if(s.length>0){u.text("处理中，请稍候..."+Math.floor((o-s.length)*100/o)+"%");var e=s.shift();Zt(e,a,null,"POST")}else u.text("已经"+t+"了所有"+n+"，将刷新页面……"),window.location.reload()};a()}})}e("friend","接受","好友申请","http://friend.renren.com/ApplyGuestRequest.do?friendId=${0}",/\d+/),e("friend","拒绝","好友申请","http://friend.renren.com/rejguereq.do?id=${0}",/\d+/),e("tuijian","接受","好友推荐","http://friend.renren.com/ajax_request_friend.do?from=req.renren.com/xmc/gmc&codeFlag=0&code=&why=&id=${1}&matchmaker=${2}",/:(\d+),[^,]+,[^,]+,(\d+)/),e("tuijian","忽略","好友推荐","http://friend.renren.com/j_f_deny_rcd?r=${1}&s=${2}",/:(\d+),[^,]+,[^,]+,(\d+)/),e("tagPhoto","接受","圈人请求","http://photo.renren.com/acceptptrequest.do?id=${0}",/\d+/),e("tagPhoto","拒绝","圈人请求","http://photo.renren.com/refuseptrequest.do?id=${0}",/\d+/),e("addr","接受","交换名片请求","http://www.renren.com/address/acceptcard?id=${0}",/\d+/),e("addr","拒绝","交换名片请求","http://www.renren.com/address/ignorecard?id=${0}",/\d+/),e("xiaozuInvite","接受","小组邀请","http://xiaozu.renren.com/xiaozu/${1}/add",/\/(\d+)\//),e("xiaozuInvite","忽略","小组邀请","http://xiaozu.renren.com/xiaozu/${1}/invite/refuse",/\/(\d+)\//),e("xiaozhan","接受","小站推荐","http://zhan.renren.com/${1}/recommend/accept?inviterId=${2}&siteId=${3}",/:([^,]+),(\d+),(\d+),/),e("xiaozhan","忽略","小站推荐","http://zhan.renren.com/${1}/recommend/reject?inviterId=${2}&siteId=${3}",/:([^,]+),(\d+),(\d+),/),e("xzInvite","接受","小站邀请","http://zhan.renren.com/${1}/zhanCreateInvite/accept?inviterId=${2}&siteId=${3}",/:([^,]+),(\d+),(\d+),/),e("xzInvite","忽略","小站邀请","http://zhan.renren.com/${1}/zhanCreateInvite/reject?inviterId=${2}&siteId=${3}",/:([^,]+),(\d+),(\d+),/),e("appmessage","接受","应用请求","http://app.renren.com/request/handleRequest.do?rid=${1}&appId=${2}&type=${3}",/:(\d+),(\d+),(\d+)/),e("appmessage","拒绝","应用请求","http://app.renren.com/request/ignoreAppRequest.do?rid=${1}&appId=${2}&type=${3}",/:(\d+),(\d+),(\d+)/),e("pageInvite","接受","应用请求","http://page.renren.com/apply/accept?rid=${1}&pid=${2}",/:(\d+),[^,]+,(\d+)/),e("pageInvite","拒绝","应用请求","http://page.renren.com/apply/ignore?rid=${1}&pid=${2}",/:(\d+),[^,]+,(\d+)/)}function H(){Kt("#navMessage .remind i, #bubbleRemind{display:none !important}")}function B(){Kt("#navMessage .notice i, #bubbleNotice{display:none !important}")}function j(e,t,n,r,i,s,o,u,a,f){if(e&&e.target.tagName!="ARTICLE")return;if(a){f=parseInt(f);var l=new Date(new Date-f*864e5),c=(new Date).getMonth()+1,h={m:l.getMonth()+1,d:l.getDate()}}if(o&&(t.share==0||t.status==0))var d="a[href*='profile.do?id="+o.split("|").join("'],a[href*='profile.do?id=")+"'],"+"a[href*='page.renren.com/"+o.split("|").join("'],a[href*='page.renren.com/")+"']";if(u)var v="a[href*='profile.do?id="+u.split("|").join("'],a[href*='profile.do?id=")+"']";if(i)var m=i.replace(/\s/g,"").toLowerCase().split("|").filter(function(e){return!!e});if(s)var g=s.toLowerCase().split("\n").filter(function(e){return!!e});(e?p(e.target):p("div.feed-list>article")).filter(function(e){var n=p(e),l=n.find("h3"),y=n.find(".content").find(".title,.video-title,.blog-title,.link-title").text(),b=n.find(".content .original-stauts"),w=n.find(".details .legend span.from").text().replace(/\s/g,"").replace(/^通过|发布$/g,"").toLowerCase(),E=n.find("a[href]");if(u&&l.find(v).exist())return!1;if(r){if(l.text().replace(/\s/g,"").match(r))return!0;if(y&&y.replace(/\s/g,"").match(r))return!0;if(b.exist()&&b.text().replace(/\s/g,"").match(r))return!0}if(i&&m.length>0&&w&&m.some(function(e){return e.charAt(0)=="!"?w==e.substring(1):w.indexOf(e)>=0}))return!0;if(s&&g.length>0&&E.exist()&&g.some(function(e){for(var t=E.size()-1;t>=0;t--)if(E.get(t).href.toLowerCase().indexOf(e)>=0)return!0;return!1}))return!0;if(a){var S=n.find(".duration").text();if(/([0-9]+)天前/.test(S)&&parseInt(RegExp.$1)>=f)return!0;if(/([0-9]{1,2})-([0-9]{1,2})\s+[0-9]{1,2}:[0-9]{1,2}/.test(S)){var x={m:parseInt(RegExp.$1),d:parseInt(RegExp.$2)};if(x.m<=c){if(h.m<=c)if(x.m<h.m||x.m==h.m&&x.d<=h.d)return!0}else{if(h.m<=c)return!0;if(x.m<h.m||x.m==h.m&&x.d<=h.d)return!0}}}var T=rn(n);return T!=""&&t[T]==1||T.match("^share|status")&&o&&l.find(d).exist()}).each(function(){if(n)try{var e=this.id.match("[0-9]+")[0];Zt("http://www.renren.com/readNews.do?t=s&i="+e)}catch(t){en("hideFeeds::get",t)}p(this).hide()})}function F(e,t){var n,r=p(".feed-module .feed_type > .item").removeClass("selected");if(e)n="attention",r.filter("#group-focus").addClass("selected");else{if(!t)return;n="frcontent",r.filter("#friend-content").addClass("selected")}var i='var c=0;function w(){var f=window.newsfeed;if(!f){if(c<10){setTimeout(w,200)}c++;return};f.setType("'+n+'");f.reload()};w()';Jt(i)}function I(e){const t="(function(){var nf=window.newsfeed,ahm=window.asyncHTMLManager;if(!nf||!nf.data||nf.data.length==0||nf.data.loading||!ahm||ahm.rendering){setTimeout(arguments.callee,200);return}if(nf.olen!=nf.data.length&&nf.data.length/(nf.itemsPerPage||20)<"+e+"){"+"nf.olen=nf.data.length;"+"nf.append();"+"setTimeout(arguments.callee,1000)"+"}"+"})()";Jt(t)}function q(){var e="(function(){try{window.newsfeed.autoLoad=0}catch(ex){setTimeout(arguments.callee,200)}})()";Jt(e)}function R(){Kt(".feed-list .details .legend span.from{display:none}")}function U(e){function t(t){(e?p(e.target):p(".feed-list>article")).each(function(){p(this).find("h3>a[href*='profile.do?']").each(function(){var e=/id=([0-9]+)/.exec(this.href)[1];e&&t[e]&&p(this).superior().find("img.on-line[mark='"+e+"']").empty()&&p("@img").attr({"class":"on-line",height:"12",width:"13",onclick:"javascript:talkto("+e+",'"+t[e]+"');return false;",title:"点此和"+t[e]+"聊天",src:"http://xnimg.cn/imgpro/icons/online_1.gif?ver=$revxxx$",style:"vertical-align:baseline;cursor:pointer",mark:e}).move("before",this)})})}if(e&&e.target.tagName!="ARTICLE")return;if(Wt("onlineFriends")){t(zt("onlineFriends").list);return}Zt("http://wpi.renren.com/getonlinefriends.do",function(e){if(!e)return;var n=JSON.parse(e).friends;if(!n)return;var r={};for(var i=0;i<n.length;i++)r[n[i].id]=n[i].name;zt("onlineFriends").list=r,t(r)})}function z(){Kt(".feed-toolbar{visibility:visible !important}")}function W(t,n,r,i,s,o,u){const a=90;(function(f){Zt("http://www.renren.com/feedretrieve2.do?p=0",function(a,f,l){if(a==null)return;if(f.indexOf("feedretrieve2")>0){var c=a.split("##@L#");if(c.length<4||!/^\d+$/.test(c[1])){en("autoCheckFeeds","获取新鲜事的页面结构发生变化");return}c=c[0]}else var c=a;try{var h=p("@ul").html(c.replace(/onload=".*?"/g,"").replace(/<script.*?<\/script>/g,"").replace(/src="http:\/\/s\.xnimg\.cn\/a\.gif"/g,"").replace(/lala=/g,"src="));if(s&&t.share==0&&t.status==0)var d="a[href*='profile.do?id="+s.split("|").join("'],a[href*='profile.do?id=")+"'],"+"a[href*='page.renren.com/"+s.split("|").join("'],a[href*='page.renren.com/")+"']";if(o)var v="a[href*='profile.do?id="+o.split("|").join("'],a[href*='profile.do?id=")+"']";if(r)var m=r.replace(/\s/g,"").toLowerCase().split("|").filter(function(e){return!!e});if(i)var g=i.toLowerCase().split("\n").filter(function(e){return!!e});for(var y=h.heirs()-1;y>=0;y--){var b=h.child(y),w=b.find("h3"),E=b.find(".content").find(".title,.video-title,.blog-title").text(),S=b.find(".content .original-stauts"),x=b.find(".details .legend span.from").text().replace(/\s/g,"").replace(/^通过|发布$/g,"").toLowerCase(),T=b.find("a[href]");if(o&&w.find(v).exist())continue;if(n){if(w.text().replace(/\s/g,"").match(n)){b.remove();continue}if(E&&E.replace(/\s/g,"").match(n)){b.remove();continue}if(S.exist()&&S.text().replace(/\s/g,"").match(n)){b.remove();continue}}if(r&&m.length>0&&x&&m.some(function(e){return e.charAt(0)=="!"?x==e.substring(1):x.indexOf(e)>=0})){b.remove();continue}if(i&&g.length>0&&T.exist()&&g.some(function(e){for(var t=T.size()-1;t>=0;t--)if(T.get(t).href.toLowerCase().indexOf(e)>=0)return!0;return!1})){b.remove();continue}var N=rn(b);N&&t[N]?b.remove():N.match("^share")&&s&&w.find(d).exist()&&b.remove()}if(h.heirs()==0)return;var C=[],k=[];for(var y=0;y<h.heirs();y++){var L=h.child(y),A=L.attr("id"),O=L.find(".newsfeed-user>a>img").attr("src"),M=L.find("h3").html().replace(/^\s+|\s+$/,""),_=L.find("h3>a").eq().attr("href"),D=0,P="",H=zt("xnr_feed"),B=L.find(".similar-feed a[data-similar-feeds]").attr("data-similar-feeds");if(B){B=B.split(",");for(var j=0;j<B.length;j++){var F=B[j];F&&H[F]==null&&k.push(F+",")}}if(_.indexOf("profile.do?id="+e.userId+"&")>0)continue;if(u&&rn(L)!="page"){var I=L.find("script[status='1']").text();if(I){var q=/"replyList":(\[[\S\s]+?\]),/.exec(I);if(q){try{q=JSON.parse(q[1].replace(/"type":'(\d+)',/g,'"type":0,'))}catch(R){q=[]}if(q.length>0){var U=q[q.length-1];U.id&&U.ubname&&U.ubid&&U.replyContent?(D=U.id,P=U.replyTime,O=U.replyer_tinyurl,M="<a href='http://renren.com/profile.do?id="+U.ubid+"'>"+U.ubname+"</a> ："+U.replyContent+" @ "+M):en("autoCheckFeeds","回复列表结构发生变化")}}}}var z=L.find(".duration").text().replace(/\s/g,"");if(z!="刚刚更新"&&!z.match(/^[12]分钟前/)){if(!u||!P)continue;z=/(\d+)-(\d+)-(\d+) (\d+):(\d+)/.exec(P);if(!z){en("autoCheckFeeds","回复时间格式发生变化");continue}var W=new Date,X=new Date;W.setYear(parseInt(z[1])),W.setMonth(parseInt(z[2])),W.setDate(parseInt(z[3])),W.setHours(parseInt(z[4])),W.setMinutes(parseInt(z[5]));if(W.getTime()-X.getTime()>144e5)continue}if(l!==!0){if(H[A]!=null&&(D==H[A]||D==0&&H[A]!=0))continue;C.push({id:A,icon:O,text:M})}H[A]=D}var V=k.join("");V&&Zt("http://www.renren.com/retrievefeedid.do?id="+V+"&isNewHome=true",arguments.callee,l);if(l===!0||C.length==0)return;var $=p("#xnr_newfeeds");$.empty()&&($=p("@div").attr({style:"position:fixed;bottom:10px;right:10px;width:250px;z-index:100000;background:#EBF3F7;border:#3B5888 solid 1px;",id:"xnr_newfeeds"}).add(p("@div").css({padding:"3px",background:"#3B5998"}).html("<span style='color:white;font-weight:bold'>您有新的新鲜事</span><a style='float:right;cursor:pointer;color:white' onclick='document.body.removeChild(document.getElementById(\"xnr_newfeeds\"));'>关闭</a>")).add(p("@div").attr("style","max-height:200px;padding-left:5px;padding-right:5px;overflow-y:auto").add(p("@ul").attr("style","margin:0px;padding:0px;list-style-type:none"))).addTo(document.body));var J=$.find("ul");J.heirs()>0&&J.child(-1).css("borderBottom","1px solid #AAAAAA");for(var y=C.length-1;y>=0;y--){var L=C[y];p("@li").attr({style:"padding-top:5px;padding-bottom:5px;border-bottom:1px solid #AAAAAA;",id:L.id}).add(p("@img").attr({width:"16px",height:"16px",src:L.icon,style:"float:left"})).add(p("@div").css("paddingLeft","20px").html(L.text)).addTo(J)}J.child(-1).css("borderBottom","")}catch(R){en("autoCheckFeeds",R)}},f),window.setTimeout(arguments.callee,Math.floor(a*1e3))})(!0)}function X(e){const t="setInterval(window.newsfeed.reload,"+Math.floor(e*1e3)+")";Jt(t)}function V(){Jt("if(Object.defineProperty){Object.defineProperty(window,'wikiHighlight',{value:null})}else if(window.__defineGetter__){window.__defineGetter__('wikiHighlight',function(){return null})}else{const wikiHighlight=null}",!0)}function $(e){var t={friend:"#friendMenuActive",explore:".menu .menu-title a[href*='explore.renren.com']",app:".menu .menu-title a[href*='app.renren.com']",game:".menu .menu-title a[href*='game.renren.com']",reminder:"#navMessage .remind",request:"#navMessage .apply",notification:"#navMessage .notice",mail:".menu .menu-title a#global_inbox_link"},n="";for(var r in t)e[r]&&(n+=t[r]+",");n&&(n=n.substring(0,n.length-1),Kt(n+"{display:none !important}"),$t(1,function(){n=n.replace(/\.menu /g,""),p("div.nav-body .menu").filter(n).remove()}))}function J(){Kt(".navigation-wrapper,.navigation{width:auto} .navigation .nav-body{width:auto;float:none} .site-nav .nav-drop-menu-holder{width:auto}"),$t(1,function(){p("#navBar").move("before",p("body.layout_home3cols #container, body.layout_3cols #container"))})}function K(){var e=".navigation-new .nav-main .menu-title{width:auto} .navigation-new .nav-main .menu-title a{padding:0 7px} .navigation-new .nav-main .menu-title-active a#showProfileMenu{padding:0 6px} .navigation-new .nav-main .nav-drop-menu-btn{display:none !important} .navigation-new .nav-main #profileMenuActive{width:auto} .navigation-new .nav-main .menu-title #showProfileMenu{padding:0 7px} .navigation-new .nav-other .account-action .menu-title a{background:none;padding:0 5px} .site-nav .nav-drop-menu-profile{left:202px}";e+="#dropmenuHolder>#profileMenu,#dropmenuHolder>#friendMenu{top:31px !important}.navigation-new .nav-main .drop-menu-btn{display:none !important}",Kt(e),$t(1,function(){p(".navigation-new .nav-main .menu-title a").filter(".drop-menu-btn[id]").bind("mouseover",function(e){if(e.target.tagName=="A"){var t=document.createEvent("MouseEvents");t.initMouseEvent("mouseover",!0,!0,window,0,e.screenX,e.screenY,e.clientX,e.clientY,e.altKey,e.ctrlKey,e.shiftKey,e.metaKey,0,e.target),e.target.firstElementChild.dispatchEvent(t)}},!0).bind("mouseout",function(e){if(e.target.tagName=="A"&&e.relatedTarget!=e.target.firstElementChild){var t=document.createEvent("MouseEvents");t.initMouseEvent("mouseout",!0,!0,window,0,e.screenX,e.screenY,e.clientX,e.clientY,e.altKey,e.ctrlKey,e.shiftKey,e.metaKey,0,e.target),e.target.firstElementChild.dispatchEvent(t)}},!0)})}function Q(){var e=p("#accountMenu");if(e.empty())return;p("@div").attr("class","menu last").html('<div class="menu-title"><a href="http://www.renren.com/Logout.do">退出</a></div>').move("after",e)}function G(){var e=p("#container>#header,body>#navBar,#header>#navBar,#container>#navBar").eq();if(e.empty())return;var t=e.clone().css("visibility","hidden").attr("fake","").move("after",e);e.attr("style","position:fixed;top:0;z-index:1999;margin:0 auto;padding-bottom:0 !important"),e.attr("id")=="navBar"&&e.css("width","100%");if(e.curCSS("width")!=t.curCSS("width")){e.attr("style",null),t.remove();return}const n="var s=XN.ui.fixPositionElement.prototype;if(s.show_o){return}s.show_o=s.show;s.show=function(){XN.ui.fixPositionElement.prototype.show_o.apply(this,arguments);var m=this.frame;var t=this.alignWith;if(m && m.className==='menu-dropdown' && t){if(/^menu$|^menu | menu$/.test(t.className)){t=t.children[0]}else{while(!/\\bmenu-title\\b/.test(t.className)){t=t.parentNode;if(!t){return}}}m.style.position='fixed';var r=t.getBoundingClientRect();m.style.top=Math.floor(r.bottom)+'px';m.style.left=Math.floor(this.alignType=='3-2'?r.right-m.offsetWidth:r.left)+'px'}}";Jt(n)}function Y(e){if(!e)return;var t=p("div.nav-main");if(t.empty())return;var n=e.split("\n");for(var r=0;r<n.length-1;r+=2)p("@div").html('<div class="menu-title" style="width:auto"><a href="'+n[r+1]+'" target="_blank">'+n[r]+'<span class="drop-menu-btn"></span></a></div>').attr("class","menu").addTo(t);Jt("try{var e=document.body.querySelectorAll('.nav-main .menu-title>a');for(var i=0;i<e.length;i++){e[i]._ad_rd=true}}catch(ex){}")}function Z(t,n){if(t&&t.target.tagName!="LINK")return;var r="#3B5998",i="#3B5888",s="#5C75AA",o="#EBF3F7";if(!t)var u=Kt("a,a:link,a:visited,a:hover{color:"+r+"}.navigation .nav-body{background-color:"+i+"}.input-button,.input-submit{background-color:"+i+"}.user-data,.panel.bookmarks,.statuscmtitem,.new-user{background-color:"+o+"}");$t(1,function(){if(!n){var e=!1;p("#themeLink:not([href*='sid=-1'])").exist()?e=!0:p("#hometpl_style").exist()&&p("#hometpl_style").text().indexOf("{")!=-1?e=!0:p("head style").each(function(){if(p(this).text().indexOf("url(http://i.static.renren.com")!=-1)return e=!0,!0});if(e){t||u.remove();return}}var a="";const f={"home-all.css":["a,a:link,a:visited,a:hover{color:"+r+"}",".navigation .nav-body{background-color:"+i+"}",".navigation .menu-title a:hover{background-color:"+s+"}",".input-button, .input-submit{background-color:"+r+"}",".pop_content .dialog_body a,.pop_content .dialog_body a:visited{color:"+r+"}",".pop_content h2{background-color:"+i+"}","ul.square_bullets{color:"+r+"}",".menu-dropdown .menu-item li.show-more a:hover{background-color:"+r+"}",".menu-dropdown .menu-item a:hover{background-color:"+r+"}",".menu-dropdown .optionmenu li a:hover{background-color:"+r+"}",".m-chat .chatnote a,.m-chat .chatnote em{color:"+r+"}",".publisher .status-publisher input.submit{background-color:"+r+"}","ul.richlist.feeds li .details a.share:hover{color:"+r+"}",".app-box .common-app h1 .open{color:"+r+"}",".user-data,.panel.bookmarks,.statuscmtitem,.mincmt-diggers,.friend-birthday-window .bless-msg{background-color:"+o+"}",".home .home-sidebar .pymk .comefrom{background-color:"+o+"}"],"home-frame-all-min.css":["a:link,a:visited,a:hover{color:"+r+"}","button, input[type=button]{background-color:"+r+"}","td.pop_content .dialog_body a,td.pop_content .dialog_body a:visited{color:"+r+"}","td.pop_content .dialog_buttons input{background-color:"+r+" !important}","td.pop_content h2{background-color:"+r+"}","ul.square_bullets{color:"+r+"}",".navigation{background-color:"+i+"}",".navigation .menu-title a:hover,.navigation .menu-title a.hover{background-color:"+s+"}",".menu-dropdown .menu-item li.show-more a:hover{background-color:"+r+"}",".menu-dropdown .menu-item a:hover{background-color:"+r+"}",".menu-dropdown .optionmenu li a:hover{background-color:"+r+"}",".site-menu-nav .nav-item li.selected,.site-menu-nav .nav-item .item-title.selected{background-color:"+s+"}","a.skin-action,a.skin-action:hover{color:white;background-color:"+r+"}","#accountDropDownMenu a.logout:hover{background-color:"+r+"}",".site-menu-apps .apps-item .item-title.selected, .site-menu-apps .apps-item .item-title.selected:hover{background-color:"+s+"}",".site-menu-nav .nav-item li.selected, .site-menu-apps .apps-item li.selected{background-color:"+s+"}","#appsMenuPro .menu-apps-side{background-color:"+o+"}","#appsMenuPro .app-item a:hover{background-color:"+o+"}","#appsMenuPro .app-item em{background-color:"+o+"}","#appsMenuPro .my-fav-apps{background-color:"+o+"}"],"home-frame2-all-min.css":["a:link,a:visited,a:hover{color:"+r+"}","button, input[type=button]{background-color:"+r+"}","a.action:hover{background-color:"+r+"}","a.share:hover,a.mini-share:hover{background-color:"+r+"}",".input-button, .input-submit{background-color:"+r+"}",".inputbutton, .inputsubmit, .subbutton, .canbutton, .button-group button{background-color:"+r+"}","td.pop_content .dialog_body a,td.pop_content .dialog_body a:visited{color:"+r+"}","td.pop_content .dialog_buttons input{background-color:"+r+" !important}","ul.square_bullets{color:"+r+"}",".site-nav{background-color:"+r+";background-image:none}",".mentionFrdList .search-Result li.m-autosug-hover{background-color:"+r+"}",".search-Result li.m-autosug-hover{background-color:"+r+"}","#accountsPager li a:hover{background-color:"+r+"}","#switchAccountPopup .pagerpro li.current a, .pagerpro li.current a:hover{color:"+r+"}","#appsMenuPro .my-fav-apps .app-item em:hover{background-color:"+r+"}","#appsMenuPro .other-apps .app-item em:hover{background-color:"+r+"}","#appsMenuPro .menu-apps-side a.add-app-btn{background-color:"+r+"}",".group-info .mail .mail-link{background-color:"+r+"}",".group-info .btn-save{background-color:"+r+"}",".global-publisher-share input.inlineinput{color:"+r+"}",".global-publisher-selector .global-publisher-photo-trigger{color:"+r+"}",".global-publisher-module .submit{background-color:"+r+"}",".global-publisher-module .comment-module .submit{background-color:"+r+"}",".pagerpro li a:hover{background-color:"+r+"}",".pagerpro li.current a, .pagerpro li.current a:hover{color:"+r+"}",".s-sort li a:hover{color:"+r+"}","#navMessage .on{background-color:"+s+"}","td.pop_content h2{background-color:"+s+"}",".site-nav .menu-title a:hover{background-color:"+s+"}","#appsMenuPro .my-fav-apps{background-color:"+o+"}","#appsMenuPro .app-item a:hover{background-color:"+o+"}","#appsMenuPro .app-item em{background-color:"+o+"}","#appsMenuPro .menu-apps-side{background-color:"+o+"}","#appsMenuPro .my-fav-apps{background-color:"+o+"}"],"home-all-min.css":[".publisher-share input.inlineinput{color:"+r+"}",".publisher-selector .publisher-photo-trigger{color:"+r+"}",".publisher-module .status-inputer .submit{background-color:"+r+"}",".publisher-module .comment-module .submit{background-color:"+r+"}",".a-feed .details a.share:hover{color:"+r+"}",".a-feed .feed-dropmenu menu li a:hover{background-color:"+r+"}",".feed-module .feed-tools a:link,.feed-module .feed-tools a:visited{color:"+r+"}",".feed-module .category-filter label{color:"+r+"}",".input-button,.input-submit{background-color:"+r+"}",".pop_content .dialog_body a,.pop_content .dialog_body a:visited{color:"+r+"}","ul.square_bullets{color:"+r+"}",".m-chat .chatnote a,.m-chat .chatnote em{color:"+r+"}",".publisher .status-publisher input.submit{background-color:"+r+"}",".status-inputer .submit{background-color:"+r+"}","#newUserGuide div.users span.button button span{color:"+r+"}",".app-box .common-app h1 .open{color:"+r+"}",".like .favors,.reply .col-center .favors{color:"+r+"}",".like-video .terminal .video-title,.like-video .combox_share dl.replies dt.digged{color:"+r+"}","#closePublisherSkin:hover,#dressPublisherSkin:hover{background-color:"+r+"}",".feed-module a:link, .feed-module a:hover, .feed-module a:visited{color:"+r+"}",".feed-module .category-filter menu a:hover,.news-feed-types a.news-feed-type:hover{background-color:"+s+"}",".feed-module .feed-header-new .types label{color:"+r+"}",".feed-module .feed-header-new label.s, .feed-module .feed-header-new .category-filter:hover label.s, .feed-module .feed-header-new .category-filter_hover label.s, .feed-module .feed-header-new .feed-attention:hover label.s, .feed-module .feed-header-new .feed-attention_hover label.s{color:#333333}",".feed-module .feed-header-new .category-filter:hover .text, .feed-module .feed-header-new .category-filter_hover .text, .feed-module .feed-header-new .feed-attention:hover .text, .feed-module .feed-header-new .feed-attention_hover .text{color:"+r+"}",".message-box dt{color:"+r+"}",".message-box ul li.brand-new{background-color:#EFEDFF}",".message-box div.handle button, .message-box div.handle a.accept{background-color:"+r+"}",".guide-tags li a.act{background-color:"+r+"}",".rr-dialog .guide-tags li a.act{background-color:"+r+"}",".rr-dialog .dialog-title{background-color:"+r+"}",".rr-dialog .guide-btn{background-color:"+r+"}",".xz-dialog .dialog-title{background-color:"+r+"}",".xz-dialog .guide-btn{background-color:"+
r+"}",".input-button, .input-submit{background-color:"+r+"}",".a-feed .card-privacy{background-color:"+o+"}",".mincmt-diggers{background-color:"+o+"}",".pymk .comefrom{background-color:"+o+"}",".panel.bookmarks{background-color:"+o+"}",".user-data{background-color:"+o+"}",".statuscmtitem{background-color:"+o+"}"],"webpager-std-min.css":[".webpager ul.icon a:hover .tooltip{background-color:"+r+"}",".app-list dl.apps dd a:hover span.del-handle:hover{background-color:"+r+"}"],"layout.css":["a,a:link,a:visited,a:hover{color:"+r+"}","a.share:hover,a.mini-share:hover,a.action:hover{background-color:"+r+"}",".input-button,.input-submit{background-color:"+r+"}","td.pop_content .dialog_buttons input{background-color:"+r+" !important}","td.pop_content h2{background-color:"+i+"}","ul.square_bullets{color:"+r+"}",".navigation{background-color:"+i+"}",".navigation .menu-title a:hover,.navigation .menu-title a.hover{background-color:"+s+"}",".search-Result li.m-autosug-hover{background-color:"+r+"}",".menu-dropdown .menu-item li.show-more a:hover{background-color:"+r+"}",".menu-dropdown .menu-item a:hover{background-color:"+r+"}",".menu-dropdown .optionmenu li a:hover{background-color:"+r+"}","ol.pageclip li a:hover{background-color:"+r+"}",".pagerpro li a:hover{background-color:"+r+"}",".pagerpro li.current a, .pagerpro li.current a:hover{color:"+r+"}","#pages-jump a{color:"+r+"}","#pop-login h1{background-color:"+r+"}",".newpop .share_popup .toggle_tabs li a{color:"+r+"}","#accountDropDownMenu a.logout:hover{background-color:"+r+"}","#appsMenuPro .menu-apps-side{background-color:"+o+"}","#appsMenuPro .app-item a:hover{background-color:"+o+"}","#appsMenuPro .app-item em{background-color:"+o+"}","#appsMenuPro .my-fav-apps{background-color:"+o+"}"],"news-feeds.css":["ul.richlist.feeds li div.details a.share:hover{color:"+r+"}"],"profilepro.css":[".imgbtn-1{background-color:"+r+"}",".latest-photos .footer .more, .latest-photos .footer .loading, .latest-photos .footer .nomore{background-color:"+o+"}"],"profile-skin.css":[".tabs-holder .tabpanel a:visited,.tabs-holder .tabpanel a{color:"+r+"}",".super-menu li a:hover{background-color:"+r+"}",".filter li.c a{background-color:"+s+"}",".tabs-holder .tabpanel a{color:"+r+"}"],"oldprofile-all-min.css":[".imgbtn-1{background-color:"+r+"}",".user-info .link{color:"+r+"}","#starPK .fans-list .item .details .name{color:"+r+" !important}",".latest-photos .footer .more, .latest-photos .footer .loading, .latest-photos .footer .nomore, .latest-photos .footer .hasmore{background-color:"+o+"}"],"msg.css":[".page-titletabs a.add-msg{background-color:"+r+"}",".inputbutton,.inputsubmit,.subbutton,.canbutton,.button-group button{background-color:"+r+"}",".messages .next_message:hover,.messages .previous_message:hover{background-color:"+r+"}",".message_rows .new_message{background-color:"+o+"}"],"dialogpro.css":["ul.square_bullets{color:"+r+"}","td.pop_content h2{background-color:"+i+"}"],"page.css":[".page-tabs .tabpanel a,.page-tabs .tabpanel a:visited{color:"+r+"}",".page-tabs .tabpanel li.select a,.page-tabs .tabpanel li.addtab a:hover{color:"+r+"}",".stabs a,.stabs a:hover,.stabs a:visited{color:"+r+"}",".stabs a.current span,.stabs a.current span:hover{background-color:"+r+"}","form.editDesc input{color:"+r+"}",".theme-panel a,.theme-panel a:link,.theme-panel a:hover,.theme-panel a:visited{color:"+r+"}",".thmc-action .del:hover{background-color:"+r+"}","td.pop_content .dialog_body .ordertabs a.s{background-color:"+r+" !important}",".info-item .photoes ul li .name{color:"+r+"}","body.profile #header a.follow{color:"+r+"}","body.profile ul.tabs.sub-nav li a{color:"+r+"}","ul.comments footer details li a:hover{color:"+r+"}","header.user .follow{color:"+r+"}","p.leave-msg a{background-color:"+r+"}"],"page-albumpro.css":[".photo-comments #side-column ul.actions .rotate-left a:hover{background-color:"+r+"}",".photo-comments #side-column ul.actions .rotate-right a:hover{background-color:"+r+"}",".share a:hover{background-color:"+r+"}","h3.upload-step-1 .pick-more{color:"+r+"}",".pager-top a:hover{background-color:"+r+"}",".pager-top a.current, .pager-top a.current:hover{color:"+r+"}",".pager-comment a:hover{background-color:"+r+"}",".pager-comment a.current, .pager-comment a.current:hover{color:"+r+"}"],"appspro.css":[".sub-nav ul.main li.son-nav a.pre-select,.sub-nav ul.main li.son-nav a:hover.pre-select,.sub-nav ul.main li.allselect a{background-color:"+r+"}",".sub-nav li ul.sub li a{color:"+r+"}",".sub-nav ul.main li a.select,.sub-nav li ul.sub li a.select,.sub-nav li ul.sub li a.select:hover{background-color:"+r+"}",".sub-nav li ul.sub li a.select,.sub-nav li ul.sub li a.select:hover{background-color:"+r+"}",".sub-nav,.user-data,.panel.bookmarks,.section h2,.tab-switch{background-color:"+o+"}"],"albumpro.css":[".album .function-nav .page-control em{color:"+r+"}",".preview-photo .gallery .thumbnail:hover, .preview-photo .gallery .ghover .thumbnail, .preview-photo .gallery .this .thumbnail{background-color:"+r+"}",".ghover .turna, .ghover .turnb{color:"+r+" !important}",".album .public-albumlist-hot li h2{color:"+r+"}","#self-nav li a{color:"+r+"}","#self-nav .selected a,#self-nav .selected a:hover{background-color:"+r+"}",".pager-top a.current, .pager-top a.current:hover{color:"+r+"}",".statuscmtitem{background-color:"+o+"}"],"subscription.css":[".ss-menu li.cur a{background-color:"+i+"}",".subs-search p .subbutton{background-color:"+r+"}",".subs-commend li .detail .add a{background-color:"+r+"}"],"replies.css":[".replies a.reply-report:hover{color:"+r+"}"],"homepro.css":[".new-user{background-color:"+o+"}",".home-nav .c a,.home-nav .c a:hover{background-color:"+r+"}"],"login-all.css":["a,a:link,a:visited,a:hover{color:"+r+"}","a.action:hover,a.share:hover,a.mini-share:hover{background-color:"+r+"}",".input-button,.input-submit{background-color:"+r+"}",".open-search.hover .description .find-friends{color:"+r+"}"],"login-all-min.css":["a,a:link,a:visited,a:hover{color:"+r+"}","a.action:hover,a.share:hover,a.mini-share:hover{background-color:"+r+"}",".input-button,.input-submit{background-color:"+r+"}",".open-search.hover .description .find-friends{color:"+r+"}",".msn-login-panel .content p span{color:"+r+"}",".extra-guide .portal:hover{color:"+r+"}",".rrdesk.hover h5 a,.rrdesk.hover a{color:"+r+" !important}","td.pop_content .dialog_body a, td.pop_content .dialog_body a:visited{color:"+r+"}","td.pop_content .dialog_buttons input{background-color:"+r+" !important}","ul.square_bullets{color:"+r+"}"],"login-unbuffered.css":["a,a:link,a:visited,a:hover{color:"+r+"}","a.action:hover,a.share:hover,a.mini-share:hover{background-color:"+r+"}",".input-button,.input-submit{background-color:"+r+"}"],"unbuffered-all-min.css":[".input-button, .input-submit{background-color:"+r+"}",".open-search.hover .description .find-friends{color:"+r+"}","a,a:link,a:visited,a:hover{color:"+r+"}",".msn-login-panel .content p span{color:"+r+"}",".extra-guide .portal:hover{color:"+r+"}","td.pop_content .dialog_body a, td.pop_content .dialog_body a:visited{color:"+r+"}","td.pop_content .dialog_buttons input{background-color:"+r+" !important}",".rrdesk.hover h5 a, .rrdesk.hover a, .rrdesk a.deskbtn{color:"+r+" !important}","ul.square_bullets{color:"+r+"}","td.pop_content h2{background-color:"+s+"}"],"club.css":["a,a:hover{color:"+r+"}"],"header.css":["#navigation ul ul a{color:"+r+"}","#self-nav li a{color:"+r+"}","#self-nav .selected a,#self-nav .selected a:hover{background-color:"+r+"}","#clubheader #navigation{background-color:"+i+"}","#utility{background-color:"+i+"}"],"base.css":[".pagerpro li a:hover{background-color:"+r+"}",".inputbutton,.inputsubmit,.subbutton,.canbutton,.button-group button{background-color:"+r+"}","#self-nav .selected a{background-color:"+r+"}","#self-nav li a {color:"+r+"}"],"searchpro.css":[".input-filter .subbutton{background-color:"+r+"}",".condition-show,#filterForm{background-color:"+o+"}",".search-main-new .list li{color:"+r+"}"],"blog.css":["a.button{color:white;background-color:"+r+"}",".page-titletabs .act-btn a{background-color:"+r+"}"],"global-all-min.css":["a:link,a:visited,a:hover{color:"+r+"}","button, input[type='button']{background-color:"+r+"}",".input-button, .input-submit{background-color:"+r+"}","td.pop_content .dialog_body a, td.pop_content .dialog_body a:visited{color:"+r+"}","td.pop_content .dialog_buttons input{background-color:"+r+" !important}","ul.square_bullets{color:"+r+"}",".search-Result li.m-autosug-hover{background-color:"+r+"}",".navigation-new #global_inbox_link:hover span.msg-count{color:"+r+" !important}",".navigation-new #global_inbox_link:hover span.count{color:"+r+" !important}","#accountsPager li a:hover{background-color:"+r+"}","#switchAccountPopup .pagerpro li.current a, .pagerpro li.current a:hover{background-color:"+r+"}","#appsMenuPro .my-fav-apps .app-item em:hover{background-color:"+r+"}","#appsMenuPro .other-apps .app-item em:hover{background-color:"+r+"}","#appsMenuPro .menu-apps-side a.add-app-btn{background-color:"+r+"}",".site-menu-nav-box .nav-item-count{color:"+r+" !important}",".group-info .mail .mail-link{color:"+r+"}",".group-info .btn-save{background-color:"+r+"}",".site-menu-nav .nav-item .create-zhan a:link, .site-menu-nav .nav-item .create-zhan a:visited{color:"+r+"}",".site-menu-nav .nav-item .create-zhan a:hover{color:"+r+"}","td.pop_content h2{background-color:"+s+"}","#appsMenuPro .my-fav-apps{background-color:"+o+"}","#appsMenuPro .app-item a:hover{background-color:"+o+"}","#appsMenuPro .app-item em{background-color:"+o+"}","#appsMenuPro .menu-apps-side{background-color:"+o+"}"],"global2-all-min.css":["a:link,a:visited,a:hover{color:"+r+"}","button, input[type=button]{background-color:"+r+"}","a.action:hover{background-color:"+r+"}","a.share:hover,a.mini-share:hover{background-color:"+r+"}",".input-button, .input-submit{background-color:"+r+"}",".inputbutton, .inputsubmit, .subbutton, .canbutton, .button-group button{background-color:"+r+"}","td.pop_content .dialog_body a,td.pop_content .dialog_body a:visited{color:"+r+"}","td.pop_content .dialog_buttons input{background-color:"+r+" !important}","ul.square_bullets{color:"+r+"}",".site-nav{background-color:"+r+";background-image:none}",".search-Result li.m-autosug-hover{background-color:"+r+"}","#accountsPager li a:hover{background-color:"+r+"}","#switchAccountPopup .pagerpro li.current a, .pagerpro li.current a:hover{color:"+r+"}","#appsMenuPro .my-fav-apps .app-item em:hover{background-color:"+r+"}","#appsMenuPro .other-apps .app-item em:hover{background-color:"+r+"}","#appsMenuPro .menu-apps-side a.add-app-btn{background-color:"+r+"}",".pagerpro li a:hover{background-color:"+r+"}",".pagerpro li.current a, .pagerpro li.current a:hover{color:"+r+"}","#navMessage .on{background-color:"+s+"}","td.pop_content h2{background-color:"+s+"}",".site-nav .menu-title a:hover{background-color:"+s+"}","#appsMenuPro .my-fav-apps{background-color:"+o+"}","#appsMenuPro .app-item a:hover{background-color:"+o+"}","#appsMenuPro .app-item em{background-color:"+o+"}","#appsMenuPro .menu-apps-side{background-color:"+o+"}"],"global-std-min.css":["a:link,a:visited,a:hover{color:"+r+"}","button,input[type=button]{background-color:"+r+"}","td.pop_content .dialog_body a,td.pop_content .dialog_body a:visited{color:"+r+"}","td.pop_content .dialog_buttons input{background-color:"+r+" !important}","td.pop_content h2{background-color:"+r+"}",".menu-dropdown .menu-item li.show-more a:hover{background-color:"+r+"}",".menu-dropdown .menu-item a:hover{background-color:"+r+"}",".menu-dropdown .search-menu li a:hover,.menu-dropdown .optionmenu li a:hover{background-color:"+r+"}","#appsMenuPro .menu-apps-side{background-color:"+o+"}","#appsMenuPro .app-item a:hover{background-color:"+o+"}","#appsMenuPro .app-item em{background-color:"+o+"}","#appsMenuPro .my-fav-apps{background-color:"+o+"}"],"requests-all-min.css":[".request div.btns button{background-color:"+r+"}",".requests-show-more{background-color:"+o+"}"],"share.css":["ul.share-hot-list li div.legend a{color:"+r+"}","ul.share-hot-list li h3 a,ul.share-hot-list li h3 a:hover{color:"+r+"}",".hot-photo .photo-main,.hot-photo .photo-sub{background-color:"+o+"}"],"guide-new":[".find-friend-box .users .friend-selector li .name label{color:"+r+"}",".myRR-box-body dl{background-color:"+o+"}",".search-friend .title,.guide-tabs-content .title,#mayknow_user .title,.myRR .title,.guide-game h2,.guide-game .slide p,.add-stars h3,.web-invite{background-color:"+o+"}",".find-friend-box .toolbar .more a:hover,.find-friend-box .legend .desc a:hover,.find-friend-box .show-more a:hover{background-color:"+o+"}"],"guide-all-min.css":["a.action:hover{background-color:"+r+"}",".input-button, .input-submit{background-color:"+r+"}",".pop_content .dialog_body a, .pop_content .dialog_body a:visited{color:"+r+"}",".publisher .status-publisher input.submit{background-color:"+r+"}","#newUserGuide div.users span.button button span{color:"+r+"}","ul.richlist.feeds li .details a.share:hover{color:"+r+"}",".app-box .common-app h1 .open{color:"+r+"}",".statuscmtitem{background-color:"+o+"}",".a-feed .card-privacy{background-color:"+o+"}",".mincmt-diggers{background-color:"+o+"}",".home .home-sidebar .pymk .comefrom{background-color:"+o+"}",".panel.bookmarks{background-color:"+o+"}",".user-data{background-color:"+o+"}",".message-box ul li.brand-new{background-color:#F0F5F8}",".message-box .box-footer{background-color:#EFEDFF}",".message-box dt{color:"+r+"}",".message-box div.handle button, .message-box div.handle a.accept{background-color:"+r+"}"],"list-all-min.css":[".pagerpro li a:hover{background-color:"+r+"}",".pagerpro li.current a:hover{color:"+r+"}",".share a:hover{background-color:"+r+"}","ul.share-hot-list li.share div.figure a:hover{background-color:"+r+"}","ul.share-hot-list li h3 a,ul.share-hot-list li h3 a:hover{color:"+r+"}","ul.share-hot-list li div.legend a,ul.share-hot-list li div.legend a:hover{color:"+r+"}","#summary-wrap .share-vote-item a{color:"+r+"}",".share-lists .music-list li a span{color:"+r+"}",".share-lists .link-list .del a:hover{background-color:"+r+"}",".share-lists .music-list .del a:hover{background-color:"+r+" !important}",".input-button,.input-submit{background-color:"+r+"}","a.share:hover{background-color:"+r+"}"],"status-all-min.css":[".pagerpro li.current a:hover{color:"+r+"}",".pagerpro li a:hover{background-color:"+r+"}",".pagerpro li.current a,.pagerpro li.current a:hover{color:"+r+"}",".input-button,.input-submit{background-color:"+r+"}","a{color:"+r+"}",".catalog-list li.selected{background-color:"+r+"}"],"hotinfo.css":[".iwanttojoin span{background-color:"+r+"}"],"hot-all-min.css":[".hot-photo .photo-main,.hot-photo .photo-sub{background-color:"+o+"}","a.share:hover{background-color:"+r+"}"],"zidou_nav.css":[".navigation .nav-main .menu-title a:hover,.navigation .menu-title a:hover{background-color:transparent;color:"+r+"}",".navigation .nav-main .menu-title a, .navigation #searchMenu .menu-title a, .navigation .nav-other .menu-title a, .navigation .nav-main .menu-title a:visited, .navigation #searchMenu .menu-title a:visited, .navigation .nav-other .menu-title a:visited{color:"+r+"}",".navigation-new .nav-main .menu-title a:hover, .navigation-new .nav-main .menu-title a.hover{background-color:"+s+";color:#FFFFFF}"],"blog-async.css":["a.sbutton{color:#333333}","a.share:hover{background-color:"+r+"}",".input-button, .input-submit{background-color:"+r+"}",".pagerpro li a:hover{background-color:"+r+"}",".pagerpro li.current a,.pagerpro li.current a:hover{color:"+r+"}","#pages-jump a{color:"+r+"}","a.button{background-color:"+r+"}","#self-nav li a{color:"+r+"}","#self-nav .selected a{background-color:"+r+"}","#entry h3{color:"+r+"}","#super-input .sinput-list-action a:hover{background-color:"+r+"}",".share a:hover{background-color:"+r+"}","#mycomment h3{color:"+r+"}","#blogs .author ul a:hover{background-color:"+r+"}",".message h3{background-color:"+r+"}",".opLink{color:"+r+"}",".blog-side-body .user-info .user-detail p.total strong{color:"+r+"}",".page-titletabs .act-btn a{background-color:"+r+"}"],"album-activity.css":["a.button{color:white;background-color:"+r+"}",".side-action .gallery .thumbnail:hover, .side-action .gallery .ghover .thumbnail, .side-action .gallery .this .thumbnail{background-color:"+r+"}",".ghover .turna, .ghover .turnb{color:"+r+" !important}",".acts-list .tabs-item a.selected, .acts-list .tabs-item a.selected:hover{background-color:"+r+"}"],"main.css":["body{color:"+r+"}","a{color:"+r+"}",".dl_list dd li.on a,.dl_list dd li.on a:hover{background-color:"+r+"}",".pager ul li,.pager ul li a,.pager ul li.current a,.pager ul li.current a:hover{color:"+r+"}","input.join,input.joingray{background-color:"+r+"}"],"music-home.":[".music-operation label{color:"+r+"}",".single-ranking .separater{color:"+r+"}",".song-wrapper .share:hover,.album-wrapper .share:hover{background-color:"+r+"}",".pagerpro li a:hover{background-color:"+r+"}",".pagerpro li.current a,.pagerpro li.current a:hover{color:"+r+"}",".input-button, .input-submit{background-color:"+r+"}",".new-album .tabs,.song-list tr.selected,.statuscmtitem{background-color:"+o+"}"],"music-box.":[".song-list .search,.music-box .reply-list ul,.music-box .reply-editor,.music-box .filter-list a:hover{background-color:"+o+"}"],"job.css":[".page-tabs .tabpanel a,.page-tabs .tabpanel a:visited{color:"+r+"}",".page-tabs .tabpanel li.addtab a:hover{color:"+r+"}",".resume-preview .qzhx-header{background-color:"+r+"}",".pjb-sidenav .nav-list li.selected a{background-color:"+r+" !important}",".qzhx-edit .confirm input{background-color:"+r+" !important}",".home-nav .c a,.home-nav .c a:hover{background-color:"+r+"}",".home-nav .exp a,.home-nav .exp a:hover{background-color:"+r+"}",".home-nav .exp .type-list a,.home-nav .exp .type-list a:hover{color:"+r+"}","#mycomment h3{color:"+r+"}"],"group-all-min.css":[".phony_link{color:"+r+"}",".pagerpro li a:hover{background-color:"+r+"}",".pagerpro li.current a, .pagerpro li.current a:hover{color:"+r+"}","a.share:hover{background-color:"+r+"}",".input-submit{background-color:"+r+"}"],"radio.":["a{color:"+r+"}",".music-operation label{color:"+r+"}",".pagerpro a:hover{background-color:"+r+"}",".pagerpro .current a,.pagerpro .current a:hover{color:"+r+"}","td.pop_content h2{background-color:"+s+"}",".input-button, .input-submit{background-color:"+r+"}"],"love-home.css":["a:link,a:visited,.mod a,.page-status a{color:"+r+"}",".richlist h3 a{color:"+r+"}"],"rr-connect.css":["a{color:"+r+"}",".button-blue{background-color:"+r+"}",".header{background-color:"+i+"}","td.xn_pop_content h2{background-color:"+i+"}"],"talk.css":[".super-menu li a:hover{background-color:"+r+"}"],"pay-min.css":["a:link, a:visited{color:"+r+"}",".renren{background-color:"+i+"}",".user-info .user-name{color:"+r+"}",".button{background-color:"+r+"}",".paging a:hover{background-color:"+r+"}",".record-table .trade-code, .record-table .recipient{color:"+r+"}",".task-list li .draw{background-color:"+r+"}",".topUserInfo .userInfo strong{color:"+r+"}",".pay-list2 li.current a{background-color:"+i+"}"],"full_nav.css":[".navigation{background-color:"+i+"}",".navigation .nav-main .menu-title a, .navigation #searchMenu .menu-title a, .navigation .nav-other .menu-title a{color:"+r+"}",".navigation .nav-main .menu-title a:hover, .navigation .menu-title a:hover{background-color:transparent;color:"+r+"}",".navigation .nav-main .menu-title a.searchcolor{color:"+r+"}","#footer a{color:"+r+"}"],"friends.css":[".friends-main .friends-sidebar ul.CategoryList .select span.sub a.select,.friends-main .friends-sidebar ul.CategoryList .select span.sub a{color:"+r+"}","div.bobBox input.button{background-color:"+r+" !important}",".friends-main .friends-listbox .Fast-seekfriend .show-more a:hover{background-color:"+o+"}"],"search-new.css":[".input-filter,.sidebar,.condition-show,.no-result-box h4{background-color:"+o+"}",".sidebar li.selected,.sidebar li.selected a:hover{background-color:"+r+"}",".input-filter .subbutton{background-color:"+r+"}"],"school-selector.css":["#univlist_provinces td.activetab a{background-color:"+r+"}","#univlist_univs li a:hover{background-color:"+r+"}","#searchlist_school li a:hover{background-color:"+r+"}","li.active a, li.active a{background-color:"+r+"}","#popup-unis li a:hover, #popup-unis-hs li a:hover{background-color:"+r+"}"],"privacy-all-min.css":[".tabs-holder .tabpanel a,.tabs-holder .tabpanel a:visited{color:"+r+"}",".user-info .link{color:"+r+"}",".input-button{background-color:"+r+"}",".gallery-footer, .gallery-footer .more, .gallery-footer .nomore{background-color:"+o+"}"],"nav-vip.css":[".navigation .nav-main .menu-title a, .navigation #searchMenu .menu-title a, .navigation .nav-other .menu-title a{color:"+r+"}",".navigation .nav-main .menu-title a:hover, .navigation .menu-title a:hover{color:"+r+";background-color:transparent}",".navigation .nav-main .menu-title a.searchcolor{color:"+r+"}"],"badoo.css":[".latest-photos .footer .hasmore, .latest-photos .footer .more{background-color:"+o+"}","button, input[type='button']{background-color:"+r+"}",".pagerpro li a:hover{background-color:"+r+"}",".pagerpro li.current a, .pagerpro li.current a:hover{color:"+r+"}",".fpagerpro li a:hover{background-color:"+r+"}",".fpagerpro li.current a, .fpagerpro li.current a:hover{color:"+r+"}",".mk-content .mk-document .addFriend{background-color:"+r+"}",".righttips b, .wrongtips b{color:"+r+"}",".box-body .bd-mineditor .editorSubmit .bd-submit{background-color:"+r+"}",".bd-talk-box .detail-talk-box .badoo-toolbar .libar menu li a:hover{background-color:"+r+"}",".body-talk-box .bd-mineditor .editorSubmit .bd-submit{background-color:"+r+"}",".gallery .thumbnail:hover, .gallery .ghover .thumbnail, .gallery .this .thumbnail{background-color:"+r+"}",".right-content .syncHeadPhoto{background-color:"+r+"}",".guideContent .completeBasic a.commitBasic{background-color:"+r+"}",".dialog_content .guideContent .guideUpload .uploadBtn{background-color:"+r+"}"],"makefriends.css":[".mk-friends .search-form .submitbtn{background-color:"+r+"}",".mk-friends .search-form{background-color:"+o+"}",".newMessAlert{background-color:"+o+"}"],"photo-all-min.css":[".input-button, .input-submit{background-color:"+r+"}",".reply-adding .reply-nav .replyAll input.input-button{background-color:"+r+"}",".submit-btn{background-color:"+r+"}",".statuscmtitem{background-color:"+o+"}",".mincmt-diggers{background-color:"+o+"}",".comments-box .mincmt-body dl.replies dd{background-color:"+o+"}",".s-sort li a:hover{background-color:"+r+"}"],"footprint.css":[".dropmenu-holder .foot_action a{color:"+r+"}",".dropmenu-holder .foot_action a.hover{background-color:"+r+" !important}",".footwall li.hover{background-color:"+o+"}"]};var l="";for(var c in f)p("link[rel*='stylesheet'][href*='"+c+"']").exist()&&(l+=f[c].join(""));l&&(Wt("blueTheme")?zt("blueTheme").text(l):zt("blueTheme",Kt(l))),t||u.remove()}),e.url.indexOf("http://www.connect.renren.com/igadget/renren/index.html")==0&&Kt("a,a:link,a:visited,a:hover,.font1,.box .textArea .textNow,.box .tabMenu a,.box .pageBox a{color:"+r+"}.box .item ul li.over .btn{background-color:"+r+"}.box .head{background-color:"+i+"}")}function et(e){e?Kt("*{font-family:Tahoma,Verdana,sans-serif !important}"):Kt("*{font-family:inherit !important}")}function tt(e,t){if(e&&e.target.className!="col-right")return;var n=parseInt(t);if(n==0)return;p("ul.people-list").each(function(){var e=p(this);while(e.heirs()>n)e.child(n).remove()})}function nt(e){Kt(e)}function rt(e){var t=e.split("\n");for(var n=0;n<t.length;n++){var r=t[n];if(r.length<4)continue;var i=1,s=r.split("<<<");if(s.length!=2){i=2,s=r.split(">>>");if(s.length!=2){i=3,s=r.split("<<");if(s.length!=2){i=4,s=r.split(">>");if(s.length!=2)continue}}}try{var o=p(s[0]);if(o.empty())continue;var u=p(s[1]);if(u.empty())continue}catch(a){continue}switch(i){case 1:u.add(o,0);break;case 2:u.add(o);break;case 3:o.move("before",u);break;case 4:o.move("after",u)}}}function it(e,t,n,r,i,s,o,u){var a={},f={"(微笑)":{t:"微笑",s:"/imgpro/icons/statusface/1.gif"},"@_@":{t:"嘴唇",s:"/imgpro/icons/statusface/2.gif"},"(哭)":{t:"哭",s:"/imgpro/icons/statusface/3.gif"},"(惊讶)":{t:"惊讶",s:"/imgpro/icons/statusface/4.gif"},"(生气)":{t:"生气",s:"/imgpro/icons/statusface/5.gif"},"(难过)":{t:"难过",s:"/imgpro/icons/statusface/6.gif"},"(l)":{t:"爱",s:"/imgpro/icons/statusface/8.gif"},"(花)":{t:"花儿",s:"/imgpro/icons/statusface/9.gif"},"(ns)":{t:"女生节",s:"/imgpro/icons/statusface/10.gif"},"(书呆子)":{t:"书呆子",s:"/imgpro/icons/statusface/13.gif"},"(困)":{t:"困",s:"/imgpro/icons/statusface/14.gif"},"(害羞)":{t:"害羞",s:"/imgpro/icons/statusface/15.gif"},"(大笑)":{t:"大笑",s:"/imgpro/icons/statusface/16.gif"},"(口罩)":{t:"防流感",s:"/imgpro/icons/statusface/17.gif"},"(不)":{t:"不",s:"/imgpro/emotions/tie/1.gif"},"(谄笑)":{t:"谄笑",s:"/imgpro/emotions/tie/2.gif"},"(吃饭)":{t:"吃饭",s:"/imgpro/emotions/tie/3.gif"},"(调皮)":{t:"调皮",s:"/imgpro/emotions/tie/4.gif"},"(尴尬)":{t:"尴尬",s:"/imgpro/emotions/tie/5.gif"},"(汗)":{t:"汗",s:"/imgpro/emotions/tie/6.gif"},"(惊恐)":{t:"惊恐",s:"/imgpro/emotions/tie/7.gif"},"(囧)":{t:"囧-窘迫",s:"/imgpro/emotions/tie/8.gif"},"(可爱)":{t:"可爱",s:"/imgpro/emotions/tie/9.gif"},"(酷)":{t:"酷",s:"/imgpro/emotions/tie/10.gif"},"(流口水)":{t:"流口水",s:"/imgpro/emotions/tie/11.gif"},"(猫猫笑)":{t:"猫猫笑",s:"/imgpro/emotions/tie/12.gif"},"(色)":{t:"色迷迷",s:"/imgpro/emotions/tie/13.gif"},"(生病)":{t:"生病",s:"/imgpro/emotions/tie/14.gif"},"(叹气)":{t:"叹气",s:"/imgpro/emotions/tie/15.gif"},"(淘气)":{t:"淘气",s:"/imgpro/emotions/tie/16.gif"},"(舔)":{t:"舔",s:"/imgpro/emotions/tie/17.gif"},"(偷笑)":{t:"偷笑",s:"/imgpro/emotions/tie/18.gif"},"(吐)":{t:"呕吐",s:"/imgpro/emotions/tie/19.gif"},"(吻)":{t:"吻",s:"/imgpro/emotions/tie/20.gif"},"(晕)":{t:"晕",s:"/imgpro/emotions/tie/21.gif"},"(住嘴)":{t:"住嘴",s:"/imgpro/emotions/tie/23.gif"},"(kb)":{t:"抠鼻",s:"/imgpro/icons/statusface/kbz2.gif"},"(sx)":{t:"烧香",s:"/imgpro/icons/statusface/shaoxiang.gif"},"(zmy)":{t:"织毛衣",s:"/imgpro/icons/statusface/zhimaoyi.gif"},"(jh)":{t:"秋菊",s:"/imgpro/icons/statusface/chrysanthemum.gif"},"(ju)":{t:"人人聚焦",s:"/imgpro/icons/statusface/jj.gif"},"(cold)":{t:"降温",s:"/imgpro/icons/statusface/cold.gif"},"(bw)":{t:"暖暖被窝",s:"/imgpro/icons/statusface/sleep.gif"},"(mb)":{t:"膜拜",s:"/imgpro/icons/statusface/guibai.gif"},"(tucao)":{t:"吐槽",s:"/imgpro/icons/statusface/tuc.gif"},"(s)":{t:"大兵",s:"/imgpro/icons/statusface/soldier.gif"},"(NBA)":{t:"篮球",s:"/imgpro/icons/statusface/basketball4.gif"},"(basketball)":{t:"篮球",s:"/imgpro/icons/statusface/option2.gif"},"(蜜蜂)":{t:"小蜜蜂",s:"/imgpro/icons/statusface/bee.gif"},"(fl)":{t:"花仙子",s:"/imgpro/icons/statusface/hanago.gif"},"(cap)":{t:"毕业了",s:"/imgpro/icons/statusface/mortarboard.gif"},"(ice)":{t:"冰棍儿",s:"/imgpro/icons/statusface/ice-cream.gif"},"(冰棒)":{t:"冰棒",s:"/imgpro/icons/statusface/dbb.gif"},"(gs)":{t:"园丁",s:"/imgpro/icons/statusface/growing-sapling.gif"},"(ga)":{t:"园丁",s:"/imgpro/icons/statusface/gardener.gif"},"(光棍)":{t:"光棍",s:"/imgpro/icons/statusface/光棍.gif"},"(yt)":{t:"光棍油条",s:"/imgpro/icons/statusface/youtiao.gif"},"(bz)":{t:"光棍包子",s:"/imgpro/icons/statusface/baozi.gif"},"(wr)":{t:"枯萎玫瑰",s:"/imgpro/icons/statusface/wilt-rose.gif"},"(bh)":{t:"破碎的心",s:"/imgpro/icons/statusface/broken-heart.gif"},"(4)":{t:"4周年",s:"/imgpro/icons/statusface/4-years.gif"},"(cake)":{t:"周年蛋糕",s:"/imgpro/icons/statusface/4-birthday.gif"},"(ty)":{t:"汤圆",s:"/imgpro/icons/statusface/tang-yuan.gif"},"(read)":{t:"读书日",s:"/imgpro/icons/statusface/reading.gif"},"(ct)":{t:"锄头",s:"/imgpro/icons/statusface/chutou.gif"},"(bbt)":{t:"棒棒糖",s:"/imgpro/icons/statusface/bbt.gif"},"(bbg)":{t:"棒棒糖",s:"/imgpro/icons/statusface/bbg.gif"},"(bbl)":{t:"棒棒糖",s:"/imgpro/icons/statusface/bbl.gif"},"(xr)":{t:"儿时回忆",s:"/imgpro/icons/statusface/sm.gif"},"(mo)":{t:"默哀",s:"/imgpro/icons/statusface/lazhu.gif"},"(hot)":{t:"烈日",s:"/imgpro/icons/statusface/hot.gif"},"(feng)":{t:"风扇",s:"/imgpro/icons/statusface/fan.gif"},"(bb)":{t:"便便",s:"/imgpro/icons/statusface/shit.gif"},"(mg)":{t:"七彩玫瑰",s:"/imgpro/icons/statusface/rose.gif"},"(hzd)":{t:"划重点",s:"/imgpro/icons/statusface/huazhongdian.gif"},"(dm)":{t:"点名",s:"/imgpro/icons/statusface/dianming.gif"},"(hcn)":{t:"花痴男",s:"/imgpro/icons/statusface/hcn.gif"},"(hcv)":{t:"花痴女",s:"/imgpro/icons/statusface/hcnv.gif"},"(tic)":{t:"车票",s:"/imgpro/icons/statusface/ticket.gif"},"(tra)":{t:"车头",s:"/imgpro/icons/statusface/train.gif"},"(trb)":{t:"车厢",s:"/imgpro/icons/statusface/trainbox.gif"},"(bon)":{t:"年终奖",s:"/imgpro/icons/statusface/award.gif"},"(pt)":{t:"派对，干杯",s:"/imgpro/icons/statusface/partycup.gif"},"(三行情书)":{t:"三行情书",s:"/imgpro/icons/statusface/xin.gif"},"(knx)":{t:"康乃馨",s:"/imgpro/icons/statusface/carnation.gif"},"(520)":{t:"520",s:"/imgpro/icons/statusface/heart.gif"},"(al)":{t:"暗恋",s:"/imgpro/icons/statusface/520.gif"},"(暗恋特权)":{t:"暗恋特权",s:"/imgpro/icons/statusface/anlian.gif"},"(bby)":{t:"小男孩",s:"/imgpro/icons/statusface/boy2011.gif"},"(bgi)":{t:"小女孩",s:"/imgpro/icons/statusface/girl2011.gif"},"(bal)":{t:"气球",s:"/imgpro/icons/statusface/balloon.gif"},"(jy)":{t:"加油",s:"/imgpro/icons/statusface/2011gaokao.gif"},"(jt1)":{t:"家庭空间",s:"/imgpro/icons/statusface/jt1.gif"},"(jt2)":{t:"家庭空间",s:"/imgpro/icons/statusface/jt2.gif"},"(yb)":{t:"元宝",s:"/imgpro/icons/statusface/yuanbao.gif"},"(xx)":{t:"星星",s:"/imgpro/icons/statusface/xx.gif"},"(nz)":{t:"奶嘴",s:"/imgpro/icons/statusface/nz.gif"},"(石化)":{t:"石化",s:"/imgpro/icons/statusface/sh.gif"},"(哨子)":{t:"哨子",s:"/imgpro/icons/new-statusface/shaozi.gif"},"(fb)":{t:"足球",s:"/imgpro/icons/new-statusface/football.gif"},"(rc)":{t:"红牌",s:"/imgpro/icons/new-statusface/redCard.gif"},"(yc)":{t:"黄牌",s:"/imgpro/icons/new-statusface/yellowCard.gif"},"(^)":{t:"蛋糕",s:"/imgpro/icons/3years.gif"},"(r)":{t:"火箭",s:"/imgpro/icons/ico_rocket.gif"},"(w)":{t:"宇航员",s:"/imgpro/icons/ico_spacewalker.gif"},"(i)":{t:"电灯泡",s:"/img/ems/bulb.gif"},"(yeah)":{t:"哦耶",s:"/img/ems/yeah.gif"},"(good)":{t:"牛",s:"/img/ems/good.gif"},"(ng)":{t:"否",s:"/imgpro/icons/statusface/nogood.gif"},"(zy)":{t:"最右",s:"/imgpro/icons/statusface/zy.gif"},"(f)":{t:"拳头",s:"/img/ems/fist.gif"}},l={"(earth)":{t:"地球",s:"/imgpro/icons/statusface/wwf-earth.gif"},"(earth1)":{t:"地球",s:"/imgpro/icons/statusface/earth.gif"},"(rainy)":{t:"雨",s:"/imgpro/icons/statusface/rainy.gif"},"(by)":{t:"下雨",s:"/imgpro/icons/statusface/rain.gif"},"(ly)":{t:"落叶",s:"/imgpro/icons/statusface/autumn-leaves.gif"},"(dx)":{t:"雪人",s:"/imgpro/icons/statusface/snowman.gif"},"(sn)":{t:"雪花",s:"/imgpro/icons/statusface/snow.gif"},"(fz)":{t:"风筝",s:"/imgpro/icons/statusface/kite.gif"},"(lt)":{t:"柳枝",s:"/imgpro/icons/statusface/willow.gif"},"(bs)":{t:"秋高气爽",s:"/imgpro/icons/statusface/bluesky.gif"},"(fog)":{t:"大雾",s:"/imgpro/icons/statusface/dawu.gif"},"(h)":{t:"小草",s:"/imgpro/icons/philips.jpg"},"(scb)":{t:"沙尘暴",s:"/imgpro/icons/statusface/sand-storm.gif"}},c={"(gl)":{t:"给力",s:"/imgpro/icons/statusface/geili.gif"},"(bgl)":{t:"不给力",s:"/imgpro/icons/statusface/bugeili.gif"},"(ugl)":{t:"不给力",s:"/imgpro/icons/statusface/ungelivable.gif"},"(yl)":{t:"鸭梨",s:"/imgpro/icons/statusface/yali.gif"},"(dli)":{t:"冻梨",s:"/imgpro/icons/statusface/dl.gif"},"(hold1)":{t:"Hold住",s:"/imgpro/icons/statusface/holdzhu.gif"},"(sbq)":{t:"伤不起",s:"/imgpro/icons/statusface/shangbuqi.gif"},"(ymy)":{t:"有木有",s:"/imgpro/icons/statusface/youmuyou.gif"},"(th)":{t:"惊叹号",s:"/imgpro/icons/statusface/exclamation.gif"},"(cb)":{t:"蟹蟹",s:"/imgpro/icons/statusface/crab.gif"},"(see)":{t:"看海",s:"/imgpro/icons/statusface/seesea.gif"},"(禅师)":{t:"禅师",s:"/imgpro/icons/statusface/chsh.gif"},"(twg)":{t:"style",s:"/imgpro/icons/statusface/style.gif"},"(走你)":{t:"走你",s:"/imgpro/icons/statusface/zn.gif"},"(小黄鸡)":{t:"小黄鸡",s:"/imgpro/icons/statusface/xhj.gif"},"(不约而同)":{t:"不约而同",s:"/imgpro/icons/statusface/byet.gif"},"(十动然拒)":{t:"十动然拒",s:"/imgpro/icons/statusface/sdrj.gif"}},h={"(guoqing)":{t:"国庆",s:"/imgpro/icons/statusface/guoqing.gif"},"(gq)":{t:"国庆快乐",s:"/imgpro/icons/statusface/nationalday2010.gif"},"(gq2)":{t:"国庆快乐",s:"/imgpro/icons/statusface/national-day-balloon.gif"},"(gq3)":{t:"我爱中国",s:"/imgpro/icons/statusface/national-day-i-love-zh.gif"},"(元旦)":{t:"元旦快乐",s:"/imgpro/icons/statusface/gantan.gif"},"(dl)":{t:"灯笼",s:"/imgpro/icons/statusface/lantern.gif"},"(va)":{t:"情人节",s:"/imgpro/icons/statusface/qixi.gif"},"(qx)":{t:"七夕",s:"/imgpro/icons/statusface/qixi11.gif"},"(qx2)":{t:"七夕",s:"/imgpro/icons/statusface/qixi2.gif"},"(yrj)":{t:"愚人节",s:"/imgpro/icons/statusface/yrj.gif"},"(wy)":{t:"劳动节",s:"/imgpro/icons/statusface/wuyi.gif"},"(laodong)":{t:"五一",s:"/imgpro/icons/statusface/5.1.gif"},"(cy1)":{t:"重阳节",s:"/imgpro/icons/statusface/09double9-3.gif"},"(cy2)":{t:"登高",s:"/imgpro/icons/statusface/09double9.gif"},"(cy3)":{t:"饮菊酒",s:"/imgpro/icons/statusface/09double9-2.gif"},"(dad)":{t:"父亲节",s:"/imgpro/icons/statusface/love-father.gif"
},"(safe)":{t:"感恩母亲",s:"/imgpro/icons/statusface/safeguard.gif"},"(mom)":{t:"母亲节",s:"/imgpro/icons/statusface/ilovemom.gif"},"(ngd)":{t:"南瓜灯",s:"/imgpro/icons/statusface/pumpkin.gif"},"(xg)":{t:"小鬼",s:"/imgpro/icons/statusface/ghost.gif"},"(hh)":{t:"圣诞花环",s:"/imgpro/icons/statusface/garland.gif"},"(stick)":{t:"拐杖糖",s:"/imgpro/icons/statusface/stick.gif"},"(socks)":{t:"圣诞袜",s:"/imgpro/icons/statusface/stocking.gif"},"(xmas)":{t:"圣诞老人",s:"/imgpro/icons/statusface/xmas-man.gif"},"(ring)":{t:"圣诞铃铛",s:"/imgpro/icons/statusface/xmas-ring.gif"},"(tree)":{t:"圣诞树",s:"/imgpro/icons/statusface/xmas-tree.gif"},"(tk)":{t:"火鸡",s:"/imgpro/icons/statusface/turkey.gif"},"(nrj)":{t:"女人节",s:"/imgpro/icons/statusface/lipstick.gif"},"(zsj)":{t:"植树节",s:"/imgpro/icons/statusface/trees.gif"},"(rs)":{t:"玫瑰花",s:"/imgpro/icons/statusface/rose0314.gif"},"(315)":{t:"消费者权益保护日",s:"/imgpro/icons/statusface/20110315.gif"},"(yb1)":{t:"月饼",s:"/imgpro/icons/statusface/mooncake.gif"},"(zz)":{t:"粽子",s:"/imgpro/icons/statusface/zongzi.gif"},"(lot)":{t:"龙头",s:"/imgpro/icons/statusface/dwj_longtou.gif"},"(huc)":{t:"划船",s:"/imgpro/icons/statusface/dwj_huachuan.gif"},"(dag)":{t:"打鼓",s:"/imgpro/icons/statusface/dwj_dagu.gif"},"(low)":{t:"龙尾",s:"/imgpro/icons/statusface/dwj_longwei.gif"},"(hjr)":{t:"世界环境日",s:"/imgpro/icons/statusface/earthday.gif"},"(eh)":{t:"地球一小时",s:"/imgpro/icons/statusface/onehour2011.gif"},"(tiger)":{t:"虎年",s:"/imgpro/icons/statusface/tiger.gif"},"(ra1)":{t:"拜年兔",s:"/imgpro/icons/statusface/rabbit.gif"},"(ra2)":{t:"拜年兔",s:"/imgpro/icons/statusface/rabbit2.gif"},"(fu)":{t:"福",s:"/imgpro/icons/statusface/fu.gif"},"(boy)":{t:"男孩",s:"/imgpro/icons/statusface/boy.gif"},"(girl)":{t:"女孩",s:"/imgpro/icons/statusface/girl.gif"},"(eclipse)":{t:"日全食",s:"/imgpro/icons/statusface/eclipse.gif"},"(gk)":{t:"高考",s:"/imgpro/icons/statusface/gaokao.gif"},"(gk3)":{t:"高考",s:"/imgpro/icons/statusface/gk.gif"},"(pass)":{t:"CET必过",s:"/imgpro/icons/statusface/cet46.gif"},"(qgz)":{t:"人人求工作",s:"/imgpro/icons/statusface/offer.gif"},"(南非)":{t:"南非",s:"/imgpro/icons/new-statusface/nanfei.gif"},"(kxl)":{t:"开学啦",s:"/imgpro/icons/statusface/kaixuela-wide.gif",w:!0},"(kx)":{t:"开学",s:"/imgpro/icons/statusface/kx.gif"},"(jz)":{t:"捐建小学",s:"/imgpro/icons/statusface/grass.gif"},"(nasa)":{t:"NASA",s:"/imgpro/icons/statusface/nasa.gif"},"(hz)":{t:"传递爱心",s:"/imgpro/icons/statusface/cdax.gif"},"(jq)":{t:"坚强",s:"/imgpro/icons/statusface/quake.gif"},"(rr)":{t:"红丝带",s:"/imgpro/icons/statusface/red-ribbon.gif"},"(hsd)":{t:"红丝带",s:"/imgpro/icons/statusface/hsd.gif"},"(ny)":{t:"新年好",s:"/imgpro/icons/statusface/2011.gif"},"(lb)":{t:"腊八粥",s:"/imgpro/icons/statusface/laba.gif"},"(long1)":{t:"龙1",s:"/imgpro/icons/statusface/long1.gif"},"(long2)":{t:"龙2",s:"/imgpro/icons/statusface/long2.gif"},"(long3)":{t:"龙3",s:"/imgpro/icons/statusface/long3.gif"},"(long4)":{t:"龙4",s:"/imgpro/icons/statusface/long4.gif"},"(long5)":{t:"龙5",s:"/imgpro/icons/statusface/long5.gif"},"(long6)":{t:"龙6",s:"/imgpro/icons/statusface/long6.gif"},"(vdlove)":{t:"爱就大声说",s:"/imgpro/icons/statusface/vdlove.gif"},"(金牌)":{t:"金牌",s:"/imgpro/icons/statusface/金牌.gif"},"(银牌)":{t:"银牌",s:"/imgpro/icons/statusface/银牌.gif"},"(铜牌)":{t:"铜牌",s:"/imgpro/icons/statusface/铜牌.gif"},"(t)":{t:"火炬",s:"/img/ems/torch.gif"},"(hjl)":{t:"火炬",s:"/imgpro/icons/statusface/hx.gif"}},d={"(mj)":{t:"迈克尔.杰克逊",s:"/imgpro/icons/statusface/mj.gif"},"(mj2)":{t:"迈克尔.杰克逊",s:"/imgpro/icons/statusface/mj2.gif"},"(mj3)":{t:"迈克尔.杰克逊",s:"/imgpro/icons/statusface/mj3.gif"},"(qxs)":{t:"悼念钱学森",s:"/imgpro/icons/statusface/qianxuesen.gif"},"(raul)":{t:"劳尔",s:"/imgpro/icons/statusface/laoer.gif"},"(smlq)":{t:"萨马兰奇",s:"/imgpro/icons/statusface/samaranch2.gif"},"(kz)":{t:"孔子",s:"/imgpro/icons/statusface/kz.gif"},"(ta)":{t:"博派",s:"/imgpro/icons/statusface/Transformers-Autobot.gif"},"(td)":{t:"狂派",s:"/imgpro/icons/statusface/Transformers-Decepticon.gif"},"(jobs)":{t:"乔布斯",s:"/imgpro/icons/statusface/jobs.gif"},"(leifeng)":{t:"雷锋",s:"/imgpro/icons/statusface/lf.gif"}},v={"(shafa1)":{t:"抢沙发1",s:"/imgpro/icons/statusface/rrdesk/kf.gif"},"(shafa3)":{t:"抢沙发3",s:"/imgpro/icons/statusface/rrdesk/gloves.gif"},"(shafa4)":{t:"抢沙发4",s:"/imgpro/icons/statusface/rrdesk/hat.gif"},"(shafa6)":{t:"抢沙发6",s:"/imgpro/icons/statusface/rrdesk/heart.gif"},"(shafa8)":{t:"抢沙发8",s:"/imgpro/icons/statusface/rrdesk/jiaoxi.gif"},"(shafa10)":{t:"抢沙发10",s:"/imgpro/icons/statusface/rrdesk/muffle.gif"},"(shafa11)":{t:"抢沙发11",s:"/imgpro/icons/statusface/rrdesk/sds.gif"},"(shafa13)":{t:"抢沙发13",s:"/imgpro/icons/statusface/rrdesk/snow.gif"},"(shafa14)":{t:"抢沙发14",s:"/imgpro/icons/statusface/rrdesk/sdlr.gif"},"(shafa16)":{t:"抢沙发16",s:"/imgpro/icons/statusface/rrdesk/mao.gif"}},m={"(bl)":{t:"冰露",s:"/imgpro/icons/statusface/ice.gif"},"(qt)":{t:"蜻蜓",s:"/imgpro/icons/statusface/qingt.gif"},"(zg)":{t:"整蛊作战",s:"/imgpro/icons/statusface/tomato.png"},"(abao)":{t:"功夫熊猫",s:"/imgpro/icons/statusface/panda.gif"},"(nuomi)":{t:"糯米",s:"/imgpro/icons/new-statusface/nuomi2.gif"},"(愉悦一刻)":{t:"果粒奶优,愉悦一刻",s:"/imgpro/icons/statusface/mzynew.gif"},"(LG)":{t:"LG棒棒糖",s:"/imgpro/activity/lg-lolipop/faceicon_2.gif"},"(crm)":{t:"Google Chrome",s:"/imgpro/icons/statusface/chrome.gif"},"(360)":{t:"360极速浏览器",s:"/imgpro/icons/statusface/360chrome.gif"},"(fes)":{t:"枫树浏览器",s:"/imgpro/icons/statusface/chromeplus.gif"},"(camay)":{t:"卡玫尔七夕",s:"/imgpro/icons/statusface/camay.gif"},"(xrk)":{t:"向日葵",s:"/imgpro/icons/statusface/taiyang.gif"},"(wd)":{t:"豌豆射手",s:"/imgpro/icons/statusface/wandou.gif"},"(dou)":{t:"豌豆",s:"/imgpro/icons/statusface/dou.gif"},"(jqg)":{t:"小坚果",s:"/imgpro/icons/statusface/hetao.gif"},"(jsh)":{t:"僵尸",s:"/imgpro/icons/statusface/jiangshi.gif"},"(69)":{t:"翻转",s:"/imgpro/icons/statusface/fanzhuan.gif"},"(ys)":{t:"改写常规",s:"/imgpro/icons/statusface/ys2.gif"}},g={"(gq1)":{t:"国庆六十周年",s:"/imgpro/icons/statusface/national-day-60-firework.gif"},"(2011)":{t:"2011",s:"/imgpro/icons/statusface/2011g.gif"},"(five)":{t:"人人网5周年",s:"/imgpro/icons/statusface/5years.gif"},"(six)":{t:"人人网6周年",s:"/imgpro/icons/statusface/six.gif"},"(七周年)":{t:"七周年",s:"/imgpro/icons/statusface/7years.gif"},"(jd)":{t:"建党90周年",s:"/imgpro/icons/statusface/party90.gif"},"(2012)":{t:"世界末日",s:"/imgpro/icons/statusface/2012.gif"},"(qh)":{t:"清华校庆",s:"/imgpro/icons/statusface/tsinghua100.gif"}};for(var y in f)a[y]={kind:0,alt:f[y].t,src:f[y].s,wide:f[y].w};if(e){var b=[58389,57430,57431,58388,58373,57606,58392,58391,58381,58378,58372,57605,58377,58382,58370,57608,58371,57432,58375,58369,58383,58379,58374,58387,58385,58386,58384,57607,57433,58390,58376,58380,57626,57612,58156,58154,58157,58152,58155,57378,57379,58151,58153,58158,58165,58164,58167,58166,57660,58160,58161,58150,57406,57629,57434,57358,58401,58400,57357,57360,57361,58398,57362,58402,57902,57903,57905,57904,58407,58397,57359,58399,57676,57857,57621,58408,58655,58409,58404,58403,57939,58406,57617,58405,58142,58143,58141,57345,57346,57349,57348,58650,58649,58648,58645,58646,58647,58651,57682,57422,58652,58654,57628,58678,57347,58396,58395,58393,58394,57418,57419,57417,57416,57420,57661,58435,58430,57423,57426,57427,58660,58668,58666,58673,57424,58663,57425,57611,58667,58671,57609,58664,57370,57652,58672,58665,58662,58669,58657,58659,58670,57429,58661,57610,58658,57369,57428,58656,58118,57392,58116,57616,57394,58117,58115,57624,58439,57625,58119,58120,58436,58433,58422,58423,58424,58426,58425,58427,57623,58432,58434,58438,58437,57627,58440,57395,57618,58149,58130,58128,57638,57639,57352,57405,57356,57642,57354,57355,57353,58134,57641,57665,57666,58135,57640,57675,57873,57620,57669,57668,57407,58131,57622,57615,57604,57603,57601,57602,57663,57664,57631,57647,57393,58126,58129,57619,58127,57659,58411,58410,57368,57366,57365,57364,58412,58413,57367,57363,57870,57868,57871,57869,57649,57643,57648,57645,58148,58113,57672,58626,57404,58122,57410,57408,57409,57644,57351,58138,57662,58139,57350,58114,58137,58145,58146,58132,58627,57614,58136,58428,57630,58147,58140,57396,57397,57413,58168,57415,58124,57412,58123,57411,57632,58171,58175,58177,58188,58180,58178,58173,58174,58176,58189,58169,57671,58179,58172,58170,58431,58187,57414,58181,58182,58184,58183,58186,58185,57398,57687,57400,57683,57685,57677,57686,58625,57688,58429,57399,58628,58442,57670,57684,58629,58630,57634,58632,58633,57403,57421,58441,58443,58653,58444,57636,57633,58419,57858,57653,57372,57373,57613,57654,58414,57371,57690,57689,58418,58416,58417,58415,57374,57401,58421,57375,57637,57402,57678,57938,57655,57865,57651,57680,58144,57635,57650,57667,58635,58644,58643,58636,58637,58641,58639,58642,58640,58638,57884,57885,57886,57887,57888,57889,57890,57891,57892,57893,57872,57906,57907,57909,57908,57910,57911,57912,57913,57915,57914,57917,57916,57933,57874,57932,57875,57876,58631,57859,57867,57898,57899,57894,57895,57900,57901,57877,57878,57879,57880,57896,57681,57656,57657,57658,57864,57679,57866,58420,58121,58133,58125,57863,57897,57862,57861,57860,57646,57936,57937,57674,57673,57919,57920,57921,57922,57923,57924,57925,57926,57927,57928,57929,57930,57931,57918,58674,58675,58676,58677,57882,57881,57883,57391,57380,57381,57382,57383,57384,57385,57386,57387,57388,57389,57390,58162,58163,57934,57935,58679];for(var w=0;w<b.length;w++){var y=b[w];a[String.fromCharCode(y)]={kind:999,alt:"",src:"/imgpro/emoji/"+y.toString(16).toLowerCase()+".png",wide:!1}}}if(t)for(var y in l)a[y]={kind:0,alt:l[y].t,src:l[y].s,wide:l[y].w};if(r)for(var y in h)a[y]={kind:0,alt:h[y].t,src:h[y].s,wide:h[y].w};if(i)for(var y in d)a[y]={kind:0,alt:d[y].t,src:d[y].s,wide:d[y].w};if(o)for(var y in m)a[y]={kind:0,alt:m[y].t,src:m[y].s,wide:m[y].w};if(s)for(var y in v)a[y]={kind:0,alt:v[y].t,src:v[y].s,wide:v[y].w};if(u)for(var y in g)a[y]={kind:0,alt:g[y].t,src:g[y].s,wide:g[y].w};var E=p("#status_emotions");if(E.exist()){var S=[];E.find("img").each(function(){S[this.getAttribute("emotion")]=1});for(var y in a){var x=a[y];!S[y]&&!x.types&&p("@li").attr(x.w?{"class":"wider"}:{}).add(p("@a").attr("href","#nogo").add(p("@img").attr({title:x.alt,alt:x.alt,emotion:y,src:"http://xnimg.cn"+x.src,rsrc:"http://xnimg.cn"+x.src}))).addTo(E)}Kt(".publisher-new .emotion li.wider{width:50px}.publisher-new .emotion li.wider a{width:46px}.publisher-new .emotion img{margin:0;vertical-align:baseline}")}var T=["","啊啊啊","安慰","抱抱","暴怒","不要啊","嘲弄","吃饭啦","出走","大汗","感动","好囧","好冷","好温暖","喝茶","开心","抠鼻孔","狂汗","狂笑","困了晚安","你好强","赖皮","捏脸","怒","爬过","飘过","潜水啦","闪人","送花给你","送你礼物","委屈哭","我不说话","喜欢你","吓唬你","笑喷了","旋转","疑问","隐身","郁闷","抓狂","转圈哭","装可爱","嘘嘘","晚安","耍帅","你伤害了我","贱扭扭","寒","顶顶顶","大惊","不耐烦","不公平"],N=["","被雷到","打酱油","得意的笑","顶","灌水","激光","泪奔","楼上的","楼下的","楼主","如题","撒泼","沙发","生气","胜利","受惊","刷屏","吐","捂嘴偷笑","阴险"];for(var w=1;w<T.length;w++)a["[al"+(w<10?"0"+w:w)+"]"]={kind:1,types:2,size:2,alt:T[w],src:"/imgpro/emotions/ali/"+w+".gif"};for(var w=1;w<N.length;w++)a["[jj"+(w<10?"0"+w:w)+"]"]={kind:2,types:2,size:2,alt:N[w],src:"/imgpro/emotions/jiongjiong/"+w+".gif"};var C="(function(){if(!window.$extend) {setTimeout(arguments.callee,1000);return}if(window.$o_extend) {return}window.$o_extend=window.$extend;window.$extend=function(obj,attrs){var r=$o_extend.apply(this, arguments);if (window.XN && XN.ui && XN.ui.emotions && obj===XN.ui.emotions.prototype){obj.o_formatData=obj.formatData;obj.formatData=function(data){var kind=this.getConfig('emoKind');if(kind){kind['999']={name:'絵文字',forvip:0};kind['1']={name:'阿狸',forvip:0};kind['2']={name:'囧囧熊',forvip:0}};var list=JSON.parse('"+JSON.stringify(a)+"');"+"for (var i=0;i<data.length;i++) {"+"delete list[data[i].ubb];"+"}"+"for (var e in list) {"+"var em=list[e];"+"em.ubb=e;"+"if(em.kind!=0){em.img='<img src=\"http://a.xnimg.cn/'+em.src+'\" alt=\"'+em.alt+'\"/>'}"+"data.push(em)"+"}"+"return XN.ui.emotions.prototype.o_formatData.apply(this,arguments);"+"};"+"}"+"return r;"+"}"+"})()";Jt(C)}function st(t){if(!(!t||t.target.className!="fc"&&t.target.nodeType!=3))return;if(Ut("pages")&&!Ut("page_home")){if(e.url.match("/fdoing/\\d+")){if(t)return;var n=/curpage=(\d+)/.exec(e.url),r=0;n&&(r=parseInt(n[1])*100),p("dl#comment_list>dd>.info").each(function(e){p(this).find("span.fc").empty()&&p(this).add(p("@span").addClass("fc").text(e+1+r+"楼"),0)})}else if(e.url.match("/photo/\\d+|/album/\\d+")){if(t)if(p("#pageBar").exist()){if(t.relatedNode.id!="pageBar"||p(t.relatedNode).find("a.current").empty())return}else if(!/^replies/.test(t.target.className))return;if(p("#commContainer>dl.replies>dd>.info").empty())return;if(p("#commContainer>dl.replies[fl]").exist())return;p("#commContainer>dl.replies").attr("fl","");var n=p("#pageBar>a.current").text()||"1",r=(parseInt(n)-1)*30;p("#commContainer>dl.replies>dd>.info").each(function(e){if(!p(this).find("span.fc").empty())return!0;p(this).add(p("@span").addClass("fc").text(e+1+r+"楼 "),0)})}else if(e.url.match("/note/\\d+")){if(t)return;var n=/curpage=(\d+)/.exec(e.url),r=0;n&&(r=parseInt(n[1])*100),p("ol#commentlist>li>.comment>.info").each(function(e){if(!p(this).find("span.fc").empty())return!0;p(this).add(p("@span").addClass("fc").css("float","left").text(e+1+r+"楼"),0)})}else if(e.url.match("/page\\.renren\\.com/[^/]+/share")){var i=function(){var e=p(this);if(!/(\d+)条/.exec(e.find("#postcmtlink").text()))return;var t=parseInt(RegExp.$1),n=e.find("dl.replies>dd>.info"),r=t-n.size()+1;n.each(function(e){if(!p(this).find("span.fc").empty())return!0;p(this).add(p("@span").addClass("fc").css({"float":"left","margin-right":"3px"}).text(e+r+"楼"),0)})};t?/commContainer/.test(t.target.id)?i.call(t.target.parentNode.parentNode.parentNode.parentNode):/replies/.test(t.target.className)?i.call(t.target.parentNode.parentNode.parentNode.parentNode.parentNode):i.call(t.relatedNode):p("div.share-body").each(i)}}else if(Ut("feed")||Ut("profile")||Ut("page_home")){var i=function(){var e=p(this),t=e.find("div.statuscmtitem > .replybody"),n=e.find(".showmorereply");if(n.empty())var r=!1,i=t.size(),s=1;else{var r=e.find(".showmorereply").css("display")!="none",o=e.find(".showmorereply").text().replace(/\s/g,"");if(!o||/加载中/.exec(o)||"显示全部回复"==o)return;if(/还有(\d+)条/.exec(o))if(r){var i=parseInt(RegExp.$1)+2;if(t.size()==2)var s=1;else var s=i-t.size()+1}else var i=t.size(),s=1;else if(/显示(\d+)条中的最新(\d+)条/.exec(o))var i=parseInt(RegExp.$1),s=i-parseInt(RegExp.$2)+1;else if(/显示最新(\d+)条/.exec(o)){var s=1;if(r)var i=parseInt(RegExp.$1);else var i=t.size()}else var i=t.size(),s=1}s<=0&&(s=1),r&&t.size()==2?t.each(function(e){if(!p(this).find("span.fc").empty())return!0;p(this).add(p("@span").addClass("fc").css({"float":"left","margin-right":"3px"}).text((e?i:s)+"楼"),0)}):t.each(function(e){var t=p(this).find("span.fc");t.empty()?p(this).add(p("@span").addClass("fc").css({"float":"left","margin-right":"3px"}).text(e+s+"楼"),0):t.text(e+s+"楼")})};if(t)if(/statuscmtitem/.test(t.target.className)){if(/more/.test(t.target.className))return;i.call(t.target.parentNode)}else if(/a-feed/.test(t.target.className))i.call(t.target);else{var s=p(t.relatedNode).find("article.a-feed");s.empty()?i.call(t.relatedNode):s.each(function(){i.call(this)})}else p("div.replies").each(i)}else if(Ut("share")){var i=function(){var e=p(this);if(!/(\d+)条/.exec(e.find("#postcmtlink").text()))return;var t=parseInt(RegExp.$1),n=e.find("dl.replies>dd>.info"),r=t-n.size()+1;n.each(function(e){if(!p(this).find("span.fc").empty())return!0;p(this).add(p("@span").addClass("fc").css({"float":"left","margin-right":"3px"}).text(e+r+"楼"),0)})};t?/commContainer/.test(t.target.id)?i.call(t.target.parentNode.parentNode.parentNode.parentNode):/replies/.test(t.target.className)?i.call(t.target.parentNode.parentNode.parentNode.parentNode.parentNode):i.call(t.relatedNode):p("div.share-body").each(i)}else{if(t&&!/^replies/.test(t.target.className))return;var o;if(Ut("blog")){if(p("p.stat-article").empty())return;o=parseInt(/评论\((\d+)\)/.exec(p("p.stat-article").text())[1])}else{o=parseInt(p("#allComCount").text());if(isNaN(o)){o=parseInt(p("#commentCount").text());if(isNaN(o))return}}var u=p("dl.replies>dd[id^='talk']"),a=o-u.size();if(u.empty()||a<0)return;u.each(function(e){var t=p(this).find(".info");if(!t.find("span.fc").empty())return!0;p("@span").text(a+parseInt(e)+1+"楼 ").attr("class","fc").css("color","grey").addTo(t,0)}),Wt("show-all-id")||(zt("show-all-id"),p("#show-all-id").bind("DOMNodeInserted",function(e){p("#showMoreComments").hide(),Xt("show-all-id")}).bind("DOMNodeRemoved",function(e){p("#showMoreComments").show()}))}}function ot(t){if(t&&!/^replies/.test(t.target.className))return;var n=p("#allCmtsList dl.replies > dd");if(n.empty())return;var r=parseInt(p("#shareId").val());if(isNaN(r))return;n.each(function(){if(p(this).find(".reply > a[cmd*='reply']").exist())return;var t=p(this).find("a.avatar");if(t.exist())var n=t.attr("title");else{t=p(this).find(".info > a[href*='profile.do']");var n=t.text()}var i=/id=(\d+)/.exec(t.attr("href"))[1];if(i==e.userId)return;var s=/\d+$/.exec(this.id)[0],o={t:"reply",sid:r,oid:i,cid:s,oname:n},u=p("@a").addTo(p(this).find(".reply"));u.attr("cmd",JSON.stringify(o)),u.attr("href","javascript:void(0);"),u.text("回复")});if(!t){var i="if(XN.array._toQueryString){return}XN.array._toQueryString=XN.array.toQueryString;XN.array.toQueryString=function(a){if(a.repetNo){delete a.all}return XN.array._toQueryString.apply(this, arguments)}";Jt(i)}}function ut(){const e='var f=window.tinyMCE.editors.editor.plugins.xnLink.update.toString().replace("/^http:/","/^https?:|^ftp:/").replace(/function\\s*\\S*?\\(\\)\\s*{/,"").replace(/}$/,"");window.tinyMCE.editors.editor.plugins.xnLink.update=new Function(f);';Jt(e)}function at(){var t=!1;if(Ut("zhan"))t=!0;else if(!e.url.match(/\/editBlog\b|\/editDraft\b|\/addBlog\b|\/NewEntry\.do|\/new$|\/edit$/i))return;var n=p("#editor_toolbar1 td.mceToolbarEndButton");if(n.empty()){window.setTimeout(arguments.callee,500);return}if(p("#editor_toolbar1 .mce_changeMode").empty()){const r="#editor_editcode{background-position:0 -196px; padding:2px; background-image:url(http://a.xnimg.cn/imgpro/editor/editor.gif); height:24px}#editor_editcode:hover{background-position:0 0}.xiaoneiSkin .mceSeparator{width:0}";Kt(r)}else p("#editor_toolbar2").exist()&&(n=p("#editor_toolbar2 td.mceToolbarEndButton")),Kt("#editor_editcode .mce_code{width:20px}");p("@td").css("position","relative").add(p("@span").addClass("mceSeparator")).move("before",n),p("@td").css("position","relative").html('<a title="编辑HTML" onclick="return false;" onmousedown="return false;" class="mceButton mceButtonEnabled" href="javascript:;" id="editor_editcode"><span class="mceIcon mce_code"></span></a>').move("before",n),t&&(p("#editor_toolbar1 .mceSeparator").css({width:"1px",margin:"0"}),p("#editor_fullscreen").css("padding","3px 2px 1px")),p("#editor_editcode").bind("click",function(){if(!t)var e='var dlg=new XN.ui.dialog({modal:true});dlg.hide();dlg.setWidth("auto");dlg.setHeight("auto");dlg.header.setContent("编辑HTML代码");dlg.body.setContent("<textarea style=\'width:600px;height:280px\'></textarea>");dlg.addButton({text:"确定", onclick:function(){tinyMCE.activeEditor.setContent(dlg.frame.querySelector("textarea").value);}});dlg.addButton({text:"取消"});dlg.getButton("取消").addClass("gray");dlg.frame.querySelector("table").style.display = "block";dlg.show();var editor = tinyMCE.activeEditor;var pos = XN.form.getRichEditorPos(editor);dlg.moveTo(pos.x, pos.y-120);var textarea = dlg.frame.querySelector("textarea");textarea.value = editor.getContent();textarea.focus();';else var e='var dlg=jQuery.confirmDialog({width:640});dlg.hide();dlg.getHeader().find("h3").text("编辑HTML代码");dlg.getBody().html("<textarea style=\'width:600px;height:280px\'></textarea>");dlg.getButton("confirm").click(function(){tinyMCE.activeEditor.setContent(dlg.getBody().find("textarea").val());});dlg.show();dlg.getBody().find("textarea").val(tinyMCE.activeEditor.getContent()).focus();';Jt(e)})}function ft(){var e="const COMSCORE=null";Jt(e,!0);var e="window.statisFocusEventAdded=true;window.statisBlurEventAdded=true";Jt(e);var e="window.statisBottomEventAdded=true";Jt(e)}function lt(){var t="if(Object.defineProperty){Object.defineProperty(XN.net, 'sendStats', {value:function(){}})}else if(window.__defineGetter__){XN.net.__defineGetter__('sendStats',function(){return function(){}})}";Jt(t);var t="var count=0;(function(){try{XN.app.statsMaster.init=function(){};XN.app.statsMaster.destroy()}catch(ex){if(count<10)setTimeout(arguments.callee,500);count++}})()";Jt(t);var n="var f = arguments.callee.caller;if (f) {var fs = f.toString();var e;if (fs.indexOf('unfocus?J=') > 0) {e = 'blur'} else if (fs.indexOf('focus?J=') > 0) {e = 'focus'} else if (fs.indexOf('scrollbottom?J=') > 0) {e = 'scrollbottom'}if (e) {if (e == 'scrollbottom') {XN.events.delEvent(e, f);} else {XN.event.delEvent(window, e, f);}throw e + ' tracking disabled'}}";e.agent!=s?t="if (Object.defineProperty) {Object.defineProperty(XN.env, 'domain', {get: function() {"+n+"return 'renren.com'"+"}"+"});"+"} else if (XN.env.__defineGetter__) {"+"XN.env.__defineGetter__('domain', function() {"+n+"return 'renren.com'"+"});"+"}":(t="if (Math._random) {return}Math._random = Math.random;Math.random = function() {"+n+"return Math._random.apply(this, arguments)","}"),Jt(t)}function ct(){if(p("#single-column table.photoList").exist())var t="http://page.renren.com/@@/album/##?curpage=%%",n=p("#single-column"),r=p(".pager-top>span"),i=p("div.pager-top");else if(e.url.indexOf("/channel-albumshow")!=-1)var t=e.url.replace(/[#?].*$/,"")+"?curpage=%%",n=p("#photos .photo-list"),r=p(".photo-list li.photo-item"),i=p("div.p-page-out");else if(e.url.indexOf("/photo/ap/")!=-1)var t="http://photo.renren.com"+document.location.pathname+"?curpage=%%",n=p("div.photo-list"),r=p(".number-photo"),i=p("div.pager-nav");else if(p(".all-photos>.photo-list").exist())var t="http://event.renren.com"+document.location.pathname+"?curpage=%%",n=p("div.photo-list"),r=p(),i=p("div.pagertop");else if(p(".share-photo-main>.photo-list").exist())var t="http://share.renren.com"+document.location.pathname+"?curpage=%%",n=p("div.photo-list"),r=p(".number-photo"),i=p("div.pager-top");else if(p(".group-home>.album-list").exist())var t="http://xiaozu.renren.com"+document.location.pathname+"?curpage=%%",n=p("@div").move("before",p("ul.album-list")).add(p("ul.album-list")),r=p(".group-home>.pagerbox>span"),i=p("#pageTopPanel");else var t="http://photo.renren.com/getalbum.do?id=##&owner=@@&curpage=%%&t=**",n=p("div.photo-list"),s=p("div.story-pic"),r=p(".number-photo"),i=p("div.pager-top");if(n.empty())return;if(t.indexOf("##")>0||t.indexOf("@@")>0){var o,u;p("head script:not([src])").each(function(){var t=p(this).text();if(t.match("albumId:[0-9]+,"))return u=/albumId:([0-9]+),/.exec(t)[1],o=/ownerId:([0-9]+),/.exec(t)[1],!1;if(t.match("XN\\.page\\.data\\s*=\\s*{[^}]*id:[0-9]+"))return u=/album\/([0-9]+)/.exec(e.url)[1],o=/XN\.page\.data\s*=\s*{[^}]*id:([0-9]+)/.exec(t)[1],!1});if(t.indexOf("@@")>0&&!o)return;t=t.replace("@@",o).replace("##",u)}(new RegExp("[?&]t=([0-9a-z]{32})")).test(e.url)?t=t.replace("**",RegExp.$1):t=t.replace("&t=**","");var a=sn(i),f=a.current,l=a.last,c="";r.each(function(){for(var e=0;e<this.childNodes.length;e++)if(this.childNodes[e].nodeType==3){var t=this.childNodes[e].nodeValue.match(/共\s*[0-9]+\s*[张个]/);if(t){c=this.childNodes[e].nodeValue,this.childNodes[e].nodeValue=t;break}}}),n.child(0).attr("page",f),typeof s!="undefined"&&p("@div").add(s.find(".story-pic-list")).addTo(s);for(var h=0;h<=l;h++){if(h==f)continue;Zt(t.replace("%%",h),function(t,o,u){if(!t){i.find("ol").show(),r.each(function(){for(var e=0;e<this.childNodes.length;e++)if(this.childNodes[e].nodeType==3&&/共\s*[0-9]+\s*张/.test(this.childNodes[e].nodeValue)){this.childNodes[e].nodeValue=c;break}});return}try{if(p("#single-column table.photoList").exist())var a=/(<table\s[^>]*?class="([^"]+\s)*photoList(\s[^"]+)*"[^>]*?>[\s\S]+?<\/table>)/.exec(t)[1];else if(e.url.indexOf("/channel-albumshow")!=-1)var a=/<div\s[^>]*?class="([^"]+\s)*photo-list(\s[^"]+)*"[^>]*?>\s*(<ul[\s\S]+?<\/ul>)/.exec(t)[3];else if(e.url.indexOf("/photo/ap/")!=-1)var a=/<div\s[^>]*?class="([^"]+\s)*photo-list(\s[^"]+)*"[^>]*?>([\s\S]+?)<\/div>/.exec(t)[3];else if(p(".all-photos>.photo-list").exist())var a=/<div\s[^>]*?class="([^"]+\s)*photo-list(\s[^"]+)*"[^>]*?>\s*(<ul>[\s\S]+?<\/ul>)/.exec(t)[3];else if(p(".share-photo-main>.photo-list").exist())var a=/<div\s[^>]*?class="([^"]+\s)*photo-list(\s[^"]+)*"[^>]*?>\s*(<ul>[\S\s]+?<\/ul>)/.exec(t)[3];else if(p(".group-home>div>.album-list").exist())var a=/(<ul\s[^>]*?class="([^"]+\s)*album-list(\s[^"]+)*">[\s\S]+?<\/ul>)/.exec(t)[1];else var a=/<div\s[^>]*?class="([^"]+\s)*photo-list(\s[^"]+)*"[^>]*?>([\s\S]+?)<\/div>/.exec(t)[3],f=/<!--start storyList mode-->\s*<div\s[^>]*?class="([^"]+\s)*story-pic(\s[^"]+)*"[^>]*?>([\s\S]+?)<\/div>\s*<!--story mode end-->/.exec(t)[3];var l;if(u>parseInt(n.child(-1).attr("page")))l=n.heirs();else{var h=0,d=n.heirs()-1;while(h<=d){var v=Math.floor((h+d)/2);u>parseInt(n.child(v).attr("page"))?h=v+1:d=v-1}l=h}n.add(p("@div").html(a).child(0).attr("page",u),l),typeof s!="undefined"&&s.exist()&&s.add(p("@div").html(f),l)}catch(m){en("showImagesInOnePage::$get",m)}},h)}i.find("ol").hide()}function ht(t,l){function v(d){function v(e){Zt(e,function(e){if(!e){S();return}if(!c.text().match("分析中"))return;try{var t=JSON.parse(e).photoList}catch(n){S(),en("addDownloadAlbumLink::ajaxInfo","相册内容解析失败");return}var r=zt("download_album"),i=t.length,s=0;for(var o=0;o<i;o++){var u=t[o],a=u.xLarge||u.largeUrl;if(a){r.push({i:u.position||o,src:a,title:(u.title||"").replace(/ 浏览\(\d+\) 评论\(\d+\)$/,"")}),s++;var f="分析中...("+s+"/"+i+")";c.text(f),h.text(f)}else s--}i==s&&S()})}function S(){try{c.text("下载当前页图片"),h.text("下载当前页图片");if(zt("download_album").length==0)alert("无法获取任何图片的地址");else{var d=p(".photo-list span.img a[down],table.photoList td.photoPan>a[down],.photo-list>ul>li>a.cover[down],ul.album-list>li>a.photo-box[down],.photo-list ul>li>a.picture[down], li.photo-item>a[down]"),v=[];d.exist()&&d.each(function(){v.push(this.href)});var m=p(".ablum-infor>h1").clone();m.find("span.num").remove();var g=m.text();g||(g=p(".ablum-Information .Information h1").text()),g||(g=p(".photo-title .Information h1").text());if(!g){var y=p(".album-meta .detail>.name").clone();y.find("strong").remove(),g=y.text().replace(/^ - /,"")}g||(g=p(".compatible>#content>.pager-top>span>h3").text()),g||(g=p("#photos>.breadcrumb>span[title]").attr("title")),g||(g=p(".page-title>h3").text());var b={ref:e.url,title:g,data:zt("download_album"),unknown:v,type:t};if(l!="普通模式"||e.agent==n||e.agent==o){var w='<html><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"><title>下载相册</title><style>#udetail { margin-left: 1em; }img { height: 128px; width: 128px; border: 1px solid #000000; margin: 1px; }</style><script>var album = null;function $(id) {if (id[0] == "#") {return document.getElementById(id.substring(1));} else {return document.createElement(id);}};function showPhotos() {if (album == null) {$("#loading").textContent = "数据传输出错！";return;}$("#source").textContent = album.title || album.ref;$("#source").href = album.ref;if (album.unknown.length > 0) {$("#unknown").style.display = "block";$("#ucount").textContent = album.unknown.length;var ulist = $("#ulist");for (var i = 0; i < album.unknown.length; i++) {if (album.type) {var o = $("span");o.textContent = album.unknown[i];} else {var o = $("a");o.href = o.textContent = album.unknown[i];}ulist.appendChild(o);ulist.appendChild($("br"));}}$(album.type ? "#gallerytitle" : "#linktitle").style.display = "none";if (album.data.length > 0) {var list = $("#list");$("#count").textContent = album.data.length;for (var i = 0; i < album.data.length; i++) {var img = album.data[i];if (album.type) {var o = $("a");o.href = img.src;o.setAttribute("index", img.i);o.title = img.title;o.textContent = img.src;list.appendChild(o);list.appendChild($("br"));} else {var o = $("img");o.setAttribute("height", "128");o.setAttribute("width", "128");o.setAttribute("index", img.i);o.src = img.src;o.title = img.title;list.appendChild(o);}}}if (album.title) {document.title = album.title;}$("#loading").style.display = "none";$("#loaded").style.display = "block";};function switchLink() {var links = document.querySelectorAll("a[title]");for (var i = 0; i < links.length; i++) {var l = links[i];if (!l.title) {continue;}if (l.textContent != l.title) {l.textContent = l.title;} else {l.textContent = l.href;}}};function switchIndex(add) {var max = album.data.length+album.unknown.length;var links = document.querySelectorAll("*[index]");for (var i = 0; i < links.length; i++) {if (add) {links[i].title = seq(parseInt(links[i].getAttribute("index")), max) + " " + links[i].title;} else {links[i].title = links[i].title.replace(/^[0-9]+ /, "");}}};function seq(n, max) {var i = 0;for (; max > 0; max = Math.floor(max / 10)) {i++;}n = "00000" + n;return n.substring(n.length - i, n.length);};document.addEventListener("DOMContentLoaded", function() {$("#switchLink").addEventListener("click", switchLink);$("#switchIndex").addEventListener("click", function(event) {switchIndex(event.target.checked);});$("#udetail").addEventListener("click", function() {var ulist = $("#ulist");if (ulist.style.display == "none") {ulist.style.display = "";$("#udetail").textContent = "收起";} else {ulist.style.display = "none";$("#udetail").textContent = "详情";}});});window.addEventListener("message", function(msg) {if (album == null) {album = msg.data;showPhotos();}}, false);</script></head><body><div id="loading"><p>获取数据中，请稍候……</p></div><div id="loaded" style="display:none"><p><a target="_blank" href="http://code.google.com/p/xiaonei-reformer/wiki/DownloadAlbum">下载指南</a></p><p>来源：<a id="source" target="_blank"></a></p><div id="unknown" style="display:none"><p>有<span id="ucount"></span>张图片未能解析出地址<a href="javascript:;" id="udetail">详情</a></p><div id="ulist" style="display:none"><p>以下页面的图片无法解析：</p></div></div><p>图片数量：<span id="count"></span></p><div id="linktitle"><p>使用下载工具软件下载本页面全部链接即可得到下列图片</p><p><input type="button" id="switchLink" value="切换链接描述"/></p></div><div id="gallerytitle"><p>完整保存本页面（建议在图片全部显示完毕后再保存）即可在与页面同名文件夹下得到下列图片</p></div><p><input type="checkbox" id="switchIndex">在描述前添加图片序号</input></p><div id="list"></div></div></body></html>';if(l=="替换模式")document.documentElement.innerHTML=w.replace(/<script>[\s\S]*<\/script>/,""),p("@script").text(/<script>([\s\S]*)<\/script>/.exec(w)[1]).addTo(document),window.postMessage(b,"*");else{var E=window.open("javascript:'"+w+"'"),S=setTimeout(function(){E.postMessage(b,"*")},1e3);E.addEventListener("load",function(){E.postMessage(b,"*"),clearTimeout(S)},!1)}}else e.agent==r?XNR_album(b):e.agent==i?chrome.extension.sendMessage({action:"album",data:b}):e.agent==s?safari.self.tab.dispatchMessage("xnr_album",b):e.agent==u?e.oexSendRequest({action:"album",data:b}):e.agent==f?e.mxRt.create("mx.browser").tabs.newTab({url:e.mxRt.getPrivateUrl()+"album.html",position:"afterCurrrent"},function(t){setTimeout(function(){e.mxRt.post("album_for_tab_"+t.id,b)},1e3)}):e.agent==a&&sogouExplorer.extension.sendMessage({action:"album",data:b})}Xt("download_album"),p(".photo-list span.img a,table.photoList td.photoPan>a").attr({down:null})}catch(x){en("addDownloadAlbumLink::finish",x)}}if(c.text().match("分析中")){window.confirm("要中止吗？")&&S();return}zt("download_album",[]);if(p(".share-photo-main .first-page").exist()&&/share\/(\d+)\/(\d+)/.test(e.url)){c.text("分析中..."),h.text("分析中...");var m=RegExp.$1,g=RegExp.$2;v("http://share.renren.com/share/"+m+"/"+g+"/bypage?curPage=0&pageNum=1000");return}if(p(".album-main .review-mode").exist()&&/\/photo\/(\d+)\/album-(\d+)/.test(e.url)){c.text("分析中..."),h.text("分析中...");var m=RegExp.$1,g=RegExp.$2;v("http://photo.renren.com/photo/"+m+"/album-"+g+"/bypage/ajax?curPage=0&pagenum=1000");return}links=p(".photo-list span.img a, table.photoList td.photoPan>a, .photo-list>ul>li>a.cover, ul.album-list>li>a.photo-box, .photo-list ul>li>a.picture, li.photo-item>a");var y=links.size();if(y==0)return;var b=0;links.attr("down","down"),c.text("分析中...(0/"+y+")"),h.text("分析中...(0/"+y+")");var w=[];links.each(function(e){w.push({t:this,l:this.href,i:e+1})});var E=w.shift();Zt(E.l,function(e,t,n){try{n.img=null;if(e==null)return;if(!c.text().match("分析中"))return;if(e.indexOf('<body id="errorPage">')>0)return;var r=/var photo *= *({.*});?/.exec(e);if(r){r=JSON.parse(r[1]);if(r.photo&&r.photo.large){n.img=r.photo.large,n.title=r.photo.title;return}}var r=/shareData\s*:\s*({[^{]+?})/i.exec(e);if(r)try{r=JSON.parse(r[1]);if(r&&r.largeurl){n.img=r.largeurl,n.title=r.title;return}}catch(i){}var r=/XN.PAGE.albumPhoto.init\((.*?)\);/i.exec(e);if(r){r=JSON.parse("["+r[1].replace(/'.*?'/g,"0").replace(",photo:",',"photo":')+"]")[10];if(r&&r.photo&&r.photo.large){n.img=r.photo.large,n.title=r.photo.title;return}}var r=/<img[^>]+id="photo".*?>/
.exec(e);if(r){r=/src=\"(.*?)\"/.exec(r);if(r&&r[1]&&r[1].indexOf("/a.gif")==-1){n.img=r[1];return}}}catch(i){en("addDownloadAlbumLink::$get",i)}finally{var s={i:n.i,src:n.img,title:(n.title||p(n.t).find("img").attr("alt")||"").replace(/ 浏览\(\d+\) 评论\(\d+\)$/,"")};n.img!=null&&(zt("download_album").push(s),p(n.t).attr({down:null}));var o=!1;if(!n.hasOwnProperty("img")||!/xlarge_|original_|\/p_/.test(n.img))if(/\/(\d+)\/.*?(\d+)/.test(n.l)){var o=!0,u=RegExp.$1,a=RegExp.$2;Zt("http://photo.renren.com/photo/"+u+"/photo-"+a+"/large?xtype=album",function(e,t,r){if(/src="([^"]+?(xlarge|original)_[^"]+)"/.test(e)||!n.img&&/src="([^"]+?large_[^"]+)"/.test(e))r.src=RegExp.$1,n.img==null&&(zt("download_album").push(r),p(n.t).attr({down:null}));b++,y==b?c.text().match("分析中")&&S():c.text().match("分析中")&&(c.text("分析中...("+b+"/"+y+")"),h.text("分析中...("+b+"/"+y+")"))},s)}if(!o){b++;if(b==y){c.text().match("分析中")&&S();return}c.text("分析中...("+b+"/"+y+")"),h.text("分析中...("+b+"/"+y+")")}if(w.length>0){var f=w.shift();Zt(f.l,arguments.callee,f)}}},E)}if(p(document.body).attr("downloadable")=="yes")return;if(p(".photo-list,table.photoList,ul.album-list").empty())return;var c=p("@a").attr({style:"background-image:none;padding-left:10px;padding-right:10px",href:"javascript:;"}).text("下载当前页图片"),h=null;if(p(".function-nav.bottom-operate ul.nav-btn").exist())p(".function-nav.bottom-operate ul.nav-btn").eq(-1).add(p("@li").attr("class","pipe").text("|")).add(p("@li").add(c)),h=c.clone().css("line-height","23px").css("float","left"),p(".opera-bar").add(h);else if(p(".function-nav.photolist-pager").exist())p("@div").add(c).move("before",p(".function-nav.photolist-pager")),h=c.clone().css("padding-left","0"),p(".album-meta .detail").add(p("@p").add(h));else if(p(".share-operations").exist())p(".share-operations").add(p("@span").attr("class","pipe").text("|")).add(c),h=c.clone().css("padding-left","0"),p(".Information").add(p("@p").add(h));else if(p("table.photoList").exist()){var d=p("table.photoList").superior();d.child(-1).tag()=="DIV"&&d.find("div>p>span").exist()?d.find("div>p>span").superior().add(c):d.add(c.attr("style",null)),h=c.clone(),h.move("after",p("#content > .pager-top"))}else if(p("div.photo-list ul.private-album, div.photo-list ul.public-album").exist())p(".album-opera").add(c,0),h=c.clone(),h.move("after",p(".breadcrumb"));else if(p(".group-home ul.album-list").exist())c.move("before",p(".group-home>.pagerbox").eq(-1)),h=c.clone(),h.move("after",p(".group-home>.pagerbox").eq(0));else{if(!p(".pager-bottom,.pagerbottom").exist())return;p(".pager-bottom,.pagerbottom").add(c.css("lineHeight","22px"),0)}c.bind("click",v),h?h.bind("click",v):h=p("@dummy"),p(document.body).attr("downloadable","yes")}function pt(e){if(e){if(e.target.nodeType!=1)return;var t=p(e.target).find("a.vocal-player[data-vocal]")}else var t=p("a.vocal-player[data-vocal]");if(t.empty())return;t.each(function(){var e=p(this);if(e.find("#fileLink").exist())return;var t=e.attr("data-vocal");if(/'?url'?\s*:\s*['"]([^'"]+)['"]/.test(t)){var n=RegExp.$1;p("@a").attr("id","fileLink").attr("href",n).attr("style","position:absolute;right:10px;line-height:28px").text("下载").addTo(e)}})}function dt(){p("#photoContainer").attr({onmouseover:"var o=document.querySelector('.tagshowcon');if(o)o.style.visibility='hidden'",onmouseout:"var o=document.querySelector('.tagshowcon');if(o)o.style.visibility=null"})}function vt(){var e=window.localStorage.getItem("xnr_image_cache");e||(e="{}");var t=JSON.parse(e);for(var n in t)t[n].life<=0?delete t[n]:t[n].life--;zt("image_cache",t)}function mt(e,t,n){function m(e,t){e.indexOf("/")!=-1&&(e=e.substring(e.lastIndexOf("/")+1));var n=zt("image_cache");if(!t)return n[e]?(n[e].life=100,window.localStorage.setItem("xnr_image_cache",JSON.stringify(n)),n[e].src):"";t!="error"&&t.indexOf("a.gif")==-1&&(n[e]={src:t,life:100},window.localStorage.setItem("xnr_image_cache",JSON.stringify(n)))}function g(e,t,n,r,i,s,o){if(!t){b(r.pageX,null,i,n);switch(e){case"image":S(s,i,n);break;case"pages":E(s,i,n);break;case"album":w(s,0,i,o,n);break;case"blog":x(s,i,n);break;case"xiaozu":T(s,i,n);break;case"xiaozhan":N(s,i,n);break;case"photo-info":C(s,i,n)}}else{var u=y(r.target);u.bind("click",function(){zt("image_magnifier").remove(),Xt("image_magnifier"),g(e,!1,n,r,i,s,o)})}}function y(e){var t=p("@img").attr({style:"z-index:199999;position:absolute;opacity:0.7",height:22,width:22}).attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAAw1BMVEUxlJ9TVVJWWFVZW1hhYmBPe7JRfbR4endVf7dVg7Rfg7Zah7ljh7qChIFki7iJi4iKjImWm52cnpt4qNSho6CCrNOmqKWFrtaIstqJs9uSttiUuNqXvN6ZvuC3uraevtuzvMSgwN29v7ylxeK6wsqtxOOvxuW9xc2pyebAxsi1yeKvy+O3yuS7yt61zd+zzua7zujKz9G90erG0uDF1enO1t/O2ujZ3uHY4enZ4urc4uTi6Ord6ffh6fLp6+jl7fbp8frKBh0+AAAAAXRSTlMAQObYZgAAAQtJREFUGNN10O1ygjAQBdBoS0wjkoC2tAQECioWFD+ItqYQ3v+pZCggztj7J5mTnZ3dAFCH1AH3IXrIheChfvdAPbF1GXO3wqM95SpEaZrEL1DlnRNPzcsSH1IsZa56bR9dwHI8zg6VYwmF3hSHG1zWmkRIok34V064m+J0t0vjKPCR7fKGhZXESRwtF4HvMMsUHfvR8itaBIHPzGnH3J0qH8y2mfVuKq9+22R1VHJo1YG/8LhqJjQEyiGyHcdBKEfCaJcMNSklCgJUHVrYrUnPGsZJFYy1c++z6Lr4PmXZ6adYk9nb882N/aUoLntjAsj88+ZgQiklo+oyHJG+dxn87/Onhz57xGAwBFen2iHevJ8kLwAAAABJRU5ErkJggg%3D%3D").attr({onmouseover:"this.style.opacity=1",onmouseout:"this.style.opacity=0.7"}),n=p(e),r=n.rect(!0);if(!/\s(avatar|clipImageBig)\s/.test(" "+e.parentNode.className+" ")&&r.height!=r.width){var i=p(e.parentNode).rect(!0);i.height<r.height&&i.width<=r.width&&(r=i)}var s=p(e.parentNode.parentNode);return e.parentNode.tagName=="A"&&s.find(".myphoto-info").size()==1?t.css({left:Math.floor(r.right-22)+"px",top:Math.floor(r.top)+"px"}):t.css({left:Math.floor(r.right-22)+"px",top:Math.floor(r.bottom-22)+"px"}),t.addTo(document),zt("image_magnifier",t),t}function b(e,t,n,r,i){const s="data:image/jpeg;base64,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%3D%3D";Wt("image_viewer")||(r?(zt("image_viewer").viewer=p("@div").attr("style","border:3px double #666666;display:none;background:#F6F6F6;top:2px;z-index:199999;right:2px;position:fixed").addTo(document),zt("image_viewer").image=p("@img").addTo(zt("image_viewer").viewer)):(zt("image_viewer").viewer=p("@div").attr("style","border:3px double #666666;display:none;background:#F6F6F6;top:2px;z-index:199999;right:2px;position:fixed;overflow-x:auto").addTo(document),zt("image_viewer").image=p("@img").attr("onload","this.parentNode.style.overflowY=(Math.floor(this.height)>Math.floor(window.innerHeight)-10?'scroll':'auto');this.title=''").attr("onerror","this.src='"+s+"';this.title=''").addTo(zt("image_viewer").viewer))),i&&zt("image_viewer").image.attr("lid",n),window.setTimeout(function(){var i=zt("image_viewer").viewer,o=zt("image_viewer").image;if(!t)o.attr("src","http://s.xnimg.cn/imgpro/bg/bg_line_loading.gif"),o.attr("title",""),o.attr("lid",n);else if(t=="error"){if(!!n&&n!=o.attr("lid"))return;o.attr("src",s)}else{if(n!=o.attr("lid"))return;(r?o:i).css({maxHeight:Math.floor(window.innerHeight)-10+"px",maxWidth:Math.floor(window.innerWidth)-20+"px"}),o.attr("title","图片下载显示中..."),o.attr("src",t)}e!=null&&i.css("display")=="none"&&(e>document.body.clientWidth/2?i.css({left:"2px",right:""}):i.css({left:"",right:"2px"}),i.css({display:"block",postion:"fixed"}))},500)}function w(e,t,n,r,i){var s=e+(e.indexOf("?")==-1?"?":"&")+"curpage="+t,o=function(s,o){if(!s||s.indexOf('"errorPage"')!=-1||s.indexOf('"error404Page"')!=-1){b(null,"error",n,i);return}Xt("last_album_html_cache"),zt("last_album_html_cache",{url:o,data:s});try{var u=null,a=new RegExp('<a\\s[^>]*?href="(.*?)"[^>]*?>[^<]*?<img\\s([^>]*?src="http://[^"]+?large_.*?'+n+'"[^>]*?)>',"ig");while(u=a.exec(s))if(u[2].indexOf('type="hidden"')==-1&&u[2].indexOf('class="avatar"')==-1){u=/src="(.*?)"/.exec(u[2])[1],m(n,u),b(null,u,n,i);return}u=null,a=new RegExp('<a\\s[^>]*?href="(.*?)"[^>]*?>[^<]*?<img\\s([^>]*?src="http://[^"]+?'+n+'"[^>]*?)>',"ig");while(u=a.exec(s))if(!u[2].match('"http://[^"]+tiny_')&&u[2].indexOf('type="hidden"')==-1&&u[2].indexOf('class="avatar"')==-1){u=u[1];break}if(!u){a=new RegExp('<a\\s[^>]*?href="(.*?)"[^>]*?>[^<]*?<img\\s([^>]*?style="background-image:\\s+url\\(&quot;http://[^"]+?main_.*?'+n+'"[^>]*?)>',"ig");while(u=a.exec(s))if(u[2].indexOf('type="hidden"')==-1&&u[2].indexOf('class="avatar"')==-1){u=u[1];break}}if(!u&&r){a=new RegExp('<a\\s[^>]*?href="(.*?)"[^>]*?>[^<]*?<img\\s([^>]*?src="http://[^"]+?/'+r+'/.*?"[^>]*?)>',"ig");while(u=a.exec(s))if(!u[2].match('"http://[^"]+tiny_')&&u[2].indexOf('type="hidden"')==-1&&u[2].indexOf('class="avatar"')==-1){u=u[1];break}if(!u){a=new RegExp('<a\\s[^>]*?href="(.*?)"[^>]*?>[^<]*?<img\\s([^>]*?style="background-image:\\s+url\\(&quot;http://[^"]+?/'+r+'/.*?"[^>]*?)>',"ig");while(u=a.exec(s))if(!u[2].match('"http://[^"]+tiny_')&&u[2].indexOf('type="hidden"')==-1&&u[2].indexOf('class="avatar"')==-1){u=u[1];break}}if(!u){a=new RegExp('<a\\s[^>]*?href="(.*?)"[^>]*?>[^<]*?<img\\s([^>]*?src="http://.*?/'+/[0-9]{8}/.exec(r)+'/.*?"[^>]*?)>',"ig");while(u=a.exec(s))if(!u[2].match('"http://[^"]+tiny_')&&u[2].indexOf('type="hidden"')==-1&&u[2].indexOf('class="avatar"')==-1){u=u[1];break}if(!u){a=new RegExp('<a\\s[^>]*?href="(.*?)"[^>]*?>[^<]*?<img\\s([^>]*?style="background-image:\\s+url\\(&quot;http://.*?/'+/[0-9]{8}/.exec(r)+'/.*?"[^>]*?)>',"ig");while(u=a.exec(s))if(!u[2].match('"http://[^"]+tiny_')&&u[2].indexOf('type="hidden"')==-1&&u[2].indexOf('class="avatar"')==-1){u=u[1];break}}}}if(u)u.search(/^[a-zA-Z]+:\/\//)==-1&&(u.charAt(0)!="/"?u=e.substring(0,e.lastIndexOf("/"))+"/"+u:u=e.substring(0,e.indexOf("/",e.indexOf("/")+2))+u),S(u,n,i);else{var f=/共([0-9]+)张/.exec(s);if(!f||s.indexOf("-"+f[1]+"张")!=-1){b(null,"error",n,i);return}w(e,t+1,n,r,i)}}catch(l){en("_getAlbumImage",l)}};s==zt("last_album_html").url?o(zt("last_album_html").data,s):Zt(s,o)}function E(e,t,n){var r=/\/(\d+)\/.*?(\d+)/.exec(e);if(r){Zt("http://page.renren.com/jomo/act/album/ajaxgetphoto?pid="+r[1]+"&photoId="+r[2],function(e){try{var r=JSON.parse(e);m(t,r.data.url),b(null,r.data.url,t,n)}catch(i){b(null,"error",t,n)}});return}b(null,"error",t,n)}function S(e,t,n){Zt(e,function(e){if(!e||e.indexOf('"errorPage"')!=-1){b(null,"error",t,n);return}try{var r=/photosJson *= *({.*});?/.exec(e);if(r){r=JSON.parse(r[1]);if(r.currentPhoto&&r.currentPhoto.large){m(t,r.currentPhoto.large),b(null,r.currentPhoto.large,t,n);return}}var r=/var photo *= *({.*});?/.exec(e);if(r){r=JSON.parse(r[1]);if(r.photo&&r.photo.large){m(t,r.photo.large),b(null,r.photo.large,t,n);return}}var r=/XN.PAGE.albumPhoto.init\((.*?)\);/i.exec(e);if(r){r=JSON.parse("["+r[1].replace(/'.*?'/g,"0").replace(",photo:",',"photo":')+"]")[10];if(r&&r.photo&&r.photo.large){m(t,r.photo.large),b(null,r.photo.large,t,n);return}}var r=/<img[^>]+id="photo".*?>/.exec(e);if(r){r=/src=\"(.*?)\"/.exec(r);if(r&&r[1]&&r[1].indexOf("/a.gif")==-1){m(t,r[1]),b(null,r[1],t,n);return}}b(null,"error",t,n)}catch(i){en("_getImage",i)}})}function x(e,t,n){var r=function(e,r){try{if(!e||e.search('<body id="errorPage">')!=-1){b(null,"error",t,n);return}Xt("last_blog_html"),zt("last_blog_html",{url:r,data:e});var i=(new RegExp('<img [^>]*?src="(.*?'+t+')".*?>')).exec(e);i?(i=i[1],m(t,i),b(null,i,t,n)):showViewer(null,"error",t)}catch(s){en("_getBlogImage",s)}};e==zt("last_blog_html").url?r(zt("last_blog_html").data,e):Zt(e,r)}function T(e,t,n){Zt(e,function(e){try{if(!e||e.search('<body id="errorPage">')!=-1){b(null,"error",t,n);return}var r=(new RegExp('<div class="group-photo">\\s*<img [^>]*?url\\((.*?)\\).*?>')).exec(e);r&&r[1].indexOf(t)>=0?(r=r[1],m(t,r),b(null,r,t,n)):b(null,"error",t,n)}catch(i){en("_getXiaozuImage",i)}})}function N(e,t,n){var r=function(e,r){try{if(!e||e.search('<body id="errorPage">')!=-1){b(null,"error",t,n);return}Xt("last_xiaozhan_html"),zt("last_xiaozhan_html",{url:r,data:e});var i=(new RegExp("head:'([^']+"+t+"[^']*)'")).exec(e);i?i=i[1]:i=null;if(!i){var s=new RegExp('<img [^>]*?src="([^"]*?'+t+'[^"]*?)"[^>]*?>',"ig"),o=null;while(i=s.exec(e)){i=i[1];if(/large_|original_/.test(i))break;/h_main_/.test(i)&&(o=i)}!i&&o&&(i=o)}i?(m(t,i),b(null,i,t,n)):b(null,"error",t,n)}catch(u){en("_getXiaozhanImage",u)}};e==zt("last_xiaozhan_html").url?r(zt("last_xiaozhan_html").data,e):Zt(e,r)}function C(e,t,n){Zt(e,function(e){if(e)try{var r=JSON.parse(e);if(r.photo&&r.photo.largeUrl){var i=r.photo.largeUrl;m(t,i),b(null,i,t,n);return}}catch(s){}b(null,"error",t,n)})}try{if(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)return;if(e.relatedTarget==null)return;Wt("image_magnifier")&&(zt("image_magnifier").remove(),Xt("image_magnifier"));var r=e.target,i,s,o=null,u,a;switch(r.tagName){case"IMG":r.src.indexOf("xnimg.cn/a.gif")!=-1?r.style.backgroundImage.indexOf("url(")!=-1&&(i=r.style.backgroundImage.replace(/^url\("?|"?\);?$/g,"")):r.src.indexOf("/default-pic.png")!=-1?i=null:i=r.src;break;case"SPAN":case"DIV":r.style.backgroundImage.indexOf("url(")!=-1&&(i=r.style.backgroundImage.replace(/^url\("?|"?\);?$/g,""));break;case"A":r.style.backgroundImage.indexOf("url(")!=-1?(i=r.style.backgroundImage.replace(/^url\("?|"?\);?$/g,""),u=r.href):r.className==="picture"&&r.children.length===1&&r.firstElementChild.tagName=="IMG"&&(r=r.firstElementChild,i=r.src)}if((!i||i.match("/large|_large|large_|original_|/photos/0/0/|/page_pic/|/homeAd/|/[sa]\\.xnimg\\.cn/|app\\.xnimg\\.cn|/L[^/]+$")&&!i.match("[0-9a-zA-Z]{10,}_(p_)?(large|original)"))&&!r.getAttribute("data-large")&&!r.getAttribute("data-src")&&!r.getAttribute("data-photo")){/large|original/.test(i)&&r.tagName=="IMG"&&(r.naturalWidth*.8>r.width||r.naturalHeight*.8>r.height)?(a=i.substring(i.lastIndexOf("_")),b(e.pageX,i,a,t,!0)):Wt("image_viewer")&&r!=zt("image_viewer").viewer&&r!=zt("image_viewer").image&&(zt("image_viewer").viewer.css("display","none"),zt("image_viewer").image.attr({src:null,lid:""}));return}a=i.substring(i.lastIndexOf("_")),i.match(/http:\/\/.*?\.img\.renren\.com\/pic\d+\/\d{8}\/\d+\/H.*?\.jpg/)&&(a=i.substring(i.lastIndexOf("/H")+2)),s=m(a);if(s){b(e.pageX,s,a,t,!0);return}var f=r.getAttribute("data-large");if(f){b(e.pageX,f,a,t,!0);return}f=r.getAttribute("data-src");if(f&&/large|original/.test(f)){b(e.pageX,f,a,t,!0);return}f=r.getAttribute("data-photo");if(f&&/(['"])?large(['"])?:['"]([^'"]+)['"]/.exec(f)){s=RegExp.$3;if(/\/p_large_|\/large_|\/original|\/xlarge/.test(s)){b(e.pageX,s,a,t,!0);return}if(/\/main_/.test(s)){b(e.pageX,null,a,t,!0);var l=new Image;l.onerror=function(){l.src.indexOf("/large_")>0?l.src=l.src.replace("/large_","/original_"):b(e.pageX,l.src,a,t,!0)},l.onload=function(){m(a,l.src),b(e.pageX,l.src,a,t,!0)},l.src=s.replace("/main_","/large_");return}}f=r.getAttribute("largesrc");if(f){b(e.pageX,f,a,t,!0);return}f=r.getAttribute("data-photo");if(f&&/owner:['"]\d+['"]/.test(f)&&/id:['"]\d+['"]/.test(f)){var c=/owner:['"](\d+)['"]/.exec(f)[1],h=/id:['"](\d+)['"]/.exec(f)[1];g("photo-info",n,t,e,a,"http://photo.renren.com/photo/"+c+"/photo-"+h+"/layer");return}if(!u){r.parentNode.tagName=="A"?r.parentNode.href.match(/^#|^javascript:/)||(u=r.parentNode.href):r.parentNode.parentNode.tagName=="A"&&(u=r.parentNode.parentNode.href);if(!u)return}if(i.indexOf("/upload/movie/cover/")!=-1){s=i.replace("/cover/","/bigcover/"),m(a,s),b(e.pageX,s,a,t,!0);return}if(i.indexOf("head_")!=-1&&!i.match(/head_.+_/)&&i.indexOf("http://hd")==-1){s=i.replace("head_","large_"),m(a,s),b(e.pageX,s,a,t,!0);return}if(Ut("album")&&Ut("photo",u)){var d=p(".review-mode .pic img[data-src*='large_'][data-src*='"+a+"'],.review-mode .pic img[data-src*='original_'][data-src*='"+a+"']");if(d.empty()){var d=p(".review-mode .pic img[src*='large_'][src*='"+a+"'],.review-mode .pic img[src*='original_'][src*='"+a+"']");d.empty()&&(d=p(".story-pic .story-pic-list .photo-img img[lazy-src*='large_'][lazy-src*='"+a+"'],.story-pic .story-pic-list .photo-img img[lazy-src*='original_'][lazy-src*='"+a+"']"),d.empty()&&(d=p(".story-pic .story-pic-list .photo-img img[src*='large_'][src*='"+a+"'],.story-pic .story-pic-list .photo-img img[src*='original_'][src*='"+a+"']")))}if(d.exist()){s=d.attr("data-src")||d.attr("lazy-src")||d.attr("src"),m(a,s),b(e.pageX,s,a,t,!0);return}}if(u.match("page\\.renren\\.com/\\.*/album/")){g("album",!1,t,e,a,u);return}if(i.match("tiny_|head_")&&/\/page\.renren\.com\/([0-9]{9})\?/.test(u)){u="http://page.renren.com/"+RegExp.$1+"/album?head",o=/\/([0-9]{8}\/[0-9]+)\//.exec(i)[1],g("album",!1,t,e,a,u,o);return}if(u.indexOf("blog.renren.com/GetEntry.do?")!=-1){g("blog",n,t,e,a,u);return}if(u.match("page\\.renren\\.com/\\d+/note/\\d+")){g("blog",!1,t,e,a,u);return}if(u.match(/event\.renren\.com\/event\/\d+\/\d+\/photo/)){g("image",!1,t,e,a,u);return}if(u.match(/xiaozu\.renren\.com\/xiaozu\/\d+\/album\/\d+\/photo\/\d+$/)){g("image",!1,t,e,a,u);return}if(u.match(/xiaozu\.renren\.com\/xiaozu\/\d+\/album\/\d+$/)){o=/\/([0-9]{8}\/[0-9]+)\//.exec(i)[1],g("album",!1,t,e,a,u,o);return}if(u.match(/xiaozu\.renren\.com\/xiaozu\/\d+$|xiaozu\.renren\.com\/xiaozu\/\d+\?/)){g("xiaozu",!1,t,e,a,u);return}if(u.match(/\/zhan\.renren\.com\//)){u.indexOf("?")>0&&(u+="&ajax=true"),g("xiaozhan",!1,t,e,a,u);return}i.match(/head\.xiaonei\.com\/photos\/[0-9]{8}\/[0-9]+\/head[0-9]+\./)&&(o=/photos\/([0-9]{8}\/[0-9]+)/.exec(i)[1]);if((i.indexOf("tiny_")!=-1||i.indexOf("tiny")!=-1&&i.indexOf("_")==-1)&&u.indexOf("album")==-1&&u.indexOf("page.renren.com")==-1){if(i.match("head\\.xiaonei\\.com/photos/[0-9]{1,7}/[0-9]{1,7}/tiny[0-9]+\\.jpg"))o=/photos\/[0-9]{1,7}\/[0-9]{1,7}\/tiny/.exec(i)[1];else try{o=/\/([0-9]{8}\/[0-9]+)\//.exec(i)[1]}catch(v){}/profile\.do\?id=600\d{6}/.test(u)?u="http://page.renren.com/"+/id=(\d+)/.exec(u)[1]+"/album?head":u="http://photo.renren.com/photo/"+/id=(\d+)/.exec(u)[1]+"/album-profile"}else u.indexOf("/profile.do?")!=-1?u="http://photo.renren.com/photo/"+/id=(\d+)/.exec(u)[1]+"/album-profile":/\/(\d+)\/profile/.test(u)&&(u="http://photo.renren.com/photo/"+RegExp.$1+"/album-profile");if(Ut("share",u)){g("album",!1,t,e,a,u,o);return}if(Ut("pages",u)&&Ut("photo",u)&&/page\.renren\.com\/\d+\//.test(u)){g("pages",!1,t,e,a,u,o);return}if(Ut("album",u)){u.match("page\\.renren\\.com")||u.match("/photo/ap/")?g("album",!1,t,e,a,u,o):g("album",n,t,e,a,u,o);return}if(Ut("photo",u)&&u.match("getphoto\\.do|gettagphoto\\.do|/photo\\.renren\\.com/photo/[0-9]+/photo-[0-9]+|/page\\.renren\\.com/.*/photo/|photo\\.renren\\.com/photo/sp/|lover\\.renren\\.com/photo/")){i.match("\\.img\\.xiaonei\\.com/pic[0-9]{3}/[0-9]{8}/[0-9]{2}/[0-9]{2}/[0-9]{2}/H[0-9A-Z]{9}\\.jpg")&&(a=a.replace(/H([0-9A-Z]{9}\.jpg)$/,"L$1")),u.match("page.renren.com")||u.match("/photo/sp/")?g("image",!1,t,e,a,u):g("image",n,t,e,a,u);return}}catch(v){en("showFullSizeImage",v)}}function gt(){Xt("image_cache"),Xt("last_xiaozhan_html"),Xt("last_blog_html"),Xt("last_album_html"),window.localStorage.setItem("xnr_image_cache","{}"),window.alert("缓存已经清空")}function yt(){var e=p("#whisper");e.exist()&&e.prop("checked")==0&&Jt(e.prop("checked",!0).attr("onclick"))}function bt(){var e=p(".full-page-holder a:not([class]):not([id]):not([style]):not([stats]):not([href^='javascript:'])");if(e.empty()){var e=p("@a").attr("href","#").addTo(document.body),t=e.curCSS("color");e.remove()}else var t=e.curCSS("color");Kt(".lively-user, a.lively-user:link, a.lively-user:visited{color:"+t+"}")}function wt(){const e="window.user.star=true";Jt(e)}function Et(){if(p("#basicInfo_form").empty())return;var e=p("#nkname");if(e.empty()){if(p("#basicInfo_form>p>#name").empty())return;var t=p(".status-holder");try{var n=t.get().childNodes[t.find("h1.username").index()+1].textContent;n=n.replace(/\n/g,"").replace(/^[ \t]+|[ \t]+$/,"").replace(/^\(/,"").replace(/\)$/,"")}catch(r){var n=""}p("@p").html('<label for="nkname"><span>昵称:\n</span>	</label><input type="text" class="input-text" id="nkname" value="" tabindex="1" maxlength="12" name="name"/>').move("after",p("#basicInfo_form>p").filter("#name")),p("#nkname").val(n)}else{if(!e.attr("readonly"))return;e.attr({readonly:null}),e.superior().find("span.hint.gray").remove()}const i="window.XN.page.ProfileEdit.basicInfo.checkNkName=function(){}";Jt(i)}function St(){if(p("#basicInfo_form").empty())return;if(p("#myProvince").empty())return;p("label[for='myProvince'] em,label[for='homeprovince'] em").remove();const e="var a=window.XN.page.ProfileEdit.basicInfo.checkData=function(){return true}";Jt(e)}function xt(e){var t=Rt("xnsid");if(!t)return;var n=370840187;for(var r=0;r<t.length;r++){var i=n*t.charCodeAt(r)&-1;n=(i<<6)+(i>>>26)}n=Math.abs(n);if(n==parseInt(e,16))return;Gt("lastSid",n.toString(16)),Zt("http://safe.renren.com/alarm/alarmIndex/info/",function(e){if(e==null){en("showLoginInfo","地址改变？");return}if(e.indexOf("</html>")>0){en("showLoginInfo","跨域失败？内容改变？");return}e=e.replace(/<(\/?)a[^>]*>/g,"<$1span>").replace("<dt>当前登录信息</dt>",""),e+="<div><a style='float:right;padding:5px' href='http://safe.renren.com/alarm/alarmIndex' target='_blank'>更多信息<a></div>",Vt("登录信息",e,"0x0-5-5",15,5)})}function Tt(t){try{var n=t.target;if(Wt("shortcut_menu")){var r=zt("shortcut_menu"),i=r.m.get();if(n==i||i.compareDocumentPosition(n)&16)return;var s=r.t.getBoundingClientRect();if(t.clientX>=s.left&&t.clientX<=s.right&&t.clientY>=s.top&&t.clientY<=s.bottom)return;r.m.remove(),Xt("shortcut_menu")}if(n.tagName=="IMG")return;n.tagName!="A"&&n.childElementCount==0&&!n.nextElementSibling&&!n.previousElementSibling&&n.parentNode.tagName=="A"&&!n.style.backgroundImage&&(n=n.parentNode);if(n.tagName!="A")return;var o=n.getAttribute("namecard");if(!o||!/^\d+$/.test(o)){if(!/\/profile\.do\?/.test(n.href)&&!/\/\/www\.renren\.com\/g\//.test(n.href)&&!/\/www\.renren\.com\/\d+$|\/www\.renren\.com\/\d+[?#\/]/.test(n.href)&&!/\/\d+\/profile\?/.test(n.href))return;if(n.id||/#|&v=/.test(n.href)||n.style.backgroundImage)return;var u=p(n).text().replace(/[ \t\n\r]/g,"");if(u==""||u.length>=15)return;if(/\/\/www\.renren\.com\/g\//.test(n.href)){var o=/\/g\/([0-9]+)/.exec(n.href)[1];if(parseInt(o)>=6e8)return}else if(/\/www\.renren\.com\/\d+/.test(n.href))var o=/([0-9]+)/.exec(n.href)[1];else var o=/[&?]id=([0-9]+)/.exec(n.href)[1]}if(e.userId==o)return;var a={"Ta的新鲜事":"http://www.renren.com/moreminifeed.do?p=0&u=@@","Ta的相册":"http://photo.renren.com/getalbumlist.do?id=@@","Ta的头像相册":"http://photo.renren.com/photo/@@/album-profile","Ta的日志":"http://blog.renren.com/blog/0/friendsNews?friend=@@","Ta的状态":"http://status.renren.com/status/@@","Ta的行踪":"http://places.renren.com/web/lbsApp?pt=7&userId=@@","Ta的好友":"http://friend.renren.com/GetFriendList.do?id=@@"},f={"Ta的大头贴相册":"http://i.renren.com/hp/home?uid=@@","与Ta相关的日志":"http://blog.renren.com/SomeoneRelativeBlog.do?id=@@","Ta的分享":"http://share.renren.com/share/ShareList.do?id=@@","Ta的留言板":"http://gossip.renren.com/getgossiplist.do?id=@@","Ta的礼物":"http://gift.renren.com/show/box/otherbox?userId=@@","Ta的游戏徽章":"http://game.renren.com/medal?uid=@@","Ta的公共主页":"http://page.renren.com/home/friendspages/view?uid=@@","Ta的情侣空间ID":"http://page.renren.com/getLoverSpace?uid=@@","Ta的名片资料":"http://friend.renren.com/showcard?friendID=@@","Ta的联系方式":"http://friend.renren.com/getprofilecontact/@@"},l="<ul>";for(var c in a)l+="<li><a target='_blank' href='",l+=a[c].replace("@@",o),l+="'>"+c+"</a></li>";l+="<li><a style='float:right;font-size:x-small' href='javascript:' onclick='var me=this.parentNode;for(var p=me;p;p=p.nextElementSibling){p.style.display=null};me.style.display=\"none\";return false'/>Ta的更多</a></li>";for(var c in f)l+="<li style='display:none'><a target='_blank' href='",l+=f[c].replace("@@",o),l+="'>"+c+"</a></li>";l+="</ul>";var s=n.getBoundingClientRect(),r=zt("shortcut_menu");r.t=n,r.m=p("@div").html(l).css({position:"absolute",left:Math.floor(s.left+window.scrollX)+"px",top:Math.floor(s.bottom+window.scrollY)+"px",backgroundColor:"#EBF3F7",opacity:.88,padding:"5px 8px",border:"1px solid #5C75AA",zIndex:999987}).addTo(document.body)}catch(h){en("enableShortcutMenu",h)}}function Nt(){p("@a").text("扩展到200页").attr({style:"float:left;padding:3px",onclick:"XN.app.search._bottomPager.setPageCount(200)",href:"#nogo"}).addTo(p("#bottomPagerHolder"),0)}function Ct(){function a(e,t){var n=p(e),r=n.find(s).text().toLowerCase();r+=n.find(i).text().toLowerCase(),r+=n.find(".timestamp, .legend .duration").text();for(var o=0;o<t.length;o++)if(r.indexOf(t[o])==-1)break;return o==t.length}if(p(".j-share-list, .share-hot-list, .blog-content .blog-home, .status-list").empty())return;var t=p("@div").css({padding:"3px",marginBottom:"10px"}),n=p("#content .toolbar");n.exist()?t.move("before",n):t.move("before",p(".j-share-list, .share-hot-list, .blog-home, .status-list")),p("@input").attr({type:"text","class":"input-text"}).attr("style","width:200px;min-height:17px;margin-right:5px").addTo(t).bind("keypress",function(e){if(e.keyCode==13){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.target.nextElementSibling.dispatchEvent(t)}});var r,i,s,o,u;Ut("share")?p(".share-hot-list").exist()?(o=".share-hot-list",r=".share-hot-list>li.share",i="h3",s=".content",u=".pager-top"):(o=".j-share-list",r="#content .share-itembox",i=".share-body>h3",s=".share-content",u=".pager-top"):Ut("blog")?(o=".blog-home",r=".blog-home>.list-box,.blog-home>.list-blog",i=".title-article>strong",s=".text-article",u=".pager-top"):Ut("status")&&(o=".status-list",r=".status-list>li",i="h3",s=".content",u=null),p("@input").attr({type:"button","class":"input-button"}).attr("style","min-height:25px;margin-right:10px").val("搜索").addTo(t).bind("click",function(t){try{var n=t.target;if(n.value.indexOf("%")!=-1)return;var i=n.previousElementSibling.value;if(!i||!i.replace(/^ +/,"")){var s=0;p(r).each(function(){s<20?p(this).show():p(this).hide(),s++}),p(".pager-top,.pager-bottom,#pager_buttom").show();return}var f=i.toLowerCase().split(/ +/),l,c=null;u?l=sn(p(u)):(c=JSON.parse(un('var d=document.createElement("div");d.id="windots";var s=window.status_shower;d.textContent=JSON.stringify({pager:{_currentPage:s.pager._currentPage, _pageCount:s.pager._pageCount}, url:s.url, curShow:s.curShow, curRead:s.curRead});document.body.appendChild(d);',"#windots")),l={current:c.pager._currentPage,last:c.pager._pageCount},l.current>0&&l.current--,l.last>0&&l.last--);var h=l.current,d=l.last,v=!1;if(p("#content[cache]").empty())if(d<50)v=!0;else if(d<100)window.confirm("是否启用搜索缓存？能加快再次搜索时的速度，但会占用较多内存")&&(v=!0);else if(!window.confirm("项目太多，估计会卡上一阵子。要继续吗？"))return;n.value="0%",p(".pager-top,.pager-bottom,#pager_buttom").hide(),p(r).each(function(){a(this,f)?p(this).show():p(this).hide()});if(d<=0||p("#content[cache]").exist()){n.value="搜索";return}v&&p("#content").attr("cache","");var m;if(c===null)m=p(u).find("ol.pagerpro li:not(.current) a").prop("href").replace(/curpage=[0-9]+/,"").replace(/#.*$/,""),m.indexOf("?")==-1&&(m+="?"),m+="&__view=async-html";else switch(c.curShow){case"showMine":m=c.url.someOne+"?userId="+e.userId;break;case"showAFriend":m=c.url.someOne+"?userId="+c.curRead;break;case"showFriends":m=c.url.allFriend+"?";break;case"showHotWord":}if(!m){Jt("var s=window.status_shower;s.showHotRange(0, s.hotsCache[s.curHot].doingArray.length-1)"),p(".status-list>li").each(function(){var e=p(this);a(e,f)?e.show():e.hide()}),n.value="搜索";return}var g=1;Zt(m+"&curpage=0",function(e,t,i){try{if(!e||i==h)return;var s;if(c==null)s=p("@div").html(/<body[\S\s]+<\/body>/.exec(e));else{var u=un('var d=document.createElement("div");d.id="loadedstatus";var obj='+e+";d.textContent=window.status_shower.buildPanel(obj);document.body.appendChild(d);","#loadedstatus");s=p("@div").add(p("@ul").attr("class","status-list").html(u))}var l=p(o);s.find(r).each(function(){if(v)var e=p(this);else{var e=p("#"+this.id);e.empty()&&(e=p(this))}var t=!1;a(e,f)?(v||e.show(),t=!0):v&&e.hide(),(t||v)&&e.addTo(l)}),s.find("body").remove(),s=null,p("#content .pager-bottom,.share-home .pager-bottom").addTo(p(o))}catch(y){en("searchShare::get",y)}finally{g++,g>d?n.value="搜索":(n.value=Math.floor(g*100/(d+1))+"%",i++,Zt(m+"&curpage="+i,arguments.callee,i))}},0)}catch(y){en("searchShare::click",y)}}),p("@span").text("多个关键词请用半角空格隔开").addTo(t)}function kt(){Qt("#framenamecard")}function Lt(){var e=p("input[name='owner']").val(),t=p("input#sourceid").val();if(!e||!t)return;const n="showPhotoAuthorComment_src";if(Wt(n)){var r=zt(n).id;if(r==t)return}zt(n).id=t,p("#ownerComment").remove();var i=zt(n)["o"+t];if(i!=null){typeof i=="object"&&i.clone().move("after",p("#photoTitle"));return}var s="http://photo.renren.com/photo/0/photo-0/comment?photo="+t+"&owner="+e+"&page=";Zt(s+"0",function(r){try{if(!r)return;var i=JSON.parse(r);if(i.hasMore==0){zt(n)["o"+t]=0;return}Zt(s+Math.floor(i.commentCount/30),function(r){try{if(!r)return;var i=JSON.parse(r),s=i.comments[i.comments.length-1];if(s.author!=e){zt(n)["o"+t]=0;return}if(s.body.match("^回复.+：.+")){zt(n)["o"+t]=0;return}var o="http://www.renren.com/profile.do?id="+s.author,u=p("@div").attr({style:"background:#F0F5F8;width:600px;min-height:50px;padding:6px",id:"ownerComment"}),a=p("@dd").addTo(u);p("@a").attr("href",o).add(p("@img").attr({style:"float:left",height:"50",width:"50",src:s.headUrl})).addTo(a),p("@div").attr("style","line-height:1.4em;margin-left:58px").add(p("@a").attr("href",o).text(s.name)).addTo(a),p("@p").attr("style","margin:0 0 0 58px").html(s.body).addTo(a),zt(n)["o"+t]=u.clone(),zt(n).id==t&&u.move("after",p("#photoTitle"))}catch(f){en("showPhotoAuthorComment",f)}})}catch(o){en("showPhotoAuthorComment",o)}})}function At(){function i(e,t){var n="var count=0;(function(){var m="+e+";"+"if(!m || !m.player){"+"count++;"+"if(count<20){"+"setTimeout(arguments.callee,100)"+"}"+"}"+"if(m.player.oplay){"+"return;"+"}"+"m.player.oplay=m.player.play;"+"m.player.play=function(url){"+(t||"")+"var t=document.getElementById('dlLink');"+"if(t) {"+"t.href=url;"+"}"+"return "+e+".player.oplay.apply(this,arguments);"+"};"+"})()";Jt(n)}var e=p("@a").text("下载").attr("id","dlLink"),t;if(Ut("musicbox"))e.css("line-height","26px").addTo(p(".cur_list_action")),i("window.musicBox");else if(Ut
("fm"))e.css("line-height","42px").addTo(p(".operation"),0),i("XN.app.WebRadio");else{if(!p("#home-radio-bar").exist()){Wt("@showMusicFileLink")||zt("@showMusicFileLink",{n:0});var n=zt("@showMusicFileLink");n.n<20&&(n.n++,setTimeout(arguments.callee,1e3));return}Jt("XN.radio.home.seedLoad()");var r="var $=function(a,b){return (b?b:document).querySelector(a)};var t=$('#webpager-miniradio');if (t) {if (!$('#dlLink',t)) {var a=document.createElement('a');a.id='dlLink';a.style.lineHeight='26px';a.textContent='当前歌曲文件下载地址';var div=document.createElement('div');div.style.textAlign='center';div.appendChild(a);$('.d-person',t).appendChild(div);var ad=$('.ad-clause',t);if (ad) {ad.parentNode.removeChild(ad);}}}";i("XN.radio",r)}}function Ot(){Ut("share")&&e.url.match("//share/share/collection|//share/share/"+e.userId)?p("@a").text("清空列出的分享").attr("href","#nogo").addTo(p("@div").css({padding:"5px","text-align":"center",cursor:"pointer"}).move("before",p(".j-share-list"))).bind("click",function(){if(p(".share-itembox").empty())return;if(!window.confirm("确实要删除所有在这里显示的分享？"))return;var t=[];p(".share-itembox").each(function(){if(p(this).css("display")!="none"){var e=this.id.match("\\d+");e&&t.push(e)}});var n=t.length,r=p("@div").css({zIndex:"999999",width:"100%",height:"100%",position:"fixed",background:"rgba(0,0,0,0.8)",color:"#fff",left:0,top:0,textAlign:"center",verticalAlign:"middle",lineHeight:document.documentElement.clientHeight+"px"}).addTo(document);if(n>0){var i=function(){if(t.length>0){r.text("处理中，请稍候..."+Math.floor((n-t.length)*100/n)+"%");var s=t.shift();Zt("http://share.renren.com/share/EditShare.do?action=del&sid="+s+"&type="+e.userId,i,null,"POST")}else r.text("处理完毕，将刷新页面..."),window.location.reload()};i()}}):Ut("gossip")?p("@a").text("清空列出的留言").addTo(p("@div").css({padding:"5px","text-align":"center",cursor:"pointer"}).move("before",p("#talk"))).bind("click",function(){if(p("#talk .comment").empty())return;if(!window.confirm("确实要删除所有在这里显示的留言？"))return;var t=[];p("#talk .comment").each(function(){var n=this.id.match("\\d+");if(!n)return;var r=/delComment\('.*?','(.*?)','.*?',\d+\)/.exec(p(this).find("a[onclick^='delComment']").attr("onclick"));t.push({id:n,owner:r?r[1]:e.userId})});var n=t.length,r=p("@div").css({zIndex:"999999",width:"100%",height:"100%",position:"fixed",background:"rgba(0,0,0,0.8)",color:"#fff",left:0,top:0,textAlign:"center",verticalAlign:"middle",lineHeight:document.documentElement.clientHeight+"px"}).addTo(document);if(n>0){var i=function(){if(t.length>0){r.text("处理中，请稍候..."+Math.floor((n-t.length)*100/n)+"%");var e=t.shift();Zt("http://gossip.renren.com/delgossip.do?age=recent&id="+e.id+"&owner="+e.owner,i,null,"POST")}else r.text("处理完毕，将刷新页面..."),window.location.reload()};i()}}):Ut("status")&&e.url.match("\\?id="+e.userId)&&p("@a").text("清空列出的状态").addTo(p("@div").css({padding:"5px","text-align":"center",cursor:"pointer"}).move("before",p("ul.status-list"),0)).bind("click",function(){if(p("ul.status-list li a[onclick*='delMyDoing(']").empty())return;if(!window.confirm("确实要删除所有在这里显示的状态？"))return;var e=[];p("ul.status-list li a[onclick*='delMyDoing(']").each(function(){var t=/delMyDoing\(.*?,'(\d+)'\)/.exec(p(this).attr("onclick"));t&&e.push(t[1])});var t=e.length,n=p("@div").css({zIndex:"999999",width:"100%",height:"100%",position:"fixed",background:"rgba(0,0,0,0.8)",color:"#fff",left:0,top:0,textAlign:"center",verticalAlign:"middle",lineHeight:document.documentElement.clientHeight+"px"}).addTo(document);if(t>0){var r=function(){if(e.length>0){n.text("处理中，请稍候..."+Math.floor((t-e.length)*100/t)+"%");var i=e.shift();Zt("http://status.renren.com/doing/deleteDoing.do?id="+i,r,null,"POST")}else n.text("处理完毕，将刷新页面..."),window.location.reload()};r()}})}function Mt(){function t(e,t){var n=new Date(e),r=new Date(t);if(r.getTime()<n.getTime()){var i=r;r=n,n=i}var s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth(),u=r.getDate()-n.getDate(),a=r.getHours()-n.getHours(),f=r.getMinutes()-n.getMinutes();return s>0?o>0?" "+s+" 年又 "+o+" 个月":" "+s+" 年":o>0?" "+o+" 个月":u>0?" "+u+" 天":a>0?" "+a+" 小时":f>0?" "+f+" 分钟":"一段时间"}if(Rt("id","0")!=e.userId)return;Yt("friends_"+e.userId,function(n){var r=[],i=0;if(n!=null)try{var s=JSON.parse(n);r=s.friends||[],i=s.time||0}catch(o){}var u=(new Date).getTime();if(u-i<36e5)return;Zt('http://friend.renren.com/recommendSelector.do?p={"init":true,"uid":true,"uhead":true,"uname":true,"group":false,"net":true,"param":{}}&t='+Math.random(),function(n){function v(){d="DONE"+Math.floor(Math.random()*1e6),p(document).bind(d,m),Jt('var f=document.querySelector("iframe[src=\'http://www.renren.com/ajaxproxy.htm\']");var t=f.contentWindow.getTransport();t.open("GET","http://www.renren.com/listcards",true);t.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01");t.onload=function(){agent(t.status==200?t.responseText:null)};t.onerror=function(){agent(null)};t.send();function agent(d){if(d){var c=document.createElement("div");c.textContent=d;c.id="'+d+'";'+'c.style.display="none";'+"document.body.appendChild(c);"+"}"+'var evt=document.createEvent("HTMLEvents");'+'evt.initEvent("'+d+'",true,true);'+"document.documentElement.dispatchEvent(evt)"+"}"),h=window.setTimeout(g,8e3)}function m(){clearTimeout(h),p(document).unbind(d,m);var t=p("#"+d);try{if(t.exist()){var n=JSON.parse(t.text()).list;t.remove();var i={};for(var o=0;o<n.length;o++){var a=n[o].list;for(var f=0;f<a.length;f++)i[a[f].id]=!0}for(var o=r.length-1;o>=0;o--)r[o].id in i&&r.splice(o,1);if(r.length==0){Yt("friends_"+e.userId,JSON.stringify({friends:s,time:u}));return}}}catch(l){}g()}function g(){var n=0;Zt("http://www.renren.com/newnamecard?uid="+r[n].id,function(n,o,a){if(Rt("id","0")!=e.userId)return;if(n)try{var f=JSON.parse(n);f.isFriend&&(r[a].gone=!0)}catch(l){}a++;if(a<r.length)Zt("http://www.renren.com/newnamecard?uid="+r[a].id,arguments.callee,a);else{p(".xnr_fs").remove();var c=p("@div").attr("class","xnr_dialog xnr_fs").html('<style>.xnr_fs{width:410px;z-index:100000}.xnr_fs .title{font-weight:bold}.xnr_fs .body{background:#FFF;clear:both;height:240px;overflow-x:hidden;overflow-y:scroll}.xnr_fs li{float:left;margin:14px 0 0 14px;height:64px;width:175px;overflow:hidden}.xnr_fs a{text-decoration:none}.xnr_fs .picbox{width:50px;height:50px;padding:2px;border:1px solid lightgray;float:left}.xnr_fs .pic{width:50px;height:50px;display:block;text-align:center}.xnr_fs .pic>.gone{font-size:13px;font-weight:bold;color:#FFF;line-height:50px;background:#000}.xnr_fs h3,.xnr_fs h4{overflow:hidden;padding-left:3px;text-overflow:ellipsis}.xnr_fs h3{font-size:14px;font-weight:bold;white-space:nowrap}.xnr_fs h4{font-size:12px;font-weight:normal;color:#555}</style><div class="title"></div><div class="body"><ul class="flist"></ul></div><div class="btns"><input class="ok" type="button" value=">_<"></input></div>');c.find(".title").text("哎哟！在过去"+t(i,u)+"里，以下 "+r.length+" 人与你解除了好友关系"),c.find(".btns input").bind("click",function(){c.remove()});var h=c.find(".flist");for(var d=0;d<r.length;d++){var v=r[d],m=p("@li"),g=p("@span").attr("class","picbox").addTo(m),y=p("@span").attr("class","pic").css("background","url("+v.head+")");v.gone&&p("@span").attr("class","gone").text("已注销").addTo(y),p("@a").attr("href","http://www.renren.com/profile.do?id="+v.id).attr("title",v.name).add(y).addTo(g),p("@a").attr("href","http://www.renren.com/profile.do?id="+v.id).attr("title",v.name).add(p("@h3").text(v.name)).addTo(m),p("@h4").text(v.netName).addTo(m),m.addTo(h)}c.addTo(document.body).css({top:Math.floor(window.innerHeight-c.prop("offsetHeight"))/2+"px",left:Math.floor(window.innerWidth-c.prop("offsetWidth"))/2+"px"}),Yt("friends_"+e.userId,JSON.stringify({friends:s,time:u}))}},n)}if(!n)return;if(Rt("id","0")!=e.userId)return;try{var s=JSON.parse(n).candidate}catch(o){return}var a={};for(var f=s.length-1;f>=0;f--){var l=s[f];a[l.id]=1,delete l.isOnLine}for(var f=r.length-1;f>=0;f--)r[f].id in a&&r.splice(f,1);a=null;if(r.length==0)Yt("friends_"+e.userId,JSON.stringify({friends:s,time:u}));else if(p("iframe[src='http://www.renren.com/ajaxproxy.htm']").empty()){var c=p("@iframe").css("display","none").attr("src","http://www.renren.com/ajaxproxy.htm");c.bind("load",v),c.addTo(document.body)}else v();var h,d})})}function _t(){const e='document.body.addEventListener("dragover",function(e){if(e.dataTransfer.types.indexOf("Files")==-1){e.stopPropagation()}},true)';Jt(e)}function Dt(t,n,r,i){var s=(new Date).getTime();i=(new Date(i)).getTime(),isNaN(i)&&(i=0);if(!t&&s-i<864e5)return;t&&p(t.target).attr({disabled:"disabled",value:"检查中..."}),Zt(n,function(n){if(!n){t&&(window.alert("无法检测最新版本"),p(t.target).attr({disabled:null,value:"立即检查"})),Gt("lastUpdate",s);return}try{var i=(/@miniver[ \t]+(\d+)/.exec(n)||["","0"])[1],o=(/@version[ \t]+([0-9\.]+)/.exec(n)||["","未知"])[1];if(parseInt(i)>e.miniver){var u=Vt(null,'<div style="color:black"><div>人人网改造器已有新版本：<br/>'+o+'</div><div class="links" style="padding-top:5px;padding-bottom:5px;float:right"><a target="_blank" href="'+r+'">安装</a></div></div>',null,30,5);u.find(".links a").bind("click",function(){u.remove()})}else t&&window.alert("最新发布版："+o+"\n当前使用版："+e.version+"\n\n无需更新");p(".xnr_op #lastUpdate").text(on(s)),Gt("lastUpdate",s),t&&p(t.target).attr({disabled:null,value:"立即检查"})}catch(a){en("checkUpdate::$get",a)}})}function Pt(t,n){var r=parseInt(n);if(r<368){var i=p(".menu.xnr_opt").rect(!0);i&&p("@div").attr("id","xnr_optip").html('<div style="border-color:transparent transparent red transparent;border-style:solid;width:0;height:0;top:'+Math.floor(i.bottom-14)+"px;border-width:8px;left:"+Math.floor((i.left+i.right)/2-8)+'px;position:absolute;z-index:100000"></div><div style="background:red;-moz-border-radius:3px;border-radius:3px;top:'+Math.floor(i.bottom+2)+"px;padding:5px 10px;left:"+Math.floor(i.right-118)+'px;color:white;font-weight:bold;position:absolute;min-width:104px;-moz-box-shadow:2px 2px 5px #292929;-webkit-box-shadow:2px 2px 5px #292929;box-shadow:2px 2px 5px #292929;z-index:99999;text-align:center;-moz-user-select:none;-khtml-user-select:none;cursor:default">点击这里进行设置</div>').addTo(p("body")).bind("click",function(){p("#xnr_optip").remove()})}t&&r>0&&r<e.miniver&&Vt(null,'<div style="color:black">人人网改造器已经更新到 '+e.version+'</div><div><a href="http://code.google.com/p/xiaonei-reformer/source/browse/trunk/Release.txt" style="padding-top:5px;padding-bottom:5px;float:right" target="_blank">查看更新内容</a></div>',null,20,5),Gt("lastVersion",e.miniver)}function Ht(){var t="";t+="运行环境："+window.navigator.userAgent+"\n",t+="当前页面："+e.url+"\n",t+="程序版本："+e.version+" - "+e.agent+"\n",t+="功能设置："+JSON.stringify(e.options)+"\n\n",p("div.xnr_op #diagnosisInfo").val(t)}function Bt(){try{var e=p(".xnr_op #paramName").val(),t=p(".xnr_op #paramValue").val();if(!e)throw 0;Gt(e,JSON.parse(t))}catch(n){window.alert("参数错误！")}}function jt(){try{var t=JSON.parse(p(".xnr_op #configuration").val().replace(/\n/g,""));if(typeof t!="object")throw 0;e.options=t,Gt(),document.location.reload()}catch(n){window.alert("选项数据错误！")}}function Ft(){p(".xnr_op #configuration").val(JSON.stringify(e.options))}function It(){var e=p(".xnr_op input#req_m").val(),t=p(".xnr_op input#req_u").val();if(!e||!t){window.alert("请求参数错误！");return}Zt(t,function(e){if(!e){window.alert("发送请求失败！");return}window.confirm("解析回应数据？")&&(document.documentElement.textContent=e),tn(e,0)},null,e.toUpperCase())}function qt(t){if(t.blacklist&&document.location.hostname!="renren.com")try{if((new RegExp(t.blacklist)).test(document.location.hostname))return}catch(c){en("main","blacklist设置错误！")}var h={"清理页面":[{text:"##",ctrl:[{type:"hidden",fn:[{name:d,stage:1}]}],login:!0},{text:"##清除各类广告",ctrl:[{id:"removeAds",value:!0,fn:[{name:v,stage:0,fire:!0}]}]},{text:"##去除页面主题模板",ctrl:[{id:"removePageTheme",value:!1,fn:[{name:m,stage:1,fire:!0,once:!0},{name:g,stage:1,fire:!0}]}],page:"home,*"},{text:"##去除升级星级用户提示",ctrl:[{id:"removeStarReminder",value:!0,fn:[{name:y,stage:0,fire:!0}]}]},{text:"##去除VIP主页飘浮物",ctrl:[{id:"removeFloatObject",value:!1,fn:[{name:b,stage:0,fire:!0,once:!0}]}],page:"profile"},{text:"##去除VIP主页自定义鼠标指针",ctrl:[{id:"removeMouseCursor",value:!1,fn:[{name:w,stage:0,fire:!0,once:!0}]}],page:"profile"},{text:"##去除VIP主页入场动画",ctrl:[{id:"removeEnterCartoon",value:!1,fn:[{name:E,stage:0,fire:!0,once:!0}]}],page:"profile"},{text:"##去除VIP主页挂件",ctrl:[{id:"removePendant",value:!1,fn:[{name:S,stage:0,fire:!0,once:!0}]}],page:"profile"},{text:"##去除日志信纸",ctrl:[{id:"removeBlogTheme",value:!1,fn:[{name:x,stage:1,fire:!0}]}],page:"blog"},{text:"##去除日志中整段链接",ctrl:[{id:"removeBlogLinks",value:!1,fn:[{name:T,stage:1,fire:!0}]}],page:"blog,page_blog"},{text:"##去除日志中音乐播放器",ctrl:[{id:"removeBlogMusicPlayer",value:!1,fn:[{name:N,stage:0,fire:!0}]}],page:"blog,lover_blog,page_blog"},{text:"##去除公共主页上音乐播放器",ctrl:[{id:"removePagesMusicPlayer",value:!1,fn:[{name:C,stage:0,fire:!0}]}],page:"pages"},{text:"##去除小站上音乐播放器",ctrl:[{id:"removeZhanMusicPlayer",value:!1,fn:[{name:k,stage:0,fire:!0}]}],page:"zhan"},{text:"##隐藏底部好友在线列表##",ctrl:[{id:"removeFriendList",value:!1,fn:[{name:L,stage:0,fire:!0}]},{type:"warn",value:"启用此功能并不会使你不出现在别人的在线好友列表，并且还会导致你无法看到别人对你发起的在线对话"}]},{text:"##隐藏底部人人电台",ctrl:[{id:"removeRadioPlayer",value:!1,fn:[{name:A,stage:0,fire:!0}]}]},{text:"##",ctrl:[{type:"hidden",fn:[{name:O,stage:0,args:["@homeGadgets"]}]}],page:"home"},{id:"homeGadgets",text:"去除首页上以下部件",column:2,ctrl:[{id:"topNotice",text:"##顶部通知栏",value:!1},{id:"appList",text:"##应用列表",value:!1},{id:"myApp",text:"##我的应用",value:!1},{id:"recommendApp",text:"##应用推荐",value:!1},{id:"appState",text:"##应用动态",value:!1},{id:"vipToolbox",text:"##会员专区",value:!1},{id:"recommendGift",text:"##礼物推荐",value:!1},{id:"footprint",text:"##最近来访",value:!1},{id:"newFriends",text:"##好友推荐",value:!1},{id:"schoolBeauty",text:"##校花校草",value:!1},{id:"sponsors",text:"##赞助商内容",value:!1},{id:"publicPageAdmin",text:"##我的管理",value:!1},{id:"groups",text:"##我的群",value:!1},{id:"birthday",text:"##好友生日/节日提醒",value:!1},{id:"webFunction",text:"##站内功能",value:!1},{id:"survey",text:"##人人网调查",value:!1},{id:"friendPhoto",text:"##朋友照片/过往今天/热门推荐",value:!1},{id:"newStar",text:"##人气之星",value:!1},{id:"contact",text:"##联系朋友",value:!1},{id:"hotSearch",text:"##搜索热点推荐",value:!1}]},{text:"##",ctrl:[{type:"hidden",fn:[{name:M,stage:0,args:["@profileGadgets"]}]}],page:"profile"},{id:"profileGadgets",text:"去除个人主页上以下部件",column:2,ctrl:[{id:"album",text:"##相册",value:!1},{id:"blog",text:"##日志",value:!1},{id:"share",text:"##分享",value:!1},{id:"gift",text:"##礼物",value:!1},{id:"fav",text:"##酷爱",value:!1},{id:"theme",text:"##装扮主页",value:!1},{id:"introduceFriends",text:"##介绍朋友",value:!1},{id:"activity",text:"##活动广告",value:!1},{id:"lover",text:"##情侣空间",value:!1},{id:"specialFriends",text:"##特别好友",value:!1},{id:"mutualFriends",text:"##共同好友/最近应用",value:!1},{id:"visitors",text:"##最近来访",value:!1},{id:"pages",text:"##关注的公共主页",value:!1},{id:"friends",text:"##好友",value:!1},{id:"invitation",text:"##邀请朋友",value:!1},{id:"musicPlayer",text:"##音乐播放器",value:!1}]}],"处理请求":[{text:"##",ctrl:[{type:"hidden",fn:[{name:D,stage:2,args:["@rejectRequestGroup","@blockAppRequest","@ignoreNotification","@ignoreReminder"],once:!0},{name:_,stage:1,args:["@rejectRequestGroup"],once:!0}]}],page:"home",login:!0},{id:"rejectRequestGroup",text:"自动拒绝以下类型的请求",column:3,ctrl:[{id:"appRequest",text:"##应用邀请",value:!1},{id:"friendRequest",text:"##好友申请",value:!1},{id:"recommendRequest",text:"##好友推荐",value:!1},{id:"tagRequest",text:"##圈人",value:!1},{id:"pokeRequest",text:"##招呼",value:!1},{id:"notifyRequest",text:"##通知",value:!1},{id:"loverRequest",text:"##情侣请求",value:!1},{id:"addbookRequest",text:"##通讯录请求",value:!1},{id:"xiaozuRequest",text:"##小组邀请",value:!1},{id:"pageRequest",text:"##公共主页邀请",value:!1},{id:"xiaozhanRequest",text:"##小站邀请",value:!1}]},{text:"##自动将发来邀请的应用列入屏蔽名单##",ctrl:[{id:"blockAppRequest",value:!1},{type:"info",value:"在http://app.renren.com/app/appRequestList/blockList可以解除屏蔽"}]},{text:"##允许批量处理请求",ctrl:[{id:"batchProcessRequest",value:!0,fn:[{name:P,stage:2,fire:!0}]}],page:"request",login:!0},{text:"##忽略所有通知",ctrl:[{id:"ignoreNotification",value:!1,fn:[{name:B,stage:0,fire:!0}]}]},{text:"##忽略所有留言/回复/站内信提醒",ctrl:[{id:"ignoreReminder",value:!1,fn:[{name:H,stage:0,fire:!0}]}]}],"处理新鲜事":[{text:"##",ctrl:[{type:"hidden",fn:[{name:j,stage:1,args:[null,"@feedGroup","@markFeedAsRead","@forbiddenFeedTitle","@forbiddenFeedSource","@forbiddenFeedLink","@forbiddenFeedId","@trustedFeedId","@hideOldFeeds","@oldFeedDays"],trigger:{"div.feed-list":"DOMNodeInserted"}}]}],login:!0,page:"feed,profile"},{id:"feedGroup",text:"隐藏以下类型的新鲜事",column:4,ctrl:[{id:"ads",text:"##广告",value:!0},{id:"blog",text:"##日志",value:!1},{id:"poll",text:"##投票",value:!1},{id:"app",text:"##应用",value:!1},{id:"status",text:"##状态",value:!1},{id:"gift",text:"##礼物",value:!1},{id:"photo",text:"##照片",value:!1},{id:"tag",text:"##圈人",value:!1},{id:"profile",text:"##头像",value:!1},{id:"share_blog",text:"##日志分享",value:!1},{id:"share_photo",text:"##图片分享",value:!1},{id:"share_video",text:"##视频分享",value:!1},{id:"share_other",text:"##其他分享",value:!1},{id:"film",text:"##电影",value:!1},{id:"music",text:"##音乐",value:!1},{id:"connect",text:"##连接网站",value:!1},{id:"friend",text:"##交友",value:!1},{id:"xiaozu",text:"##小组",value:!1},{id:"xiaozhan",text:"##小站",value:!1},{id:"forum",text:"##论坛",value:!1},{id:"like",text:"##喜欢",value:!1},{id:"pos",text:"##报到",value:!1},{id:"comment",text:"##评论",value:!1},{id:"vip",text:"##VIP相关",value:!1},{id:"club",text:"##俱乐部",value:!1},{id:"group",text:"##品牌专区",value:!1},{id:"page",text:"##公共主页",value:!1},{id:"contact",text:"##保持联络",value:!1},{id:"levelup",text:"##等级提升",value:!1},{id:"event",text:"##线上活动",value:!1},{id:"lover",text:"##情侣空间",value:!1},{id:"newbie",text:"##新人注册",value:!1}]},{text:"隐藏标题中含有以下内容的新鲜事######",ctrl:[{type:"info",value:"也会检查转发的状态内容。忽略内容中的空格。多个关键字用|分隔。如“星座|教程”，即可屏蔽所有标题包含星座或教程的新鲜事。可以用于屏蔽某些人的分享，比如“张三分享”即可将所有张三的分享新鲜事屏蔽。实际上是正则表达式，如果你不懂正则表达式，就尽量不要使用特殊符号"},{type:"br"},{id:"forbiddenFeedTitle",value:"",type:"input",style:"margin-left:5px;width:310px"}],page:"feed,profile"},{text:"隐藏发布方式包含以下文字的新鲜事######",ctrl:[{type:"info",value:"发布方式为“通过XX发布”中的XX，忽略其中的空格，忽略大小写。多组文字之间用|分隔，如“iPhone版|测试”。如果每组文字第一个字符为!，则采用全部匹配。如“!手机”只会隐藏发布方式为“手机”的新鲜事，而不会去隐藏发布方式为“XX手机”的新鲜事"},{type:"br"},{id:"forbiddenFeedSource",value:"",type:"input",style:"margin-left:5px;width:310px"}],page:"feed,profile"},{text:"隐藏包含以下链接的新鲜事######",ctrl:[{type:"info",value:"当新鲜事中任意一个链接包含任意一行中的内容时即被隐藏，忽略大小写。"},{type:"br"},{id:"forbiddenFeedLink",value:"",type:"edit",style:"margin-left:5px;width:310px;height:50px"}],page:"feed,profile"},{text:"隐藏与以下ID有关的分享/转发######",ctrl:[{type:"info",value:"包括分享/转发者和内容来源者。ID是对方个人主页地址中id=后面的数字，或者是公共主页地址上的6开头的9位数字。多个ID用|分隔。如果要屏蔽某人全部的新鲜事，请使用网站自身的忽略名单功能"},{type:"br"},{id:"forbiddenFeedId",value:"",type:"input",style:"margin-left:5px;width:310px",verify:{"^$|^([0-9]+\\|)*[0-9]+$":"格式错误！请检查ID是否正确，是否采用|分隔以及是否有多余的空格"}}],page:"feed,profile"},{text:"永不隐藏来自以下ID的新鲜事######",ctrl:[{type:"info",value:"ID是对方个人主页地址中id=后面的数字。多个ID用|分隔。"},{type:"br"},{id:"trustedFeedId",value:"",type:"input",style:"margin-left:5px;width:310px",verify:{"^$|^([0-9]+\\|)*[0-9]+$":"格式错误！请检查ID是否正确，是否采用|分隔以及是否有多余的空格"}}],page:"feed,profile"},{text:"##隐藏##天前的新鲜事",ctrl:[{id:"hideOldFeeds",value:!1},{id:"oldFeedDays",type:"input",value:"7",style:"width:20px;margin:0 3px",verify:{"^[1-9][0-9]*$":"请在新鲜事天数处输入大于0的数字！"}}],master:0},{text:"##将隐藏的新鲜事设为已读",ctrl:[{id:"markFeedAsRead",value:!1}]},{text:"##首页默认显示的新鲜事类型##特别关注##好友内容",ctrl:[{id:"setDefaultFeedsType",value:!1,fn:[{name:F,stage:1,args:["@attention","@frcontent"],fire:!0,once:!0}]},{type:"subradio",id:"attention",group:"defaultFeedsType",value:!0},{type:"subradio",id:"frcontent",group:"defaultFeedsType",value:!1}],page:"feed"},{text:"##默认显示##页新鲜事##",ctrl:[{id:"loadMoreFeeds",value:!1,fn:[{name:I,stage:2,fire:!0,args:["@loadFeedPage"],once:!0}]},{id:"loadFeedPage",type:"input",value:"2",style:"width:15px;margin-left:3px;margin-right:3px",verify:{"^[2-9]$":"新鲜事页数只能为2~9"}},{type:"warn",value:"进入首页时会很卡"}],master:0,login:!0,page:"feed"},{text:"##页面滚动到底部时不加载下一页新鲜事",ctrl:[{id:"disableAutoLoadFeeds",value:!1,fn:[{name:q,stage:1,fire:!0}]}],login:!0,page:"feed"},{text:"##不显示新鲜事发布方式",ctrl:[{id:"hideFeedSource",value:!1,fn:[{name:R,stage:0,fire:!0}]}],login:!0,page:"feed"},{text:"##在新鲜事中标记在线好友",ctrl:[{id:"markOnlineFriend",value:!1,fn:[{name:U,stage:1,fire:!0,trigger:{".feed-list":"DOMNodeInserted"}}]}],login:!0,page:"feed,profile"},{text:"##总是显示新鲜事控制按钮",ctrl:[{id:"showFeedToolbar",value:!1,fn:[{name:z,stage:0,fire:!0,once:!0}]}],page:"feed,profile"},{text:"##自动检查并提醒新的新鲜事##在有新的回复时也进行提醒##",ctrl:[{id:"autoCheckFeeds",value:!1,fn:[{name:W,stage:3,fire:!0,args:["@feedGroup","@forbiddenFeedTitle","@forbiddenFeedSource","@forbiddenFeedLink","@forbiddenFeedId","@trustedFeedId","@checkFeedReply"]}]},{id:"checkFeedReply",type:"subcheck",value:!1},{type:"info",value:"如果一件新鲜事有多条新回复，只会提醒最后一条"}],master:0,login:!0},{text:"##定时刷新首页新鲜事列表，每隔##秒##",ctrl:[{id:"autoReloadFeeds",value:!1,fn:[{name:X,stage:3,fire:!0,args:["@reloadFeedInterval"]}]},{id:"reloadFeedInterval",type:"input",value:"180",verify:{"^[6-9][0-9]$|^[1-9][0-9]{2,}$":"刷新新鲜事列表间隔时间不得小于60秒"},style:"width:30px;margin:0 3px"},{type:"warn",value:"刷新时会导致正在回复的内容遗失，请慎重启用"}],master:0,login:!0},{text:"##禁止对状态中的词汇添加wiki链接",ctrl:[{id:"disableWikiLinks",value:!1,fn:[{name:V,stage:0,fire:!0}]}]}],"改造导航栏":[{text:"##",ctrl:[{type:"hidden",fn:[{name:$,stage:0,args:["@navLinks"]}]}]},{id:"navLinks",text:"去除以下内容",column:3,ctrl:[{id:"friend",text:"##好友",value:!1},{id:"explore",text:"##探索",value:!1},{id:"app",text:"##应用",value:!1},{id:"game",text:"##游戏",value:!1},{id:"reminder",text:"##提醒",value:!1},{id:"request",text:"##请求",value:!1},{id:"notification",text:"##通知",value:!1},{id:"mail",text:"##站内信",value:!1}]},{text:"##加宽导航栏",ctrl:[{id:"widenNavBar",value:!1,fn:[{name:J,stage:0,fire:!0}]}]},{text:"##使用紧凑风格",ctrl:[{id:"useCompactStyleNav",value:!1,fn:[{name:K,stage:0,fire:!0}]}]},{text:"##添加退出按钮",ctrl:[{id:"addNavLogout",value:!1,fn:[{name:Q,stage:1,fire:!0}]}]},{text:"##增加导航栏项目######",ctrl:[{id:"addNavItems",value:!1,fn:[{name:Y,stage:2,args:["@navItemsContent"],fire:!0}]},{type:"info",value:"每两行描述一项。第一行为显示的名称，第二行为对应的链接地址。链接地址请用包含协议名的完整形式，如http://g.cn，不要仅填写g.cn"},{type:"br"},{id:"navItemsContent",type:"edit",style:"width:99%;height:80px;overflow:auto;word-wrap:normal;margin-top:5px",attr:{wrap:"off"},value:"情侣空间\nhttp://lover.renren.com/dispatch\n新浪微博\nhttp://www.weibo.com/\n"}],master:0}],"改造界面":[{text:"##使用深蓝色主题##",ctrl:[{id:"recoverOriginalTheme",value:!1,fn:[{name:Z,stage:0,fire:!0,args:[null,"@removePageTheme"],trigger:{head:"DOMNodeInserted"}}]},{type:"info",value:"使用早期的类Facebook配色。在有模板的页面不会修改其配色"}]},{text:"##去除页面字体限制####保留默认英文字体##",ctrl:[{id:"removeFontRestriction",value:!1,fn:[{name:et,args:["@keepEnFonts"],stage:0,fire:!0}]},{type:"info",value:"使用浏览器本身设定的字体而非网站限制使用的字体"},{type:"subcheck",id:"keepEnFonts",value:!0},{type:"warn",value:"改变默认英文字体可能导致页面排版混乱"}],master:0},{text:"##限制个人主页上头像列表中的头像数量最多为##个",ctrl:[{id:"limitHeadList",value:!1,fn:[{name:tt,stage:1,fire:!0,args:[null,"@headsAmount"],trigger:{"#ajaxContainer":"DOMNodeInserted"}}]},{id:"headsAmount",value:"12",type:"input",style:"width:30px;margin-left:3px;margin-right:3px",verify:{"^[0-9]{1,2}$":"请在头像最大数量处输入1～2位正整数"}}],master:0,page:"profile"},{text:"##自定义页面样式######",ctrl:[{id:"customizePageStyle",value:!1,fn:[{name:nt,stage:0,fire:!0,args:["@myPageStyle"]}]},{type:"link",value:"更多示例",attr:{href:"http://code.google.com/p/xiaonei-reformer/wiki/Styles",target:"_blank"},style:"margin-left:10px"},{type:"br"},{id:"myPageStyle",type:"edit",value:"/* 例子:浅灰->白渐变背景 */\nbody{background:-moz-linear-gradient(left,lightgray,white);background:-o-linear-gradient(left,lightgray,white);background:-webkit-gradient(linear,left center,right center,from(lightgray),to(white))}",attr:{wrap:"off"},style:"width:99%;height:110px;margin-top:5px;"}],master:0},{text:"##调整页面布局########",ctrl:[{id:"customizePageLayout",value:!1,fn:[{name:rt,stage:1,fire:!0,args:["@myPageLayout"]}]},{type:"info",value:"每行一条调整规则，语法如下：\n 将A放置到B之前：A<<B\n 将A放置到B之后：A>>B\n 将A作为B的第一个子节点：A<<<B\n 将A作为B最后一个子节点：A>>>B\n以上A、B皆为CSS选择器。不合规则的行将被忽略"},{type:"link",value:"更多示例",attr:{href:"http://code.google.com/p/xiaonei-reformer/wiki/Layout",target:"_blank"},style:"margin-left:10px"},{type:"br"},{id:"myPageLayout",type:"edit",attr:{wrap:"off"},value:"例子：将个人主页上留言板移至新鲜事下方\nbody#profile .talk-box>.box>>>body#profile .talk-box",style:"width:99%;height:110px;margin-top:5px;"}],master:0}],"辅助功能":[{text:"##启用隐藏表情项##包括绘文字表情##包括自然风光表情##包括网络流行语表情##包括节日事件表情##包括人物表情##包括抢沙发表情##包括商业广告表情##包括过期事件表情",ctrl:[{id:"addExtraEmotions",value:!0,fn:[{name:it,stage:2,args:["@emojiEmo","@natureEmo","@bwEmo","@eventEmo","@figureEmo","@sfEmo","@advEmo","@odEmo"],fire:!0}]},{type:"subcheck",id:"emojiEmo",value:!0},{type:"subcheck",id:"natureEmo",value:!1},{type:"subcheck",id:"bwEmo",value:!0},{type:"subcheck",id:"eventEmo",value:!1},{type:"subcheck",id:"figureEmo",value:!1},{type:"subcheck",id:"sfEmo",value:!1},{type:"subcheck",id:"advEmo",value:!1},{type:"subcheck",id:"odEmo",value:!1}],master:0,page:"feed,profile,status,act,blog,photo,album,share,pages,xiaozu",login:!0},{text:"##为评论增加楼层计数##",ctrl:[{id:"addFloorCounter",value:!1,fn:[{name:st,stage:2,trigger:{"div.replies,div.boxcont,div#feedView,div#newsfeed-module-box>.feed-module>.feed-list":"DOMNodeInserted"},fire:!0}]},{type:"info",value:"当有悄悄话存在时，人人网显示的评论数和实际能看到的评论数量会有差异，这会导致计数出现偏差"}],page:"blog,photo,pages,feed,profile,share"},{text:"##允许在日志中添加HTTPS/FTP协议的链接",ctrl:[{id:"extendBlogLinkSupport",value:!0,fn:[{name:ut,stage:3,fire:!0}]}],login:!0,page:"blog"},{text:"##允许直接编辑日志HTML代码",ctrl:[{id:"addBlogHTMLEditor",value:!1,fn:[{name:at,stage:2,fire:!0}]}],login:!0,page:"blog,lover_blog,page_blog,zhan"},{text:"##禁止跟踪统计##",ctrl:[{id:"preventTracking",value:!0,fn:[{name:ft,stage:0,fire:!0},{name:lt,stage:2,fire:!0}]},{type:"info",value:"在访问人人网的绝大多数页面时，会自动向人人网和第三方网站发送包含你浏览习惯的信息。这些信息可能会被用在统计分析用户行为方面。如果你不想让其获取这些信息，可以启用本功能。"}]},{text:"##相册所有图片在一页中显示",ctrl:[{id:"showImagesInOnePage",value:!1,fn:[{name:ct,stage:1,fire:!0}]}],page:"album,share,xiaozu"},{text:"##允许下载相册图片########仅生成图片链接##",ctrl:[{id:"addDownloadAlbumLink",value:!0,fn:[{name:ht,stage:2,fire:!0,args:["@showImageLinkOnly","@dlMode"]}]},{type:"info",value:"在相册图片列表下方会生成一个”下载当前页图片“链接。如果点击链接后进度长期卡住，再点击一次链接选择中止，可以下载其他已分析完毕的图片。如果想下载整个相册的内容，请配合“相册所有图片在一页中显示”功能使用。"},{type:"select",options:["普通模式","替换模式","弹出窗口模式"],id:"dlMode",value:"普通模式"},{type:"warn",value:"弹出窗口模式可能会被浏览器拦截，请自行将页面加入许可名单"},{type:"subcheck",id:"showImageLinkOnly",value:!1}],master:0,agent:i|s|u|a|f,page:"album,share,xiaozu"},{text:"##允许下载相册图片########仅生成图片链接##",ctrl:[{id:"addDownloadAlbumLink",value:!0,fn:[{name:ht,stage:2,fire:!0,args:["@showImageLinkOnly","@dlMode"]}]},{type:"info",value:"在相册图片列表下方会生成一个”下载当前页图片“链接。如果点击链接后进度长期卡住，再点击一次链接选择中止，可以下载其他已分析完毕的图片。如果想下载整个相册的内容，请配合“相册所有图片在一页中显示”功能使用。"},{type:"select",options:["替换模式","弹出窗口模式"],id:"dlMode",value:"弹出窗口模式"},{type:"warn",value:"弹出窗口模式可能会被浏览器拦截"},{type:"subcheck",id:"showImageLinkOnly",value:!1}],master:0,agent:n|o,page:"album,share,xiaozu"},{text:"##允许下载相册图片##",ctrl:[{id:"addDownloadAlbumLink",value:!0,fn:[{name:ht,stage:2,fire:!0,args:[null,"普通模式"]}]},{type:"info",value:"在相册图片列表下方会生成一个”下载当前页图片“链接。如果点击链接后进度长期卡住，再点击一次链接选择中止，可以下载其他已分析完毕的图片。如果想下载整个相册的内容，请配合“相册所有图片在一页中显示”功能使用。"}],master:0,agent:r,page:"album,share,xiaozu"},{text:"##在语音相册中显示语音文件下载地址",ctrl:[{id:"showVocalFileLink",value:!1,fn:[{name:pt,stage:1,trigger:{"div.feed-list":"DOMNodeInserted"},fire:!0}]}],page:"photo,share,feed"},{text:"##当鼠标在照片上时隐藏圈人框##",ctrl:[{id:"hideImageTagOnMouseOver",value:!1,fn:[{name:dt,stage:2,fire:!0}]},{type:"info",value:"仍然可以在照片右侧的被圈人员列表中看到圈人情况"}],page:"photo"},{text:"##在鼠标经过图片时显示大图########自动缩小尺寸过大的图片##使用保护模式##",ctrl:[{id:"showFullSizeImage",value:!1,fn:[{name:vt,stage:1,fire:!0},{name:mt,stage:2,fire:"trigger",args:[null,"@autoShrink","@leakConfirmation"],trigger:{body:"mouseover"}}]},{type:"info",value:"要在鼠标移动时保持大图显示，按住PC键盘的Shift/Alt/Ctrl/Meta或Mac键盘的Shift/Option/Ctrl/Command键不放"},{type:"warn",value:"会记入对方最近来访名单中。如想防止误访问，请启用“使用保护模式”"},{type:"button",value:"清除地址缓存",fn:[{name:gt,fire:"click"}],style:"margin-left:5px"},{type:"subcheck",id:"autoShrink",value:!1},{type:"subcheck",id:"leakConfirmation",value:!0},{type:"info",value:"在鼠标经过会可能被记入最近来访的图片时，会在图片右下角显示一个放大镜图标，点击后才会显示原大图片"}],master:0},{text:"##默认使用悄悄话",ctrl:[{id:"useWhisper",value:!1,fn:[{name:yt,stage:3,fire:!0}]}],login:!0},{text:"##不显示橙名##",ctrl:[{id:"hideOrangeName",value:!1,fn:[{name:bt,stage:1,fire:!0}]},{type:"info",value:"要想让别人看不到自己的橙名，请到导航栏上“帐号”->“帐户设置”->“隐私设置”->“橙名显示”中进行设置"}]},{text:"##允许非星级用户修改特别好友",ctrl:[{id:"removeBestFriendRestriction",value:!0,fn:[{name:wt,stage:1,fire:!0}]}],page:"friend",login:!0},{text:"##允许非星级用户修改个人昵称##",ctrl:[{id:"removeNicknameRestriction",value:!1,fn:[{name:Et,stage:2,fire:"trigger",trigger:{"#ajaxContainer":"DOMNodeInserted","#feedInfoAjaxDiv #basicInfo":"DOMNodeInserted"}}]},{type:"info",value:"启用本功能后，在个人主页“资料”->“资料编辑”->“基本信息”中编辑昵称"}],page:"profile",login:!0},{text:"##允许不填写家乡/所在地/出生月日##",ctrl:[{id:"removeLocationRestriction",value:!1,fn:[{name:St,stage:2,fire:"trigger",trigger:{"#ajaxContainer":"DOMNodeInserted","#feedInfoAjaxDiv #basicInfo":"DOMNodeInserted"}}]},{type:"info",value:"启用本功能后，在个人主页“资料”->“资料编辑”->“基本信息”中将家乡和/或所在地设置为“省份”，出生月日分别设置成“选择月份”、“选择日期”后保存"}],page:"profile",login:!0},{text:"##登录时提示登录信息##",ctrl:[{id:"showLoginInfo",value:!1,fn:[{name:xt,stage:1,fire:!0,args:["@lastSid"]}]},{id:"lastSid",value:"0",type:"hidden"}],login:!0},{text:"##启用快速通道菜单####",ctrl:[{id:"enableShortcutMenu",value:!1,fn:[{name:Tt,stage:2,fire:"trigger",trigger:{body:"mouseover"}}]},{type:"info",value:"鼠标经过人名链接时，显示对方相册/日志/留言板等的链接"},{type:"warn",value:"访问对方具体的相册/日志时会在对方最近来访中留下记录"}]},{text:"##允许提升搜索结果上限到200页##",ctrl:[{id:"expandSearchResult",value:!1,fn:[{name:Nt,stage:2,fire:!0}]},{type:"info",value:"在搜索结果页面下方的翻页区域左侧。目前无法提升到更多页数"}],page:"searchEx"},{text:"##增加搜索分享/日志/状态功能##",ctrl:[{id:"searchShare",value:!0,fn:[{name:Ct,stage:2,fire:!0}]},{type:"info",value:"可以根据标题/内容预览/发布时间中出现的文字搜索，支持多个关键词"}],page:"share,blog,status"},{text:"##允许直接回复分享的全站评论##",ctrl:[{id:"allowReplyToAllPeople",value:!1,fn:[{name:ot,stage:2,trigger:{"#allCmtsList":"DOMNodeInserted"},fire:!0}]},{type:"warn",value:"回复的内容会出现在原分享者的分享评论中"}],login:!0,page:"blog,share"},{text:"##禁止鼠标悬停在用户头像/名称时显示名片##",ctrl:[{id:"removeNameCard",value:!1,fn:[{name:kt,stage:1,fire:!0}]}]},{text:"##显示图片上传者的说明性留言##",ctrl:[{id:"showPhotoAuthorComment",value:!1,fn:[{name:Lt,stage:2,trigger:e.acore==l?{"input#sourceid":"DOMSubtreeModified"}:{".user-comment":"DOMNodeRemoved"},fire:!0}]},{type:"info",value:"如果相册中图片的第一个留言是上传者的，有可能是对图片的补充说明。如果留言过多导致没有显示出一楼的话，本功能会将其单独显示出来"}],page:"photo"},{text:"##在人人爱听/电台中显示音乐下载地址",ctrl:[{id:"showMusicFileLink",value:!1,fn:[{name:At,stage:2,fire:!0}]}]},{text:"##增加批量清理分享/留言板/状态功能",ctrl:[{id:"delAllContents",value:!0,fn:[{name:Ot,stage:2,fire:!0}]}],page:"share,gossip,status"},{text:"##好友关系解除提醒##",ctrl:[{id:"notifyFriendship",value:!1,fn:[{name:Mt,stage:2,fire:!0}]}],login:!0},{text:"##解决浏览器内建的超级拖拽功能失效问题##",ctrl:[{id:"repaireSuperDrag",value:!1,fn:[{name:_t,stage:2,fire:!0,once:!0}]},{type:"info",value:"人人网首页的拖拽图片上传会使chromeplus、sunchrome等浏览器内建的超级拖拽失效。开启本功能后可以使其重新生效。如果是通过第三方扩展实现的拖拽，没必要启用本功能"}],agent:i,page:"home"}],"自动更新":[{text:"####谢谢您使用人人网改造器##",ctrl:[{type:"text",data:"停止开发公告",style:"text-align:center"},{type:"text",data:"Opera已经不再开发其基于Presto引擎的桌面版浏览器，现有的问题已经无法再有更正的机会。这对人人网改造器Opera版扩展/用户脚本新功能的开发和旧功能的完善都造成了相当不利的影响。因此人人网改造器将停止开发Opera版的扩展和用户脚本。我对这一决定对您造成的不便深表歉意。如果您决定转而使用基于Blink引擎的新版浏览器，可以直接换用Chrome版的扩展。",style:"margin:0.5em 0;line-height:1.2em;"},{type:"text",data:"2013年08月11日",style:"text-align:right;margin-top:1em"}],agent:o|u},{text:"##自动检查程序更新##",ctrl:[{id:"checkUpdate",value:!0,fn:[{name:Dt,stage:2,fire:!0,args:[null,"@checkLink","@updateLink","@lastUpdate"]}]},{type:"info",value:"24小时内最多检查一次"}],agent:n|r|a},{text:"最后一次检查更新时间：##",ctrl:[{id:"lastUpdate",type:"label",value:0,format:"date"}],agent:n|r|a},{text:"##",ctrl:[{type:"button",value:"立即检查",fn:[{name:Dt,fire:"click",args:[null,"@checkLink","@updateLink","@lastUpdate"]}]}],agent:n|r|a},{text:"检查更新地址：##",ctrl:[{id:"checkLink",type:"input",value:"http://userscripts.org/scripts/source/45836.meta.js",style:"width:330px",verify:{"[A-Za-z]+://[^/]+.[^/]+/.*":"请输入正确的检查更新地址"}}],agent:n},{text:"脚本下载地址：##",ctrl:[{id:"updateLink",type:"input",value:"http://userscripts.org/scripts/source/45836.user.js",style:"width:330px;",verify:{"[A-Za-z]+://[^/]+.[^/]+/.*":"请输入正确的脚本下载地址"}}],agent:n},{text:"检查更新地址：##",ctrl:[{id:"checkLink",type:"input",value:"http://xiaonei-reformer.googlecode.com/files/45836.meta.js",style:"width:330px",verify:{"[A-Za-z]+://[^/]+.[^/]+/.*":"请输入正确的检查更新地址"}}],agent:r|a},{text:"扩展下载地址：##",ctrl:[{id:"updateLink",type:"input",value:"http://xiaonei-reformer.googlecode.com/files/xiaonei_reformer-fx.xpi"
,style:"width:330px;",verify:{"[A-Za-z]+://[^/]+.[^/]+/.*":"请输入正确的扩展下载地址"}}],agent:r},{text:"扩展下载地址：##",ctrl:[{id:"updateLink",type:"input",value:"http://xiaonei-reformer.googlecode.com/files/xiaonei_reformer-sogou.sext",style:"width:330px;",verify:{"[A-Za-z]+://[^/]+.[^/]+/.*":"请输入正确的扩展下载地址"}}],agent:a},{text:"* 以上地址保存后生效",agent:n|r|a},{text:"##升级后显示通知",ctrl:[{id:"updatedNotify",value:!0,fn:[{name:Pt,stage:3,args:["@updatedNotify","@lastVersion"]}]}],agent:n|r|i|s|a|f},{text:"##",ctrl:[{id:"lastVersion",type:"hidden",value:0}]}],"诊断信息":[{text:"##如果您遇到功能出错，请在报告问题时附带上出错页面中的以下信息：####",ctrl:[{type:"hidden",fn:[{name:Ht,stage:1}]},{type:"br"},{id:"diagnosisInfo",type:"edit",style:"width:99%;height:230px;margin-top:5px;word-wrap:break-word",readonly:!0}]}],"功能调试":[{text:"如果您不了解以下功能的用处，请不要使用！"},{text:"##",ctrl:[{id:"debuglv",type:"hidden",value:0}]},{text:"##",ctrl:[{id:"blacklist",type:"hidden",value:""}]},{text:"##：## = ##",ctrl:[{type:"button",value:"参数设置",fn:[{name:Bt,fire:"click"}]},{id:"paramName",type:"input",style:"width:70px"},{id:"paramValue",type:"input",style:"width:170px"}]},{text:"## ##：####",ctrl:[{type:"button",value:"导入选项",fn:[{name:jt,fire:"click"}]},{type:"button",value:"导出选项",fn:[{name:Ft,fire:"click"}]},{type:"br",style:"height:5px"},{id:"configuration",type:"edit",style:"width:99%;height:110px"}]},{text:"##：## ##",ctrl:[{type:"button",value:"发送请求",fn:[{name:It,fire:"click"}]},{id:"req_m",type:"input",style:"width:30px"},{id:"req_u",type:"input",style:"width:230px"}]}]},G={"*":[[],[],[],[]]},qt=[],Rt="",Vt=[];for(var Kt in h){Rt+="<li><span>"+Kt+"</span></li>";var Qt=p("@div").attr("class","p");for(var Yt=0;Yt<h[Kt].length;Yt++){var Zt=h[Kt][Yt];if(Zt.agent&&(Zt.agent&e.agent)==0)continue;var rn=!0;Zt.login&&e.userId=="0"&&(rn=!1);var sn=p("@div");if(!Zt.id){var un=Zt.text.split("##");for(var an=0;an<un.length;an++){if(un[an]){if(Zt.ctrl){var fn="";for(var ln=an-1;ln>=0;ln--){if(Zt.ctrl[ln].type=="br")break;if(!Zt.ctrl[ln].type||Zt.ctrl[ln].type=="check"||Zt.ctrl[ln].type=="subcheck"||Zt.ctrl[ln].type=="subradio"){fn=Zt.ctrl[ln].id;break}}}p("@label").attr("for",fn).text(un[an]).addTo(sn)}if(Zt.ctrl==null)continue;var cn=Zt.ctrl[an];if(!cn)continue;cn.id&&t[cn.id]!=null&&!cn.readonly&&(cn.value=t[cn.id]);var hn=null;switch(cn.type||"check"){case"check":hn=p("@input").attr("type","checkbox");break;case"hidden":break;case"input":hn=p("@input");break;case"info":hn=p("@span").attr({tooltip:cn.value,"class":"info"}),cn.value=null;break;case"warn":hn=p("@span").attr({tooltip:cn.value,"class":"warn"}),cn.value=null;break;case"br":hn=p("@div");break;case"subcheck":p("@div").css("height","3px").addTo(sn),hn=p("@input").css("marginLeft","15px").attr("type","checkbox");break;case"subradio":p("@div").css("height","3px").addTo(sn),hn=p("@input").css("marginLeft","15px").attr("type","radio"),cn.group&&hn.attr("name",cn.group);break;case"edit":hn=p("@textarea");break;case"button":hn=p("@button");break;case"label":hn=p("@span");break;case"link":hn=p("@a");break;case"select":hn=p("@select");for(var pn=0;pn<cn.options.length;pn++)p("@option").text(cn.options[pn]).attr("value",cn.options[pn]).addTo(hn);break;case"text":hn=p("@div"),hn.text(cn.data)}if(hn){if(cn.value!=null)switch(cn.format){case"date":hn.val(on(cn.value));break;default:hn.val(cn.value)}cn.id&&hn.attr("id",cn.id),cn.style&&hn.attr("style",cn.style),cn.attr&&hn.attr(cn.attr),cn.readonly&&(hn.attr("readonly","true"),cn.value=null),cn.format&&hn.attr("fmt",cn.format),cn.verify&&hn.attr("verify",JSON.stringify(cn.verify)),hn.addTo(sn)}cn.value!=null&&cn.id!=null&&(e.options[cn.id]=cn.value);if(rn&&cn.fn)for(var dn=0;dn<cn.fn.length;dn++){var vn=cn.fn[dn];vn.args||(vn.args=[]);if(vn.fire==null||typeof vn.fire=="boolean"&&hn.val()==vn.fire){Zt.page||(Zt.page="*");var mn=Zt.page.split(",");for(var gn=0;gn<mn.length;gn++)G[mn[gn]]||(G[mn[gn]]=[[],[],[],[]]),G[mn[gn]][vn.stage].push({name:vn.name,args:vn.args,once:vn.once})}else if(vn.fire!=="trigger"||!hn.val()){if(typeof vn.fire!="string"||vn.fire=="trigger")continue;qt.push({fn:vn,target:hn})}if(vn.trigger){Zt.page||(Zt.page="*");var mn=Zt.page.split(",");for(var gn=0;gn<mn.length;gn++)G[mn[gn]]||(G[mn[gn]]=[[],[],[],[]]),G[mn[gn]][vn.stage].push({name:vn.name,args:vn.args,trigger:vn.trigger})}}}}else{if(Zt.text){var hn=p("@div").add(p("@span").text(Zt.text)).addTo(sn);Zt.info&&p("@span").attr({tooltip:Zt.info,"class":"info"}).addTo(hn),Zt.warn&&p("@span").attr({tooltip:Zt.warn,"class":"warn"}).addTo(hn)}var yn={},bn=p("@tbody").addTo(p("@table").attr("class","group").addTo(sn));for(var wn=0;wn<Zt.ctrl.length;){var En=p("@tr").addTo(bn);for(var Sn=0;Sn<Zt.column;Sn++,wn++){var xn=Zt.ctrl[wn],Tn=p("@td").addTo(En);if(wn<Zt.ctrl.length){Zt.id&&t[Zt.id]!=null&&t[Zt.id][xn.id]!=null&&(xn.value=t[Zt.id][xn.id]);var un=xn.text.split("##");un[0]&&p("@label").attr("for",Zt.id+"_"+xn.id).text(un[0]).addTo(Tn);var hn=null;switch(xn.type||"check"){case"check":hn=p("@input").attr("type","checkbox");break;case"hidden":break;case"input":hn=p("@input");break;case"edit":hn=p("@textarea");break;case"button":hn=p("@button");break;case"label":hn=p("@span")}hn&&(hn.val(xn.value),hn.attr({id:Zt.id+"_"+xn.id,style:xn.style||""}),hn.addTo(Tn),xn.verify&&hn.attr("verify",JSON.stringify(cn.verify))),xn.value!=null&&(yn[xn.id]=xn.value),un[1]&&p("@label").attr("for",Zt.id+"_"+xn.id).text(un[1]).addTo(Tn)}}}e.options[Zt.id]=yn}if(Zt.master!=null){var Nn=sn.find("*:not(label)").eq(Zt.master);Nn.attr("master","true"),nn(Nn),Nn.bind("click,keyup",function(e){nn(p(e.target))})}sn.heirs()!=0&&Qt.add(sn)}Vt.push(Qt.css("display","none").get())}for(var gn in G)for(var Cn=0;Cn<4;Cn++)for(var wn=0;wn<G[gn][Cn].length;wn++){var vn=G[gn][Cn][wn];if(!vn.args)continue;for(var kn=0;kn<vn.args.length;kn++)typeof vn.args[kn]=="string"&&vn.args[kn].charAt(0)=="@"&&(vn.args[kn]=e.options[vn.args[kn].substring(1)])}tn("#0",1);for(var gn in G)if(gn=="*"||Ut(gn))for(var wn=0;wn<G[gn][0].length;wn++){var vn=G[gn][0][wn];if(vn.trigger)for(var Ln in vn.trigger)(function(e){(function(){var t=p(Ln);if(t.empty()){window.setTimeout(arguments.callee,500);return}t.bind(e.trigger[Ln],function(t){try{var n=e.args.slice(0);n[0]=t,tn("^~",3,e.name),e.name.apply(null,n),tn("$~",3,e.name)}catch(r){en(e.name,r)}})})()})(vn);else{tn("^",1,vn.name);try{vn.name.apply(null,vn.args),vn.name.rf=!0}catch(c){en(vn.name,c)}tn("$",1,vn.name)}}for(var wn=0;wn<qt.length;wn++){var Ln=qt[wn],vn=Ln.fn;for(var kn=1;kn<vn.args.length;kn++)typeof vn.args[kn]=="string"&&vn.args[kn].charAt(0)=="@"&&(vn.args[kn]=e.options[vn.args[kn].substring(1)]);(function(e){Ln.target.bind(e.fire,function(t){e.args[0]=t,e.name.apply(null,e.args)})})(vn)}if(window.self==window.top||window.top.location.host.indexOf("renren.com")<0){var An="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAIsUlEQVRYw62XeWxcxR3HPzPv2NPrtRPbG8d1DDlMkhKcJhBCoLFLBSWFYAilHBIFVUKpOCKo1AMJKEhVhVSJo6JClUpoSqAtouRQVdTSmkArAgmKgXKEOMRJnMTO2vF6b79jpn+8t4sRl0pZafaN5s3s9/v77e/4jrioaylO49t8mZ91LaQ8Tb+nuM/xWPuvPEc+ba/5ZYFf1kbKNulXmivKDv2OD1Iw+FngAOb/C3x5G+tti5uA/ooLU1UQAqQArdn8eee/EIH+DJ0RixuBOzSklYKJMlS9AFgCCtCKbbUz56fo/CRvmP8jcCpi8TBwY23N8WC0CEqHVhMMNA+9nOfIuhbWC8lNFYcB4JEvTODyDLdHLO4D0iJcq3pwdCqYzwS3DGiK0bMhyaTrky464Ck2faG/YH0bqajFdgS9ACL8qrownAsAZcjIktAUg4QFGnqLDpQcUIp7Py0Yzc+J7GURi+1AV81qR0HZgeOFwO0RE5I2NNjBUwNaQ9EJPGQItr2U5/5PwzC6Mp/84tutpKIWbwhBRhBEdo2EBloT0N4As+LQEAHbhJbT59Ox5EykZeLmJ4mZEDHJdNn8dajCGECPzbJRP5h/pgciJtuBNEDr/Pk0t3cggOzwB0weO/pRN0YirLn++zS2tqJ1EAmlXI5XnnmayZPZtGWxa00DD0qDO7QmvSbG8LTL5XvLvCl6z/o4+MWzuD0e4WFDwLKLL2bBilWAQEiJEAajB97j9R3P4E1PA9B38yYaWzOgNVortPbRSuFUK7y4ZTMTY1kqLhSc0IMaNAzuKbLc6MrAqiTrT4/z/LwoD80x6WqI8gNDEl20ejWL13wdkEjDDIY0SbXOIbNwCYf2vsLCNX109ZyDlEZIUCKEQAiBNE2a53Yw9Prr+Bq6lq/kwg2XcXJ0gtypXGaWYMC48jQ6LZNXfUU6DKoe2yAaiUY476qrMSwbaZgIadUJSMMinmoi0TSb+eecj2lHEcL4CDgIBBCJx8keGyE3PkmpUGTZmnNo+0o7+3bvAxiWUnKj40NLVxfrbriWRKoBBcxZ1I0djYWW1ay3kEZt2Mw/+wKiiTSGYSMN+8N3IVkhDZAGc89YgtIwNZnn8AeHkZbEjMVxfJZLx2e568OFV6wj3dJEKV9AKZizsBuEREgDaRhIaSKMGQRMC2naSNMi73o88Pe/8NjALqRhBfukiZAmIMks6MZT4Gk48PYBCoUi0WQSV5GWriKdmD0b13c5eugIrgJPgWFHAzcKAyECa57e9yrpOzfSefsm/nP0RGi1zc1/2Mz7BYufPvVHfrLlmdBrBgiJQiCtCHayAdeH0RPjFIslpl0fxwfp+OSmXUWxWOLk2DiuT0hCo7QIvSAR0uS3r+5j5892MpUvs/GR3yANC8O0OT7hcOult4ILW1/4N64PQpoYholt2RimiZVoxPGhUKxSKBaZOFXE9RmQrs++7NgpCoUi2ZOTVD1wfHBcha90QCAcU+NlkpEkTMOb7x1GaYk0bIb2D/H8y89DBQqTVVxP1TPCMAxSyRiZlgY0UHF8sidPkS9OU3EZlBWXQdeHkZFRzKhN1QtKqGkaRCM2UkgII/vg/oNcc+c1UAaq4PogTZtStsQDjz4QrFcISBN4jzAj+q66kkUdKQztsue1IVyf3A9/tWWHzFrscH1yg3sPUHFdyi7ELci0twbpJMKEEoKOWDNjh8egDCkjXk/L2y7thyJQglWLFtb3ixnFzY7GWHFhHxmziiiVmHbZBDroBaJKpFSs9sUa46j8FKvOXUr3ypWIMJiENJBCsnLhQrb9bS9OwePnt32P1V9bghCCb57dg+FDz/wu7t54FS1NCYRWKK0YP5YllrDR2qe5rYU9/9hFY4Tc4suuu25u5wLqpThSYl9zlJ7u2XDR9Vdz2tKvYpgz8juc5wpVXE+QTqdoSCYDF2uN6zpUymUsEwQ+yndQnsv9V/+Cu568Dd9z0Mrjz489zsjwCNMuazvP639JzlA2a9sbGPQ1zMp8WNf/9Mvn0FqjlUIrn6ZUnExLiljEwPcdlOfg+w4Cn1jURApd7wUvbP0nkxP5eoMC0NJAaTAM2D+w7cNuqBvJWwY5X9V6ukJrRW4izxP3PMk1P/4OicYUWggUIHVASAhB8PsKpTyyI2O8t/sdtv96BxPHT/GNW75VJwQwdmwUX4VawgLzNAnFkKAfdCnykzlSTWm0UqzacC5b7trK4CX30L1yEZ2LOxFCEE8lqRQq9SB797V3GR/JMnF8AoD5q8/gglsv4ayeeSG45ujBYSrlaXwN0y7ELBA/Wg2qZrVkQAp6F/cs5ZLrNgAChWTwrWPs332AkTeGcSoOY/uP1YEz3R0AJGenSMxK0dY9l+aOZma1NNDRlqIhbqJ8F9A89ejjHP1gBKXJxW2alALTMuv9mbLLc0rQ+86+t1nRu4bW9gxSaFb2zGNeVwuT61bguIpyxQ0LlCBiW0QjJlprUskIiZhFQ8LGEAql/Dr4zq3PciQAZ9rlwZgVqqy714YxoCBbotM2eUMK0q3tLVx507U0NqdByLC5hGkpJCBwpl0c10MphQCkhEjEQkrQykcpj2q5zM6tzzL0zkF8DUrzYipCX03aGWvnhfEpIGEzNVXhhBBcUSqUeWvPIMlUkrb2NrRW1IW31jiOg9YK0xRYloFlSUxTIIRGK4/cxDh7d+1m2++fZex4tga+zfH5btxmuiYuxcYzwbLAtoKoFBJG89xgm/yudsVqbErRfeZiOhd0kW5uoq1jDiCDKosANIeHDlEtVzgydIhD7x/k5IksOgBFaXKOx72G5BEpA9luhAVA3HJW/SYTaHsbhAFTVZZZJg9LQe9MVSzC+joDu66Ua7FUeyrNILDZ9XjilEe+UYBlgm1AIhIK2hqT2iHXCeZRizeFpK/i0GmZ9KPpE9ADdAnxcSGrNTlgUMMwMOB6vHiIGZcRE3Ah7Qe8PQWGgP8CJa7Fxwgrv18AAAAASUVORK5CYII%3D",On="data:image/png;base64,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",Mn="data:image/png;base64,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%3D",_n="data:image/png;base64,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%3D",Dn="data:image/png;base64,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%3D",Pn=".xnr_dialog{position:fixed;color:black;font-size:12px;background:rgba(0,0,0,0.5);padding:10px;-moz-border-radius:8px;border-radius:8px}.xnr_dialog *{padding:0;margin:0;line-height:normal}.xnr_dialog h1{font-size:18px;font-weight:bold}.xnr_dialog a{color:#3B5990}.xnr_dialog table{width:100%;border-collapse:collapse}.xnr_dialog .title{padding:4px;background:#3B5998;color:white;text-align:center;font-size:12px;-moz-user-select:none;-khtml-user-select:none;cursor:default}.xnr_dialog .btns{background:#F0F5F8;text-align:right;border-top:1px solid lightgray}.xnr_dialog .btns>input{border-style:solid;border-width:1px;padding:2px 15px;margin:3px;font-size:13px;cursor:pointer}.xnr_dialog .ok{background:#5C75AA;color:white;border-color:#B8D4E8 #124680 #124680 #B8D4E8}.xnr_dialog .ok:active{border-color:#124680 #B8D4E8 #B8D4E8 #124680}.xnr_dialog .cancel{background:#F0F0F0;border-color:white #848484 #848484 white;color:black}.xnr_dialog .cancel:active{border-color:#848484 white white #848484}",Hn='<style type="text/css">.xnr_op{width:500px;z-index:200000}.xnr_op .options{height:300px;background:#FFFFFA;clear:both}.xnr_op .category{width:119px;border-right:1px solid lightgray;overflow-x:hidden;overflow-y:auto;height:300px;float:left}.xnr_op li{list-style-type:none}.xnr_op .category li{cursor:pointer;height:30px;overflow:hidden}.xnr_op .category li:hover{background:#ffffcc;color:black}.xnr_op li:nth-child(2n){background:#EEEEEE}.xnr_op li.selected{background:#748AC4;color:white}.xnr_op .category span{left:10px;position:relative;font-size:14px;line-height:30px}.xnr_op .pages{width:380px;margin-left:120px}.xnr_op .p{overflow:auto;height:280px;padding:10px}.xnr_op .p>div{min-height:19px;padding:2px 0;width:100%}.xnr_op .p>div *{vertical-align:middle}.xnr_op .group{margin-left:5px;margin-top:3px;table-layout:fixed}.xnr_op .group td{padding:2px 0}.xnr_op input[type="checkbox"],.xnr_op input[type="radio"]{margin-right:4px;cursor:pointer}.xnr_op button{background-color:#EFEFEF;background:-moz-linear-gradient(top,#FDFCFB,#E7E2DB);background:-o-linear-gradient(top,#FDFCFB,#E7E2DB);background:-webkit-gradient(linear,0 0,0 100%,from(#FDFCFB),to(#E7E2DB));color:black;border-color:#877C6C #A99D8C #A99D8C;border-width:1px;border-style:solid;-moz-border-radius:3px;border-radius:3px;font-size:12px;padding:'+(e.acore==l?1:3)+'px}.xnr_op button:hover:not([disabled]){background-color:#CCC4B9;background:-moz-linear-gradient(top,#FDFCFB,#CCC4B9);background:-o-linear-gradient(top,#FDFCFB,#CCC4B9);background:-webkit-gradient(linear,0 0,0 100%,from(#FDFCFB),to(#CCC4B9))}.xnr_op button[disabled]{color:grey}.xnr_op button:active:not([disabled]){background:#C1BDB6;background:-moz-linear-gradient(top,#C1BDB6,#CCC4B9);background:-o-linear-gradient(top,#C1BDB6,#CCC4B9);background:-webkit-gradient(linear,0 0,0 100%,from(#C1BDB6),to(#CCC4B9))}.xnr_op label{color:black;font-weight:normal;cursor:pointer}.xnr_op label[for=""]{cursor:default}.xnr_op .p span{cursor:default}.xnr_op span[tooltip]{margin:0 2px;height:16px;width:16px;display:inline-block;cursor:help}.xnr_op span.info{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuUlEQVQ4y2NgoDbQ9upiiK5eznD17sv/yDi2ajlYDi9wSZ+NoREdu2bNxa7ZJnkWXHPepH1YMUzeNnU6prPRNaMDdEOU3boRBoSWLWXApxmbIRHlyxAG4LIdFx+mHqcByBifNwgagE0zWQbgig24AWFogUgIgxNW7QpEIIKiBJsr8DlfxXMSalpwTpuJPyFN2ItIjXlzsKdGx9h2gknZLqYFf37gktJmCM2dhGFQaE4/A6eYKtUzLwMAfM0C2p5qSS4AAAAASUVORK5CYII%3D")}.xnr_op span.warn{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA1ElEQVQ4y2NgoCVYz8BgsJyBwYQszUCNsv8ZGP6D8FIGBlWSDYBphmGSNC9jYNAGabqUkvL/cmYm2IAlDAympNsOA6S4YjUDgxVI8dX8fLj+6+XlYAPWsbB4kGQ7hMtAvCvWsrN7gxRdq6jAMOBWSwvYgE1sbJFE+x3FBUiuaGBgYMKp+Xpz839c4P7UqWA1QJfmomgGmYgR8thcgOSKmQwMrBi23+js/E8IPJ47FyNAudBTHbEY7gJjBgbdDgaG7k4GhqmEcDcDw2Qg7ogA5hWq5FgAlMwfVWL5pDoAAAAASUVORK5CYII%3D")}.xnr_op input:not([type]),.xnr_op textarea{border-width:1px;border-style:solid;-moz-border-radius:3px;border-radius:3px;padding:1px;border-color:#877C6C #A99D8C #A99D8C}.xnr_op input:not([type]):focus,.xnr_op textarea:focus{border-color:#3A6389;-moz-box-shadow:inset 0 0 1px #005EAC;-webkit-box-shadow:inset 0 0 1px #005EAC;box-shadow:inset 0 0 1px #005EAC}.xnr_op textarea{resize:none;-moz-resize:none}.xnr_op .fp{text-align:center;vertical-align:middle;width:400px;height:300px;display:table-cell}.xnr_op .fp>*{padding:5px}.xnr_op .icons>a{margin:8px}.xnr_op .icons img{width:29px}.xnr_op .icons img:hover{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-o-transform:scale(1.1)}</style>';Hn+='<div class="title">改造选项</div><div class="options"><div class="category"><ul>'+Rt+'</ul></div><div class="pages"><div class="fp"><h1><span>人人网改造器</span> <span>'+e.version+'</span></h1><p><b>Copyright © 2008-2013</b></p><p><a href="mailto:xnreformer@gmail.com">xnreformer@gmail.com</a></p><p><a href="http://xiaonei-reformer.googlecode.com/" target="_blank">项目主页</a></p><p class="icons"><a href="http://userscripts.org/scripts/show/45836" title="GreaseMonkey脚本" target="_blank"><img src="'+An+'"/></a><a href="https://chrome.google.com/extensions/detail/bafellppfmjodafekndapfceggodmkfc" title="Chrome/Chromium扩展" target="_blank"><img src="'+Mn+'"/></a><a href="http://code.google.com/p/xiaonei-reformer/downloads/list" title="Firefox扩展" target="_blank"><img src="'+On+'"/></a><a href="http://code.google.com/p/xiaonei-reformer/downloads/list" title="Safari扩展" target="_blank"><img src="'+_n+'"/></a><a href="http://code.google.com/p/xiaonei-reformer/downloads/list" title="Opera扩展" target="_blank"><img src="'+Dn+'"/></a></p></div></div></div><div class="btns"><input type="button" value="确定" class="ok"/><input type="button" value="取消" class="cancel"/></div>',p("@style").attr("type","text/css").text(Pn).addTo(document);var Bn=p("@div").attr("class","xnr_op xnr_dialog").css("display","none").html(Hn).addTo(document);Bn.find(".pages").add(p(Vt)).bind("mouseover",function(e){var t=p(e.target);const n="optionsMenu_tooltip";Wt(n)&&(zt(n).remove(),Xt(n));if(!t.attr("tooltip"))return;e.stopPropagation();var r=t.rect(),i=zt(n,p("@div").css({maxWidth:"300px",background:"#FFFFBF",border:"1px solid #CFCF3D",position:"fixed",zIndex:"200001",padding:"6px 8px 6px 8px",fontSize:"13px",left:r.right+3+"px",top:r.bottom+3+"px","word-wrap":"break-word"})),s=e.target.getAttribute("tooltip").split("\n");for(var o=0;o<s.length;o++)p("@div").text(s[o]).addTo(i);i.addTo(document)},!0),Bn.find(".category ul").bind("click",function(e){var t=p(e.target);t.prop("tagName")=="SPAN"&&(t=t.superior()),Bn.find(".pages>div").hide().eq(t.index()+1).show(),Bn.find(".category li.selected").removeClass("selected"),t.addClass("selected")}),Bn.find(".cancel").bind("click",function(t){Bn.hide();for(var n in e.options)if(typeof e.options[n]=="object"){var r=e.options[n];for(var i in r){var s=Bn.find("#"+i);if(s.empty())continue;s.val(r[i])}}else{var s=Bn.find("#"+n);if(s.empty())continue;switch(s.attr("fmt")){case"date":s.val(on(e.options[n]));break;default:s.val(e.options[n])}s.attr("master")&&nn(s)}}),Bn.find(".ok").bind("click",function(t){var n=!0;Bn.find("*[verify]:not([disabled])").each(function(){var e=p(this),t=JSON.parse(e.attr("verify"));for(var r in t)if(!e.val().match(new RegExp(r))){var i=e;while(i.superior().prop("className")!="pages")i=i.superior();var s=i.index();return Bn.find(".pages>div").hide().eq(s).show(),Bn.find(".category li").removeClass("selected").eq(s-1).addClass("selected"),window.alert(t[r]),this.focus(),n=!1,!1}});if(!n)return;for(var r in e.options)if(typeof e.options[r]=="object"){var i=e.options[r],s=!1;for(var o in i){var u=Bn.find("#"+r+"_"+o);if(u.empty()||u.prop("disabled")==1)continue;var a=u.val();i[o]!=a&&(s=!0,i[o]=a)}s&&Gt(r,i)}else{var u=Bn.find("#"+r);if(u.empty()||u.prop("disabled")==1||u.attr("fmt"))continue;var a=u.val();e.options[r]!=a&&Gt(r,a)}document.location.reload()}),Bn.find("div.title").bind("mousedown",function(e){if(e.button!=0)return;var t=zt("drag_optionMenu"),n=Bn.rect();t.x=e.clientX-n.left,t.y=e.clientY-n.top,e.target.style.cursor="move",p(document).css("-khtml-user-select","none")},!0).bind("mouseup",function(e){Wt("drag_optionMenu")&&(Xt("drag_optionMenu"),e.target.style.cursor=null,p(document).css("-khtml-user-select",""))},!0),p(document).bind("mousemove",function(e){if(Wt("drag_optionMenu")){var t=zt("drag_optionMenu");Bn.css({left:e.clientX-t.x+"px",top:e.clientY-t.y+"px"})}},!0);var jn=p("@div").attr("class","menu xnr_opt").add(p("@div").attr("class","menu-title").add(p("@a").attr({href:"javascript:;",onclick:"return false;"}).text("改造")));jn.find("a").bind("click",function(){Bn.show().css({top:Math.floor(window.innerHeight-Bn.prop("offsetHeight"))/2+"px",left:Math.floor(window.innerWidth-Bn.prop("offsetWidth"))/2+"px"});var e=[20154,20154,32593,25913,36896,22120];for(var t=0;t<e.length;t++)e[t]=String.fromCharCode(e[t]);Bn.find(".fp>h1>span").eq(0).text(e.join("")),p("#xnr_optip").remove()})}for(var mn=1;mn<=3;mn++)$t(mn,function(e){tn("#"+e,1),e==2&&((window.self==window.top||window.top.location.host.indexOf("renren.com")<0)&&jn.addTo(p(".nav-body .nav-other"),0),Wt("css_block")?zt("css_block").addTo(document):zt("css_block",p("@div").addTo(document)));for(var t in G){if(t!="*"&&!Ut(t))continue;for(var n=0;n<G[t][e].length;n++){var r=G[t][e][n];if(r.trigger)for(var i in r.trigger)(function(e){(function(){var t=p(i);if(t.empty()){window.setTimeout(arguments.callee,500);return}t.bind(e.trigger[i],function(t){try{var n=e.args.slice(0);n[0]=t,tn("^~",3,e.name),e.name.apply(null,n),tn("$~",3,e.name)}catch(r){en(e.name,r)}})})()})(r);else{tn("^",1,r.name);try{r.name.apply(null,r.args),r.name.rf=!0}catch(s){en(r.name,s)}tn("$",1,r.name)}}}});$t(1,function(){var t="XNR"+Math.floor(Math.random()*1e4);const n="if(window.asyncHTMLManager){window.asyncHTMLManager.addEvent('load',function(){var evt=document.createEvent('HTMLEvents');evt.initEvent('"+t+"',true,true);"+"document.documentElement.dispatchEvent(evt)"+"})"+"}";Jt(n),p(document).bind(t,function(t){t.stopPropagation(),e.url=document.location.href,tn("async @ "+e.url,2);for(var n=0;n<=3;n++)for(var r in G){if(r=="*"||!Ut(r))continue;for(var i=0;i<G[r][n].length;i++){var s=G[r][n][i];if(s.trigger)for(var o in s.trigger)(function(e){p(o).bind(e.trigger[o],function(t){try{var n=e.args.slice(0);n[0]=t,tn("^=~",3,s.name),e.name.apply(null,n),tn("$=~",3,s.name)}catch(r){en(e.name,r)}})})(s);else{if(s.once&&s.name.rf)continue;tn("^=",2,s.name);try{s.name.apply(null,s.args),s.name.rf=!0}catch(u){en(s.name,u)}tn("$=",2,s.name)}}}},!0)})}function Rt(e,t){var n=document.cookie.split(";");e=escape(e);for(var r=0;r<n.length;r++){var i=n[r].replace(/^ +/g,"");if(i.indexOf(e+"=")==0)return unescape(i.substring(e.length+1,i.length))}return t||""}function Ut(t,n){const r={home:"renren\\.com/\\d+$|renren\\.com/\\d+[#?]|/[a-zA-Z0-9\\-]{5,}\\.renren\\.com/|guide\\.renren\\.com/[Gg]uide"
,feed:"renren\\.com/\\d+$|renren\\.com/\\d+[#?]|/guide\\.renren\\.com/[Gg]uide#?$|#/guide",profile:"renren\\.com/[Pp]rofile|renren\\.com/[^/]+/[Pp]rofile|/[a-zA-Z0-9_\\-]{5,}\\.renren\\.com/$|renren\\.com/[0-9]+/[Pp]rofile|/renren\\.com/\\?|/www\\.renren\\.com/\\?|/[a-zA-Z0-9_]{5,}\\.renren.com/\\?id=|/[a-zA-Z0-9_]{5,}\\.renren.com/\\?.*&id=|[a-zA-Z0-9_]{5,}\\.renren\\.com/innerProfile|renren\\.com/[a-zA-Z0-9_]{6,20}$",blog:"/blog\\.renren\\.com/|#//blog/|#!//blog/",forum:"/club\\.renren\\.com/",lover:"/lover\\.renren\\.com/",lover_blog:"/lover\\.renren\\.com/note/",pages:"/page\\.renren\\.com/",page_home:"/page\\.renren\\.com/[^/]+$|page\\.renren\\.com/[^/]+\\?|/page\\.renren\\.com/[^/]+/index",page_blog:"/page\\.renren\\.com/[^/]+/note/\\d+",status:"/status\\.renren\\.com/|#//status/|#!//status/",photo:"/photo\\.renren\\.com/getphoto\\.do|/photo\\.renren\\.com/gettagphoto\\.do|/photo\\.renren\\.com/photo/sp/|/photo\\.renren\\.com/photo/[0-9]+/photo-|/photo\\.renren\\.com/photo/[0-9]+/[^/]+/photo-|/page\\.renren\\.com/[^/]+/photo/|page\\.renren\\.com/[^/]+/channel-photoshow-|event\\.renren\\.com/event/[0-9]+/[0-9]+/photo/[0-9]+|lover\\.renren\\.com/photo/",album:"photo\\.renren\\.com/getalbum|photo\\.renren\\.com/.*/album-[0-9]+|photo\\.renren\\.com/photo/.*/album-profile||page\\.renren\\.com/.*/album|page\\.renren\\.com/.*/channel-albumshow-|/photo/album\\?|photo\\.renren\\.com/photo/ap/|event\\.renren\\.com/event/[0-9]+/photos|event\\.renren\\.com/event/[0-9]+/stars|lover\\.renren\\.com/album/",friend:"/friend\\.renren\\.com/|#!//friend/",share:"/share\\.renren\\.com/|#//share/|#!//share/",act:"/act\\.renren\\.com/",request:"/req\\.renren\\.com/",searchEx:"/browse\\.renren\\.com/searchEx\\.do|/browse\\.renren\\.com/s/",musicbox:"/music\\.renren\\.com/box",fm:"/fm\\.renren.com/",xiaozu:"/xiaozu\\.renren\\.com/",gossip:"/gossip\\.renren\\.com/",zhan:"/zhan\\.renren\\.com/"},i={home:"/browse.renren.com/",profile:"/www.renren.com/getoutnc"};return n||(n=e.url),r[t]!=null&&n.match(r[t])!=null&&(i[t]==null||n.match(i[t])==null)}function zt(t,n){return e.storage[t]!=undefined?e.storage[t]:(n==undefined?e.storage[t]=new Object:e.storage[t]=n,e.storage[t])}function Wt(t){return e.storage[t]!=undefined}function Xt(t){delete e.storage[t]}function Vt(e,t,n,r,i){const s=50;var o=p("@div").css({position:"fixed",backgroundColor:"#F0F5F8",border:"1px solid #B8D4E8",zIndex:1e5,overflow:"hidden"}),u=/^(\d+)x\d+([+-]?)(\d*)([+-]?)(\d*)$/.exec(n);u||(u=["","200","+","5","-","5"]),o.css("width",u[1]=="0"?"auto":u[1]+"px").css((u[2]||"+")=="+"?"left":"right",(u[3]||"0")+"px").css((u[4]||"-")=="+"?"top":"bottom",(u[5]||"0")+"px");var a=p("@a").css({cssFloat:"right",fontSize:"x-small",color:"white",cursor:"pointer"}).text("关闭").bind("click",function(){o.remove()});o.add(p("@div").text(e||"提示").add(a).css({background:"#526EA6",color:"white",fontWeight:"bold",fontSize:"normal",padding:"3px"})),o.add(p("@div").css("margin","5px").html(t)).addTo(document.body);var f=Math.floor(o.prop("clientHeight"));return o.css("height","0px"),window.setTimeout(function(){try{var e=parseInt(o.css("height"));if(e<f){var t=f-e;o.css("height",e+(t>i?i:t)+"px"),window.setTimeout(arguments.callee,s)}else{window.setTimeout(function(){try{var e=parseInt(o.css("height"));e<=0?o.remove():(o.css("height",(e>i?e-i:0)+"px"),window.setTimeout(arguments.callee,s))}catch(t){}},r*1e3),a.text("关闭("+r+")");var n=setInterval(function(){!o||r<=0?clearInterval(n):(r--,a.text("关闭("+r+")"))},1e3)}}catch(u){}},s),o}function $t(t,n){var r=3;if(e.acore==h)r=e.loadStage,r==1&&(t==1||t==2)&&(r=t);else switch(document.readyState){case"loading":r=0;break;case"loaded":case"interactive":t==1||t==2?r=t:r=2}t>r?t<3?document.addEventListener("DOMContentLoaded",function(){n(t)},!1):window.addEventListener("load",function(){n(t)},!1):n(t)}function Jt(e,t){if(!e)return;e="try{"+e+"}catch(ex){};",t||(e="(function(){"+e+"})();"),p("@script").text(e).addTo(document).remove()}function Kt(e){if(Wt("css_block"))var t=zt("css_block");else var t=zt("css_block",p("@div").addTo(document));return t.addTo(document),p("@style").attr("type","text/css").text(e).addTo(t)}function Qt(e){Kt(e+"{display:none !important}"),$t(1,function(){p(e).remove()})}function Gt(t,l){t&&(e.options[t]=l);var c=JSON.stringify(e.options);switch(e.agent){case n:GM_setValue("xnr_options",c);break;case r:XNR_save(c);break;case i:chrome.extension.sendMessage({action:"save",data:c});break;case a:sogouExplorer.extension.sendMessage({action:"save",data:c});break;case s:safari.self.tab.dispatchMessage("xnr_save",c);break;case o:e.scriptStorage.xnr_options=c;break;case u:e.oexSendRequest({action:"save",data:c});break;case f:e.mxRt.storage.setConfig("options",c)}}function Yt(t,l){if(typeof l=="function"){var c;switch(e.agent){case n:l(GM_getValue(t,null));break;case i:chrome.extension.sendMessage({action:"storage",pref:t},function(e){l(e.data)});break;case a:sogouExplorer.extension.sendMessage({action:"storage",pref:t},function(e){l(e.data)});break;case r:l(XNR_storage(t));break;case s:var h=Math.floor(Math.random()*1e6);safari.self.addEventListener("message",function(e){e.name=="xnr_storage_resp"&&e.message.id==h&&(safari.self.removeEventListener("message",arguments.callee,!1),l(e.message.data))},!1),safari.self.tab.dispatchMessage("xnr_storage",{pref:t,id:h});break;case o:l(window.opera.scriptStorage[t]);break;case u:e.oexSendRequest({action:"storage",pref:t},function(e){l(e)});break;case f:l(e.mxRt.storage.getConfig(t))}}else switch(e.agent){case n:GM_setValue(t,l);break;case r:XNR_storage(t,l);break;case i:chrome.extension.sendMessage({action:"storage",pref:t,data:l});break;case a:sogouExplorer.extension.sendMessage({action:"storage",pref:t,data:l});break;case s:safari.self.tab.dispatchMessage("xnr_storage",{pref:t,data:l});break;case o:e.scriptStorage[t]=l;break;case u:e.oexSendRequest({action:"storage",pref:t,data:l});break;case f:e.mxRt.storage.setConfig(t,l)}}function Zt(t,l,c,h){h||(h="GET");if(h=="POST"&&t.indexOf("renren.com")>0){var d=e.tokens.reqToken||p("input[type='hidden'][name='requestToken']").val(),v=e.tokens.rtk||p("input[type='hidden'][name='_rtk']").val();v&&t.indexOf("_rtk=")==-1&&(t+=t.indexOf("?")==-1?"?":"&",t+="_rtk="+v),d&&t.indexOf("requestToken=")==-1&&(t+="&requestToken="+d)}switch(e.agent){case r:XNR_get(window,t,l,c,h);break;case n:try{l!=null?GM_xmlhttpRequest({method:h,url:t,onload:function(e){l.call(window,e.status==200?e.responseText:null,t,c)},onerror:function(e){l.call(window,null,t,c)}}):GM_xmlhttpRequest({method:h,url:t})}catch(m){l!=null&&l.call(window,null,t,c)}break;case i:l==null?chrome.extension.sendMessage({action:"get",url:t,method:h}):chrome.extension.sendMessage({action:"get",url:t,method:h},function(e){l.call(window,e.data,t,c)});break;case a:sogouExplorer.extension.sendMessage({action:"get",url:t,method:h},function(e){l!=null&&l.call(window,e.data,t,c)});break;case s:var g=t.match(".*?://[^/]+")[0];if(/renren\.com$/.test(g)){var y="xnr_ajax_"+Math.floor(Math.random()*1e6),b=p("@div").attr({style:"display:none",id:y+"_response",url:t}).addTo(document),w="var count=0;(function(){if(!window.XN || !XN.net || !XN.net.xmlhttp){if(count<20){setTimeout(arguments.callee, 300);count++;}else{ajaxagent('null')}return;}try{new XN.net.xmlhttp({url:document.getElementById('"+y+"_response').getAttribute('url'),"+"method:'"+h+"',"+"onSuccess:function(r){"+"if(r.readyState==4){"+"ajaxagent(r.status==200?r.responseText:'null')"+"}"+"},"+"onError:function(r){"+"ajaxagent('null')"+"}"+"});"+"}catch(ex){"+"ajaxagent('null')"+"}"+"function ajaxagent(content){"+"document.getElementById('"+y+"_response').textContent=content;"+"var evt=document.createEvent('HTMLEvents');"+"evt.initEvent('"+y+"',true,true);"+"document.documentElement.dispatchEvent(evt)"+"}"+"})()";p(document).bind(y,function(){p(document).unbind(y,arguments.callee,!0);var e=b.text();b.remove(),e==="null"?l.call(window,null,t,c):l.call(window,e,t,c)},!0),Jt(w)}else{var y=Math.floor(Math.random()*1e6);l!=null&&safari.self.addEventListener("message",function(e){e.name=="xnr_get_data"&&e.message.id==y&&(safari.self.removeEventListener("message",arguments.callee,!1),l.call(window,e.message.data,t,c))},!1),safari.self.tab.dispatchMessage("xnr_get",{id:y,url:t,method:h})}break;case o:try{var E=new window.opera.XMLHttpRequest}catch(m){en("$get","未安装跨域支持脚本，使用非跨域模式");var E=new window.XMLHttpRequest}l!=null&&(E.onload=function(){l.call(window,E.status==200?E.responseText:null,t,c)},E.onerror=function(e){l.call(window,null,t,c)}),E.open(h,t,!0);try{E.send()}catch(m){en("$get",m),l!=null&&l.call(window,null,t,c)}break;case u:var S={action:"get",url:t,method:h};l==null?e.oexSendRequest(S):e.oexSendRequest(S,function(e){l.call(window,e,t,c)});break;case f:var E=new XMLHttpRequest;l!=null&&(E.onload=function(){l.call(window,E.status==200?E.responseText:null,t,c)},E.onerror=function(e){l.call(window,null,t,c)}),E.open(h,t,!0);try{E.send()}catch(m){en("$get",m),l!=null&&l.call(window,null,t,c)}}}function en(t,i){typeof t=="function"&&(t=/function (.*?)\(/.exec(t.toString())[1]);var s="";typeof i=="object"?(i&&(i.name!=null&&(s="错误名称："+i.name+"\n"),i.message!=null&&(s+="错误信息："+i.message+"\n")),s+="\n"):s=i.toString();if(s){var o="在 "+t+"() 中发生了一个错误。\n"+s;e.agent==r?XNR_log(o):e.agent==n?GM_log(o):console.log(o);var u=p(".xnr_op #diagnosisInfo");u.exist()&&u.val(u.val()+s)}}function tn(t,i,s){e.options.debuglv>i&&(typeof s=="function"&&(s=/function (.*?)\(/.exec(s.toString())[1]),s&&(t=s+" "+t),t="["+(new Date).getTime()+"]:"+t,e.agent==r?XNR_log(t):e.agent==n?GM_log(t):console.log(t))}function nn(e){var t=e.superior();e.val()?t.find("*").prop("disabled",!1):t.find("*:not([id='"+e.attr("id")+"'])").prop("disabled",!0)}function rn(e){var t=e.find("a[stats]").attr("stats");if(t&&(/_\d+_(\d+)_\d+$/.test(t)||/_\d+_(\d+)_$/.test(t)||/sfet=(\d+)/.test(t))){var n=parseInt(RegExp.$1),r=Math.floor(n/100);switch(r){case 0:return"comment";case 1:return n==102?"share_blog":n==103||n==104?"share_photo":n==110?"share_video":"share_other";case 2:if(n==204)return"forum";if(n>=209&&n<=216)return"xiaozu";break;case 4:return"ads";case 5:if(n==501)return"profile";if(n==502)return"status";break;case 6:return"blog";case 7:return n==702?"tag":"photo";case 8:return"gift";case 10:if(n==1008)return"poll";break;case 11:return"pos";case 12:return"friend";case 15:return"movie";case 18:return n==1805?"music":n==1808?"profile":"vip";case 19:return"like";case 20:return n>=2003&&n<=2006||n==2009||n==2017||n==2032||n==2036?n==2003||n==2032?"share_blog":n==2004||n==2009||n==2036?"share_photo":n==2006?"share_video":"share_other":n>=2023&&n<=2026?"lover":"page";case 22:return"club";case 23:return"poll";case 24:return"app";case 27:return"event";case 28:return"levelup";case 29:return"comment";case 37:return"xiaozhan";case 50:if(n==5030)return"share_video";break;case 80:return n==8006?"contact":n==8007?"friend":"ads";case 81:if(n<=8182||n>=8190)return"ads";if(n==8185)return"connect";break;case 83:return"gift";case 86:return"music"}}else if(t==="NF_People")return"newbie";return""}function sn(e){var t=0,n=0;e=p(e);if(e.exist()&&e.find("li").exist())try{t=parseInt(e.find("ol.pagerpro li.current a, ol.p-page-list li.current a").text())-1;var r=e.find("ol.pagerpro").get();if(r)for(var i=0;i<r.childNodes.length;i++)r.childNodes[i].nodeType==8&&/共条(\d+)/.test(r.childNodes[i].textContent)&&(n=parseInt(RegExp.$1)-1);var r=e.find("ol.p-page-list>li:last-child>a");r.exist()&&/(\d+)$/.test(r.attr("href"))&&(n=parseInt(RegExp.$1));if(n<=0){var r=e.clone();r.find("ol.pagerpro,ul").remove();var s=r.text().replace(/\s/g,""),o=parseInt(/共([0-9]+)/.exec(s)[1])-1;if(t==0)var u=parseInt(/[0-9]+-([0-9]+)/.exec(s)[1]);else var a=parseInt(/([0-9]+)-[0-9]+/.exec(s)[1])-1,u=a/t;n=Math.floor(o/u)}}catch(f){en("$pager",f)}return{current:t,last:n}}function on(e,t){if(!(e instanceof Date)){if(e===0)return"未知";e=new Date(e)}if(isNaN(e.getTime()))return"未知";var n={"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};t||(t="yyyy-MM-dd HH:mm:ss");for(var r in n)if((new RegExp("("+r+")")).test(t)){prefix="";for(var i=RegExp.$1.length-n[r].toString().length;i>0;i--)prefix+="0";t=t.replace(RegExp.$1,prefix+n[r])}return t}function un(e,t){Jt(e);var n;if(typeof t=="string"){var r=p(t),n=r.text();return r.remove(),n}}function an(e){return this instanceof an?this.init(e):new an(arguments)}if(document.documentElement==null){window.setTimeout(arguments.callee,10);return}if(window.top==null)return;if(window.self!=window.top){if(document.designMode=="on")return;if(document.location.href.match(/proxy|ime.htm/i))return}var e={};e.version="3.4.6.525",e.miniver=525,e.storage={},e.userId=Rt("id","0"),e.url=document.location.href,e.options={},e.tokens={rtk:null,reqToken:null};const t=0,n=1,r=2,i=4,s=8,o=16,u=32,a=128,f=256,l=1,c=2,h=4;e.agent=t,e.acore=t,typeof GM_getResourceURL=="function"?(e.agent=n,e.acore=l):window.chrome?(e.agent=i,e.acore=c):typeof sogouExplorer=="object"&&sogouExplorer.extension?(e.agent=a,e.acore=c):window.safari?(e.agent=s,e.acore=c):window.opera?(opera.extension?e.agent=u:e.agent=o,e.acore=h):typeof XNR_save=="function"?(e.agent=r,e.acore=l):window.external&&typeof window.external.mxGetRuntime=="function"&&(e.agent=f,e.acore=c),e.acore==h&&(e.loadStage=0,window.addEventListener("load",function(){window.removeEventListener("load",arguments.callee,!0),e.loadStage=3},!0),document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!0),e.loadStage=1},!0),e.agent==u?(e.msgHandlers={},e.oexSendRequest=function(t,n){do var r=Math.floor(Math.random()*1e5);while(e.msgHandlers[r]!=null);e.msgHandlers[r]=n,t.reqId=r,opera.extension.postMessage(t)},opera.extension.onmessage=function(t){var n=t.data;e.msgHandlers[n.reqId]&&(e.msgHandlers[n.reqId].call(window,n.data),delete e.msgHandlers[n.reqId])}):e.scriptStorage=window.opera.scriptStorage),e.agent==f&&(e.mxRt=window.external.mxGetRuntime());var p=an;an.prototype={init:function(e){this.nodes=[];for(var t=0;t<e.length;t++){var n=e[t];if(n==null)continue;typeof n=="string"?n==""?this.nodes=this.nodes.concat(document.createTextNode("")):n.charAt(0)=="@"?this.nodes=this.nodes.concat(document.createElement(n.substring(1))):this.nodes=this.nodes.concat(Array.prototype.slice.call(document.querySelectorAll(n))):n===document?this.nodes=this.nodes.concat(document.documentElement):n.nodeType||n===window?this.nodes=this.nodes.concat(n):n instanceof an?this.nodes=this.nodes.concat(n.nodes):this.nodes=this.nodes.concat(Array.prototype.slice.call(n))}return this},each:function(e){if(typeof e=="function")for(var t=0;t<this.nodes.length;t++)try{if(e.call(this.nodes[t],t)!=null)break}catch(n){en("PageKit::each",n)}return this},get:function(e){try{return e==null?e=0:e<0&&(e+=this.nodes.length),this.nodes[e]}catch(t){return null}},eq:function(e){return an(this.get(e))},remove:function(e){return this.each(function(){(!e||this.childElementCount==0)&&this.parentNode!=null&&this.parentNode.removeChild(this)}),this.nodes=[],this},hide:function(){return this.each(function(){this.style.display="none"}),this},show:function(){return this.each(function(){this.style.display=null,this.style.visibility=null}),this},tag:function(e){if(!e)return this.get().tagName||"";typeof e=="string"?e=document.createElement(e):e instanceof an&&(e=e.get());if(e.nodeType){var t=this;this.each(function(n){var r=e.cloneNode(!1);while(this.childNodes.length>0)r.appendChild(this.childNodes[0]);this.parentNode.replaceChild(r,this),t.nodes[n]=r})}return this},size:function(){return this.nodes.length},empty:function(){return this.nodes.length==0},exist:function(){return this.nodes.length>0},heirs:function(e){try{return this.get(e).childElementCount}catch(t){return 0}},index:function(){try{var e=this.get().previousElementSibling,t=0;for(;e!=null;e=e.previousElementSibling)t++;return t}catch(n){return 0}},child:function(e){try{var t=this.get();return an(t.children[e>=0?e:t.childElementCount+e])}catch(n){return null}},superior:function(e){try{e||(e=1);if(e<=0)return this;var t=this.get();if(!t)return an([]);for(;e>0;e--)t=t.parentNode;return an(t)}catch(n){return null}},sibling:function(e){try{if(e>0){var t=this.get().nextElementSibling;for(;e>1&&t!=null;e--)t=t.nextElementSibling;return an(t)}if(e<0){var t=this.get().previousElementSibling;for(;e<-1&&t!=null;e++)t=t.previousElementSibling;return an(t)}return this}catch(n){return null}},add:function(e,t){var n=this.get();if(!n||n.nodeType!=1)return this;t==null&&(t=-1);if(t<0||t>=n.childElementCount)e instanceof an?e.each(function(){n.appendChild(this)}):e.nodeType==1&&n.appendChild(e);else if(e instanceof an){var r=n.children[t];e.each(function(){n.insertBefore(this,r)})}else e.nodeType==1&&n.insertBefore(e,n.children[t]);return this},addTo:function(e,t){return e instanceof an?e.add(this,t):(e===document||e.nodeType==1)&&an(e).add(this,t),this},move:function(e,t){return t instanceof an&&(t=t.get()),t==null?this:(e==="before"?this.each(function(){t.parentNode.insertBefore(this,t)}):e==="after"&&this.each(function(){t.parentNode.insertBefore(this,t.nextElementSibling)}),this)},find:function(e){var t=[];return this.each(function(){t=t.concat(Array.prototype.slice.call(this.querySelectorAll(e)))}),an(t)},filter:function(e){if(!e)return this;var t=[];return typeof e=="string"?this.each(function(){this.querySelector(e)&&t.push(this)}):typeof e=="function"?this.each(function(){e(this)&&t.push(this)}):typeof e=="object"&&this.each(function(){var n=!0;for(var r in e)if(this[r]!==e[r]){n=!1;break}n&&t.push(this)}),this.nodes=t,this},attr:function(e,t){switch(typeof e){case"object":for(var n in e)this.each(function(){e[n]!=null?this.setAttribute(n,e[n]):this.removeAttribute(n)});return this;case"string":if(arguments.length!==1)return t==null?(this.each(function(){this.removeAttribute(e)}),this):(this.each(function(){this.setAttribute(e,t)}),this);try{return this.get().getAttribute(e)}catch(r){return null}}return this},prop:function(e,t){switch(typeof e){case"object":for(var n in e)this.each(function(){this[n]=e[n]});return this;case"string":if(arguments.length!==1)return this.each(function(){this[e]=t}),this;try{return this.get()[e]}catch(r){return null}}return this},css:function(e,t){switch(typeof e){case"object":for(var n in e){var r=n.replace(/-[a-z]/g,function(e){return e.substring(1).toUpperCase()});r=="float"&&(r="cssFloat"),this.each(function(){this.style[r]=e[n]})}return this;case"string":var i=e.replace(/-[a-z]/g,function(e){return e.substring(1).toUpperCase()});i=="float"&&(i="cssFloat");if(t!=null)return this.each(function(){this.style[i]=t}),this;try{return this.get().style[i]}catch(s){return null}}return this},curCSS:function(e){try{if(typeof e=="string"){var e=e.replace(/-[a-z]/g,function(e){return e.substring(1).toUpperCase()});return window.getComputedStyle(this.get(),null)[e]}}catch(t){}return null},rect:function(e){try{var t=this.get().getBoundingClientRect(),n={},r={left:window.scrollX,right:window.scrollX,top:window.scrollY,bottom:window.scrollY,width:0,height:0};for(var i in r)n[i]=t[i],e&&(n[i]+=r[i]);return n}catch(s){return null}},addClass:function(e){return this.each(function(){var t=this.className;t?t.match(new RegExp("\\b"+e+"\\b"))||(this.className+=" "+e):this.className=e}),this},removeClass:function(e){return this.each(function(){var t=this.className;t&&t.match(new RegExp("\\b"+e+"\\b"))&&(this.className=t.replace(new RegExp("\\b"+e+"\\b"),"").replace(/^ +| +$/g,""))}),this},text:function(e){if(e!=null)return this.each(function(){this.textContent=e.toString()}),this;var t=this.get();return t==null?"":t.textContent||""},html:function(e){if(e!=null)return this.each(function(){this.innerHTML=e}),this;var t=this.get();return t==null?"":t.innerHTML||""},val:function(e){if(e!=null)return this.each(function(){switch(this.tagName){case"INPUT":switch((an(this).attr("type")||"").toLowerCase()){case"checkbox":case"radio":this.checked=e;break;default:this.value=e}break;case"TEXTAREA":case"SELECT":this.value=e;break;default:an(this).text(e)}}),this;var t=this.get();if(!t)return null;switch(t.tagName){case"INPUT":switch((an(t).attr("type")||"").toLowerCase()){case"checkbox":case"radio":return t.checked;default:return t.value};case"TEXTAREA":case"SELECT":return t.value;default:return an(t).text()}},bind:function(e,t,n){var r=e.split(",");return this.each(function(){for(var e=0;e<r.length;e++)this.addEventListener(r[e],t,!!n)}),this},unbind:function(e,t,n){var r=e.split(",");return this.each(function(){for(var e=0;e<r.length;e++)this.removeEventListener(r[e],t,!!n)}),this},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),an(e)},trigger:function(e){return this.each(function(){var t=document.createEvent("Events");t.initEvent(e,!0,!0),this.dispatchEvent(t)}),this}};switch(e.agent){case n:try{qt(JSON.parse(GM_getValue("xnr_options","{}")))}catch(fn){qt({})}break;case i:chrome.extension.sendMessage({action:"load"},function(e){qt(e.options)});break;case a:sogouExplorer.extension.sendMessage({action:"load"},function(e){qt(e.options)});break;case r:var ln=XNR_load();try{ln=JSON.parse(ln)}catch(fn){try{ln=JSON.parse(unescape(ln).replace(/\n/g,"\\u000a"))}catch(fn){ln={}}}qt(ln);break;case s:var cn=Math.random();safari.self.addEventListener("message",function(e){e.name=="xnr_load_data"&&e.message.id==cn&&(safari.self.removeEventListener("message",arguments.callee,!1),qt(e.message.data))},!1),safari.self.tab.dispatchMessage("xnr_load",cn);break;case o:try{qt(JSON.parse(window.opera.scriptStorage.xnr_options))}catch(fn){qt({})}break;case u:e.oexSendRequest({action:"load"},function(e){try{qt(JSON.parse(e))}catch(t){qt({})}});break;case f:var ln=e.mxRt.storage.getConfig("options");try{ln=JSON.parse(ln)}catch(fn){ln={}}qt(ln);break;default:throw"unsupported browser"}})();